var gd=Object.defineProperty;var vd=(t,e,n)=>e in t?gd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var zi=(t,e,n)=>vd(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function pi(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const pe={},zn=[],Mt=()=>{},Dl=()=>!1,Fr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),gi=t=>t.startsWith("onUpdate:"),Ve=Object.assign,vi=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},yd=Object.prototype.hasOwnProperty,ue=(t,e)=>yd.call(t,e),Y=Array.isArray,Kn=t=>Ws(t)==="[object Map]",Lr=t=>Ws(t)==="[object Set]",Ki=t=>Ws(t)==="[object Date]",te=t=>typeof t=="function",Te=t=>typeof t=="string",wt=t=>typeof t=="symbol",ye=t=>t!==null&&typeof t=="object",Nl=t=>(ye(t)||te(t))&&te(t.then)&&te(t.catch),Ul=Object.prototype.toString,Ws=t=>Ul.call(t),bd=t=>Ws(t).slice(8,-1),Fl=t=>Ws(t)==="[object Object]",yi=t=>Te(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ws=pi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Br=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},wd=/-\w/g,dt=Br(t=>t.replace(wd,e=>e.slice(1).toUpperCase())),_d=/\B([A-Z])/g,un=Br(t=>t.replace(_d,"-$1").toLowerCase()),qr=Br(t=>t.charAt(0).toUpperCase()+t.slice(1)),fo=Br(t=>t?`on${qr(t)}`:""),rn=(t,e)=>!Object.is(t,e),dr=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Ll=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},wr=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Ji;const Hr=()=>Ji||(Ji=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function bi(t){if(Y(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=Te(s)?Ed(s):bi(s);if(r)for(const o in r)e[o]=r[o]}return e}else if(Te(t)||ye(t))return t}const xd=/;(?![^(]*\))/g,Sd=/:([^]+)/,kd=/\/\*[^]*?\*\//g;function Ed(t){const e={};return t.replace(kd,"").split(xd).forEach(n=>{if(n){const s=n.split(Sd);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function De(t){let e="";if(Te(t))e=t;else if(Y(t))for(let n=0;n<t.length;n++){const s=De(t[n]);s&&(e+=s+" ")}else if(ye(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Od="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Cd=pi(Od);function Bl(t){return!!t||t===""}function Td(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=Wr(t[s],e[s]);return n}function Wr(t,e){if(t===e)return!0;let n=Ki(t),s=Ki(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=wt(t),s=wt(e),n||s)return t===e;if(n=Y(t),s=Y(e),n||s)return n&&s?Td(t,e):!1;if(n=ye(t),s=ye(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,o=Object.keys(e).length;if(r!==o)return!1;for(const i in t){const a=t.hasOwnProperty(i),l=e.hasOwnProperty(i);if(a&&!l||!a&&l||!Wr(t[i],e[i]))return!1}}return String(t)===String(e)}function $d(t,e){return t.findIndex(n=>Wr(n,e))}const ql=t=>!!(t&&t.__v_isRef===!0),U=t=>Te(t)?t:t==null?"":Y(t)||ye(t)&&(t.toString===Ul||!te(t.toString))?ql(t)?U(t.value):JSON.stringify(t,Hl,2):String(t),Hl=(t,e)=>ql(e)?Hl(t,e.value):Kn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],o)=>(n[ho(s,o)+" =>"]=r,n),{})}:Lr(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>ho(n))}:wt(e)?ho(e):ye(e)&&!Y(e)&&!Fl(e)?String(e):e,ho=(t,e="")=>{var n;return wt(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Be;class Wl{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Be,!e&&Be&&(this.index=(Be.scopes||(Be.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Be;try{return Be=this,e()}finally{Be=n}}}on(){++this._on===1&&(this.prevScope=Be,Be=this)}off(){this._on>0&&--this._on===0&&(Be=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Vl(t){return new Wl(t)}function zl(){return Be}function Ad(t,e=!1){Be&&Be.cleanups.push(t)}let _e;const mo=new WeakSet;class Kl{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Be&&Be.active&&Be.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,mo.has(this)&&(mo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Gl(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Gi(this),Yl(this);const e=_e,n=yt;_e=this,yt=!0;try{return this.fn()}finally{Xl(this),_e=e,yt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)xi(e);this.deps=this.depsTail=void 0,Gi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?mo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){No(this)&&this.run()}get dirty(){return No(this)}}let Jl=0,_s,xs;function Gl(t,e=!1){if(t.flags|=8,e){t.next=xs,xs=t;return}t.next=_s,_s=t}function wi(){Jl++}function _i(){if(--Jl>0)return;if(xs){let e=xs;for(xs=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;_s;){let e=_s;for(_s=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function Yl(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Xl(t){let e,n=t.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),xi(s),Rd(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}t.deps=e,t.depsTail=n}function No(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Ql(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Ql(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ps)||(t.globalVersion=Ps,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!No(t))))return;t.flags|=2;const e=t.dep,n=_e,s=yt;_e=t,yt=!0;try{Yl(t);const r=t.fn(t._value);(e.version===0||rn(r,t._value))&&(t.flags|=128,t._value=r,e.version++)}catch(r){throw e.version++,r}finally{_e=n,yt=s,Xl(t),t.flags&=-3}}function xi(t,e=!1){const{dep:n,prevSub:s,nextSub:r}=t;if(s&&(s.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)xi(o,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Rd(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let yt=!0;const Zl=[];function Vt(){Zl.push(yt),yt=!1}function zt(){const t=Zl.pop();yt=t===void 0?!0:t}function Gi(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=_e;_e=void 0;try{e()}finally{_e=n}}}let Ps=0;class Pd{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Si{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!_e||!yt||_e===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==_e)n=this.activeLink=new Pd(_e,this),_e.deps?(n.prevDep=_e.depsTail,_e.depsTail.nextDep=n,_e.depsTail=n):_e.deps=_e.depsTail=n,ec(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=_e.depsTail,n.nextDep=void 0,_e.depsTail.nextDep=n,_e.depsTail=n,_e.deps===n&&(_e.deps=s)}return n}trigger(e){this.version++,Ps++,this.notify(e)}notify(e){wi();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{_i()}}}function ec(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)ec(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const _r=new WeakMap,On=Symbol(""),Uo=Symbol(""),js=Symbol("");function qe(t,e,n){if(yt&&_e){let s=_r.get(t);s||_r.set(t,s=new Map);let r=s.get(n);r||(s.set(n,r=new Si),r.map=s,r.key=n),r.track()}}function qt(t,e,n,s,r,o){const i=_r.get(t);if(!i){Ps++;return}const a=l=>{l&&l.trigger()};if(wi(),e==="clear")i.forEach(a);else{const l=Y(t),d=l&&yi(n);if(l&&n==="length"){const c=Number(s);i.forEach((f,h)=>{(h==="length"||h===js||!wt(h)&&h>=c)&&a(f)})}else switch((n!==void 0||i.has(void 0))&&a(i.get(n)),d&&a(i.get(js)),e){case"add":l?d&&a(i.get("length")):(a(i.get(On)),Kn(t)&&a(i.get(Uo)));break;case"delete":l||(a(i.get(On)),Kn(t)&&a(i.get(Uo)));break;case"set":Kn(t)&&a(i.get(On));break}}_i()}function jd(t,e){const n=_r.get(t);return n&&n.get(e)}function jn(t){const e=le(t);return e===t?e:(qe(e,"iterate",js),ut(t)?e:e.map(Fe))}function Vr(t){return qe(t=le(t),"iterate",js),t}const Id={__proto__:null,[Symbol.iterator](){return po(this,Symbol.iterator,Fe)},concat(...t){return jn(this).concat(...t.map(e=>Y(e)?jn(e):e))},entries(){return po(this,"entries",t=>(t[1]=Fe(t[1]),t))},every(t,e){return Nt(this,"every",t,e,void 0,arguments)},filter(t,e){return Nt(this,"filter",t,e,n=>n.map(Fe),arguments)},find(t,e){return Nt(this,"find",t,e,Fe,arguments)},findIndex(t,e){return Nt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Nt(this,"findLast",t,e,Fe,arguments)},findLastIndex(t,e){return Nt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Nt(this,"forEach",t,e,void 0,arguments)},includes(...t){return go(this,"includes",t)},indexOf(...t){return go(this,"indexOf",t)},join(t){return jn(this).join(t)},lastIndexOf(...t){return go(this,"lastIndexOf",t)},map(t,e){return Nt(this,"map",t,e,void 0,arguments)},pop(){return us(this,"pop")},push(...t){return us(this,"push",t)},reduce(t,...e){return Yi(this,"reduce",t,e)},reduceRight(t,...e){return Yi(this,"reduceRight",t,e)},shift(){return us(this,"shift")},some(t,e){return Nt(this,"some",t,e,void 0,arguments)},splice(...t){return us(this,"splice",t)},toReversed(){return jn(this).toReversed()},toSorted(t){return jn(this).toSorted(t)},toSpliced(...t){return jn(this).toSpliced(...t)},unshift(...t){return us(this,"unshift",t)},values(){return po(this,"values",Fe)}};function po(t,e,n){const s=Vr(t),r=s[e]();return s!==t&&!ut(t)&&(r._next=r.next,r.next=()=>{const o=r._next();return o.done||(o.value=n(o.value)),o}),r}const Md=Array.prototype;function Nt(t,e,n,s,r,o){const i=Vr(t),a=i!==t&&!ut(t),l=i[e];if(l!==Md[e]){const f=l.apply(t,o);return a?Fe(f):f}let d=n;i!==t&&(a?d=function(f,h){return n.call(this,Fe(f),h,t)}:n.length>2&&(d=function(f,h){return n.call(this,f,h,t)}));const c=l.call(i,d,s);return a&&r?r(c):c}function Yi(t,e,n,s){const r=Vr(t);let o=n;return r!==t&&(ut(t)?n.length>3&&(o=function(i,a,l){return n.call(this,i,a,l,t)}):o=function(i,a,l){return n.call(this,i,Fe(a),l,t)}),r[e](o,...s)}function go(t,e,n){const s=le(t);qe(s,"iterate",js);const r=s[e](...n);return(r===-1||r===!1)&&Oi(n[0])?(n[0]=le(n[0]),s[e](...n)):r}function us(t,e,n=[]){Vt(),wi();const s=le(t)[e].apply(t,n);return _i(),zt(),s}const Dd=pi("__proto__,__v_isRef,__isVue"),tc=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(wt));function Nd(t){wt(t)||(t=String(t));const e=le(this);return qe(e,"has",t),e.hasOwnProperty(t)}class nc{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return o;if(n==="__v_raw")return s===(r?o?Kd:ic:o?oc:rc).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const i=Y(e);if(!r){let l;if(i&&(l=Id[n]))return l;if(n==="hasOwnProperty")return Nd}const a=Reflect.get(e,n,Ce(e)?e:s);if((wt(n)?tc.has(n):Dd(n))||(r||qe(e,"get",n),o))return a;if(Ce(a)){const l=i&&yi(n)?a:a.value;return r&&ye(l)?Lo(l):l}return ye(a)?r?Lo(a):Vs(a):a}}class sc extends nc{constructor(e=!1){super(!1,e)}set(e,n,s,r){let o=e[n];if(!this._isShallow){const l=ln(o);if(!ut(s)&&!ln(s)&&(o=le(o),s=le(s)),!Y(e)&&Ce(o)&&!Ce(s))return l||(o.value=s),!0}const i=Y(e)&&yi(n)?Number(n)<e.length:ue(e,n),a=Reflect.set(e,n,s,Ce(e)?e:r);return e===le(r)&&(i?rn(s,o)&&qt(e,"set",n,s):qt(e,"add",n,s)),a}deleteProperty(e,n){const s=ue(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&qt(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!wt(n)||!tc.has(n))&&qe(e,"has",n),s}ownKeys(e){return qe(e,"iterate",Y(e)?"length":On),Reflect.ownKeys(e)}}class Ud extends nc{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Fd=new sc,Ld=new Ud,Bd=new sc(!0);const Fo=t=>t,sr=t=>Reflect.getPrototypeOf(t);function qd(t,e,n){return function(...s){const r=this.__v_raw,o=le(r),i=Kn(o),a=t==="entries"||t===Symbol.iterator&&i,l=t==="keys"&&i,d=r[t](...s),c=n?Fo:e?xr:Fe;return!e&&qe(o,"iterate",l?Uo:On),{next(){const{value:f,done:h}=d.next();return h?{value:f,done:h}:{value:a?[c(f[0]),c(f[1])]:c(f),done:h}},[Symbol.iterator](){return this}}}}function rr(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Hd(t,e){const n={get(r){const o=this.__v_raw,i=le(o),a=le(r);t||(rn(r,a)&&qe(i,"get",r),qe(i,"get",a));const{has:l}=sr(i),d=e?Fo:t?xr:Fe;if(l.call(i,r))return d(o.get(r));if(l.call(i,a))return d(o.get(a));o!==i&&o.get(r)},get size(){const r=this.__v_raw;return!t&&qe(le(r),"iterate",On),r.size},has(r){const o=this.__v_raw,i=le(o),a=le(r);return t||(rn(r,a)&&qe(i,"has",r),qe(i,"has",a)),r===a?o.has(r):o.has(r)||o.has(a)},forEach(r,o){const i=this,a=i.__v_raw,l=le(a),d=e?Fo:t?xr:Fe;return!t&&qe(l,"iterate",On),a.forEach((c,f)=>r.call(o,d(c),d(f),i))}};return Ve(n,t?{add:rr("add"),set:rr("set"),delete:rr("delete"),clear:rr("clear")}:{add(r){!e&&!ut(r)&&!ln(r)&&(r=le(r));const o=le(this);return sr(o).has.call(o,r)||(o.add(r),qt(o,"add",r,r)),this},set(r,o){!e&&!ut(o)&&!ln(o)&&(o=le(o));const i=le(this),{has:a,get:l}=sr(i);let d=a.call(i,r);d||(r=le(r),d=a.call(i,r));const c=l.call(i,r);return i.set(r,o),d?rn(o,c)&&qt(i,"set",r,o):qt(i,"add",r,o),this},delete(r){const o=le(this),{has:i,get:a}=sr(o);let l=i.call(o,r);l||(r=le(r),l=i.call(o,r)),a&&a.call(o,r);const d=o.delete(r);return l&&qt(o,"delete",r,void 0),d},clear(){const r=le(this),o=r.size!==0,i=r.clear();return o&&qt(r,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=qd(r,t,e)}),n}function ki(t,e){const n=Hd(t,e);return(s,r,o)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(ue(n,r)&&r in s?n:s,r,o)}const Wd={get:ki(!1,!1)},Vd={get:ki(!1,!0)},zd={get:ki(!0,!1)};const rc=new WeakMap,oc=new WeakMap,ic=new WeakMap,Kd=new WeakMap;function Jd(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Gd(t){return t.__v_skip||!Object.isExtensible(t)?0:Jd(bd(t))}function Vs(t){return ln(t)?t:Ei(t,!1,Fd,Wd,rc)}function ac(t){return Ei(t,!1,Bd,Vd,oc)}function Lo(t){return Ei(t,!0,Ld,zd,ic)}function Ei(t,e,n,s,r){if(!ye(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=Gd(t);if(o===0)return t;const i=r.get(t);if(i)return i;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function on(t){return ln(t)?on(t.__v_raw):!!(t&&t.__v_isReactive)}function ln(t){return!!(t&&t.__v_isReadonly)}function ut(t){return!!(t&&t.__v_isShallow)}function Oi(t){return t?!!t.__v_raw:!1}function le(t){const e=t&&t.__v_raw;return e?le(e):t}function Ci(t){return!ue(t,"__v_skip")&&Object.isExtensible(t)&&Ll(t,"__v_skip",!0),t}const Fe=t=>ye(t)?Vs(t):t,xr=t=>ye(t)?Lo(t):t;function Ce(t){return t?t.__v_isRef===!0:!1}function z(t){return lc(t,!1)}function Yd(t){return lc(t,!0)}function lc(t,e){return Ce(t)?t:new Xd(t,e)}class Xd{constructor(e,n){this.dep=new Si,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:le(e),this._value=n?e:Fe(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||ut(e)||ln(e);e=s?e:le(e),rn(e,n)&&(this._rawValue=e,this._value=s?e:Fe(e),this.dep.trigger())}}function Ee(t){return Ce(t)?t.value:t}const Qd={get:(t,e,n)=>e==="__v_raw"?t:Ee(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return Ce(r)&&!Ce(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function cc(t){return on(t)?t:new Proxy(t,Qd)}function Zd(t){const e=Y(t)?new Array(t.length):{};for(const n in t)e[n]=tf(t,n);return e}class ef{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return jd(le(this._object),this._key)}}function tf(t,e,n){const s=t[e];return Ce(s)?s:new ef(t,e,n)}class nf{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Si(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ps-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&_e!==this)return Gl(this,!0),!0}get value(){const e=this.dep.track();return Ql(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function sf(t,e,n=!1){let s,r;return te(t)?s=t:(s=t.get,r=t.set),new nf(s,r,n)}const or={},Sr=new WeakMap;let yn;function rf(t,e=!1,n=yn){if(n){let s=Sr.get(n);s||Sr.set(n,s=[]),s.push(t)}}function of(t,e,n=pe){const{immediate:s,deep:r,once:o,scheduler:i,augmentJob:a,call:l}=n,d=k=>r?k:ut(k)||r===!1||r===0?Ht(k,1):Ht(k);let c,f,h,p,m=!1,b=!1;if(Ce(t)?(f=()=>t.value,m=ut(t)):on(t)?(f=()=>d(t),m=!0):Y(t)?(b=!0,m=t.some(k=>on(k)||ut(k)),f=()=>t.map(k=>{if(Ce(k))return k.value;if(on(k))return d(k);if(te(k))return l?l(k,2):k()})):te(t)?e?f=l?()=>l(t,2):t:f=()=>{if(h){Vt();try{h()}finally{zt()}}const k=yn;yn=c;try{return l?l(t,3,[p]):t(p)}finally{yn=k}}:f=Mt,e&&r){const k=f,M=r===!0?1/0:r;f=()=>Ht(k(),M)}const g=zl(),_=()=>{c.stop(),g&&g.active&&vi(g.effects,c)};if(o&&e){const k=e;e=(...M)=>{k(...M),_()}}let w=b?new Array(t.length).fill(or):or;const v=k=>{if(!(!(c.flags&1)||!c.dirty&&!k))if(e){const M=c.run();if(r||m||(b?M.some((W,A)=>rn(W,w[A])):rn(M,w))){h&&h();const W=yn;yn=c;try{const A=[M,w===or?void 0:b&&w[0]===or?[]:w,p];w=M,l?l(e,3,A):e(...A)}finally{yn=W}}}else c.run()};return a&&a(v),c=new Kl(f),c.scheduler=i?()=>i(v,!1):v,p=k=>rf(k,!1,c),h=c.onStop=()=>{const k=Sr.get(c);if(k){if(l)l(k,4);else for(const M of k)M();Sr.delete(c)}},e?s?v(!0):w=c.run():i?i(v.bind(null,!0),!0):c.run(),_.pause=c.pause.bind(c),_.resume=c.resume.bind(c),_.stop=_,_}function Ht(t,e=1/0,n){if(e<=0||!ye(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,Ce(t))Ht(t.value,e,n);else if(Y(t))for(let s=0;s<t.length;s++)Ht(t[s],e,n);else if(Lr(t)||Kn(t))t.forEach(s=>{Ht(s,e,n)});else if(Fl(t)){for(const s in t)Ht(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&Ht(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function zs(t,e,n,s){try{return s?t(...s):t()}catch(r){zr(r,e,n)}}function Dt(t,e,n,s){if(te(t)){const r=zs(t,e,n,s);return r&&Nl(r)&&r.catch(o=>{zr(o,e,n)}),r}if(Y(t)){const r=[];for(let o=0;o<t.length;o++)r.push(Dt(t[o],e,n,s));return r}}function zr(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:i}=e&&e.appContext.config||pe;if(e){let a=e.parent;const l=e.proxy,d=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](t,l,d)===!1)return}a=a.parent}if(o){Vt(),zs(o,null,10,[t,l,d]),zt();return}}af(t,n,r,s,i)}function af(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}const Ge=[];let At=-1;const Jn=[];let en=null,qn=0;const uc=Promise.resolve();let kr=null;function Ks(t){const e=kr||uc;return t?e.then(this?t.bind(this):t):e}function lf(t){let e=At+1,n=Ge.length;for(;e<n;){const s=e+n>>>1,r=Ge[s],o=Is(r);o<t||o===t&&r.flags&2?e=s+1:n=s}return e}function Ti(t){if(!(t.flags&1)){const e=Is(t),n=Ge[Ge.length-1];!n||!(t.flags&2)&&e>=Is(n)?Ge.push(t):Ge.splice(lf(e),0,t),t.flags|=1,dc()}}function dc(){kr||(kr=uc.then(hc))}function cf(t){Y(t)?Jn.push(...t):en&&t.id===-1?en.splice(qn+1,0,t):t.flags&1||(Jn.push(t),t.flags|=1),dc()}function Xi(t,e,n=At+1){for(;n<Ge.length;n++){const s=Ge[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Ge.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function fc(t){if(Jn.length){const e=[...new Set(Jn)].sort((n,s)=>Is(n)-Is(s));if(Jn.length=0,en){en.push(...e);return}for(en=e,qn=0;qn<en.length;qn++){const n=en[qn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}en=null,qn=0}}const Is=t=>t.id==null?t.flags&2?-1:1/0:t.id;function hc(t){try{for(At=0;At<Ge.length;At++){const e=Ge[At];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),zs(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;At<Ge.length;At++){const e=Ge[At];e&&(e.flags&=-2)}At=-1,Ge.length=0,fc(),kr=null,(Ge.length||Jn.length)&&hc()}}let Le=null,mc=null;function Er(t){const e=Le;return Le=t,mc=t&&t.type.__scopeId||null,e}function Je(t,e=Le,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&Tr(-1);const o=Er(e);let i;try{i=t(...r)}finally{Er(o),s._d&&Tr(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function re(t,e){if(Le===null)return t;const n=Yr(Le),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[o,i,a,l=pe]=e[r];o&&(te(o)&&(o={mounted:o,updated:o}),o.deep&&Ht(i),s.push({dir:o,instance:n,value:i,oldValue:void 0,arg:a,modifiers:l}))}return t}function mn(t,e,n,s){const r=t.dirs,o=e&&e.dirs;for(let i=0;i<r.length;i++){const a=r[i];o&&(a.oldValue=o[i].value);let l=a.dir[s];l&&(Vt(),Dt(l,n,8,[t.el,a,t,e]),zt())}}const uf=Symbol("_vte"),df=t=>t.__isTeleport,ff=Symbol("_leaveCb");function $i(t,e){t.shapeFlag&6&&t.component?(t.transition=e,$i(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function at(t,e){return te(t)?Ve({name:t.name},e,{setup:t}):t}function pc(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Or=new WeakMap;function Ss(t,e,n,s,r=!1){if(Y(t)){t.forEach((m,b)=>Ss(m,e&&(Y(e)?e[b]:e),n,s,r));return}if(Gn(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Ss(t,e,n,s.component.subTree);return}const o=s.shapeFlag&4?Yr(s.component):s.el,i=r?null:o,{i:a,r:l}=t,d=e&&e.r,c=a.refs===pe?a.refs={}:a.refs,f=a.setupState,h=le(f),p=f===pe?Dl:m=>ue(h,m);if(d!=null&&d!==l){if(Qi(e),Te(d))c[d]=null,p(d)&&(f[d]=null);else if(Ce(d)){d.value=null;const m=e;m.k&&(c[m.k]=null)}}if(te(l))zs(l,a,12,[i,c]);else{const m=Te(l),b=Ce(l);if(m||b){const g=()=>{if(t.f){const _=m?p(l)?f[l]:c[l]:l.value;if(r)Y(_)&&vi(_,o);else if(Y(_))_.includes(o)||_.push(o);else if(m)c[l]=[o],p(l)&&(f[l]=c[l]);else{const w=[o];l.value=w,t.k&&(c[t.k]=w)}}else m?(c[l]=i,p(l)&&(f[l]=i)):b&&(l.value=i,t.k&&(c[t.k]=i))};if(i){const _=()=>{g(),Or.delete(t)};_.id=-1,Or.set(t,_),rt(_,n)}else Qi(t),g()}}}function Qi(t){const e=Or.get(t);e&&(e.flags|=8,Or.delete(t))}Hr().requestIdleCallback;Hr().cancelIdleCallback;const Gn=t=>!!t.type.__asyncLoader,gc=t=>t.type.__isKeepAlive;function hf(t,e){vc(t,"a",e)}function mf(t,e){vc(t,"da",e)}function vc(t,e,n=He){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Kr(e,s,n),n){let r=n.parent;for(;r&&r.parent;)gc(r.parent.vnode)&&pf(s,e,n,r),r=r.parent}}function pf(t,e,n,s){const r=Kr(e,t,s,!0);yc(()=>{vi(s[e],r)},n)}function Kr(t,e,n=He,s=!1){if(n){const r=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...i)=>{Vt();const a=Js(n),l=Dt(e,n,t,i);return a(),zt(),l});return s?r.unshift(o):r.push(o),o}}const Jt=t=>(e,n=He)=>{(!Ns||t==="sp")&&Kr(t,(...s)=>e(...s),n)},gf=Jt("bm"),dn=Jt("m"),vf=Jt("bu"),yf=Jt("u"),bf=Jt("bum"),yc=Jt("um"),wf=Jt("sp"),_f=Jt("rtg"),xf=Jt("rtc");function Sf(t,e=He){Kr("ec",t,e)}const bc="components";function wc(t,e){return xc(bc,t,!0,e)||t}const _c=Symbol.for("v-ndc");function kf(t){return Te(t)?xc(bc,t,!1)||t:t||_c}function xc(t,e,n=!0,s=!1){const r=Le||He;if(r){const o=r.type;{const a=hh(o,!1);if(a&&(a===e||a===dt(e)||a===qr(dt(e))))return o}const i=Zi(r[t]||o[t],e)||Zi(r.appContext[t],e);return!i&&s?o:i}}function Zi(t,e){return t&&(t[e]||t[dt(e)]||t[qr(dt(e))])}function et(t,e,n,s){let r;const o=n,i=Y(t);if(i||Te(t)){const a=i&&on(t);let l=!1,d=!1;a&&(l=!ut(t),d=ln(t),t=Vr(t)),r=new Array(t.length);for(let c=0,f=t.length;c<f;c++)r[c]=e(l?d?xr(Fe(t[c])):Fe(t[c]):t[c],c,void 0,o)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,o)}else if(ye(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,o));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,d=a.length;l<d;l++){const c=a[l];r[l]=e(t[c],c,l,o)}}else r=[];return r}function Ef(t,e,n={},s,r){if(Le.ce||Le.parent&&Gn(Le.parent)&&Le.parent.ce){const d=Object.keys(n).length>0;return j(),ke(Se,null,[Q("slot",n,s)],d?-2:64)}let o=t[e];o&&o._c&&(o._d=!1),j();const i=o&&Sc(o(n)),a=n.key||i&&i.key,l=ke(Se,{key:(a&&!wt(a)?a:`_${e}`)+(!i&&s?"_fb":"")},i||[],i&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function Sc(t){return t.some(e=>Ds(e)?!(e.type===Kt||e.type===Se&&!Sc(e.children)):!0)?t:null}const Bo=t=>t?Wc(t)?Yr(t):Bo(t.parent):null,ks=Ve(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Bo(t.parent),$root:t=>Bo(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Ec(t),$forceUpdate:t=>t.f||(t.f=()=>{Ti(t.update)}),$nextTick:t=>t.n||(t.n=Ks.bind(t.proxy)),$watch:t=>Kf.bind(t)}),vo=(t,e)=>t!==pe&&!t.__isScriptSetup&&ue(t,e),Of={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:o,accessCache:i,type:a,appContext:l}=t;let d;if(e[0]!=="$"){const p=i[e];if(p!==void 0)switch(p){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return o[e]}else{if(vo(s,e))return i[e]=1,s[e];if(r!==pe&&ue(r,e))return i[e]=2,r[e];if((d=t.propsOptions[0])&&ue(d,e))return i[e]=3,o[e];if(n!==pe&&ue(n,e))return i[e]=4,n[e];qo&&(i[e]=0)}}const c=ks[e];let f,h;if(c)return e==="$attrs"&&qe(t.attrs,"get",""),c(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==pe&&ue(n,e))return i[e]=4,n[e];if(h=l.config.globalProperties,ue(h,e))return h[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:o}=t;return vo(r,e)?(r[e]=n,!0):s!==pe&&ue(s,e)?(s[e]=n,!0):ue(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:o,type:i}},a){let l,d;return!!(n[a]||t!==pe&&a[0]!=="$"&&ue(t,a)||vo(e,a)||(l=o[0])&&ue(l,a)||ue(s,a)||ue(ks,a)||ue(r.config.globalProperties,a)||(d=i.__cssModules)&&d[a])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ue(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function ea(t){return Y(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let qo=!0;function Cf(t){const e=Ec(t),n=t.proxy,s=t.ctx;qo=!1,e.beforeCreate&&ta(e.beforeCreate,t,"bc");const{data:r,computed:o,methods:i,watch:a,provide:l,inject:d,created:c,beforeMount:f,mounted:h,beforeUpdate:p,updated:m,activated:b,deactivated:g,beforeDestroy:_,beforeUnmount:w,destroyed:v,unmounted:k,render:M,renderTracked:W,renderTriggered:A,errorCaptured:O,serverPrefetch:P,expose:de,inheritAttrs:Ne,components:Ue,directives:Ae,filters:ze}=e;if(d&&Tf(d,s,null),i)for(const Z in i){const se=i[Z];te(se)&&(s[Z]=se.bind(n))}if(r){const Z=r.call(n,n);ye(Z)&&(t.data=Vs(Z))}if(qo=!0,o)for(const Z in o){const se=o[Z],lt=te(se)?se.bind(n,n):te(se.get)?se.get.bind(n,n):Mt,St=!te(se)&&te(se.set)?se.set.bind(n):Mt,je=Me({get:lt,set:St});Object.defineProperty(s,Z,{enumerable:!0,configurable:!0,get:()=>je.value,set:Oe=>je.value=Oe})}if(a)for(const Z in a)kc(a[Z],s,n,Z);if(l){const Z=te(l)?l.call(n):l;Reflect.ownKeys(Z).forEach(se=>{fr(se,Z[se])})}c&&ta(c,t,"c");function oe(Z,se){Y(se)?se.forEach(lt=>Z(lt.bind(n))):se&&Z(se.bind(n))}if(oe(gf,f),oe(dn,h),oe(vf,p),oe(yf,m),oe(hf,b),oe(mf,g),oe(Sf,O),oe(xf,W),oe(_f,A),oe(bf,w),oe(yc,k),oe(wf,P),Y(de))if(de.length){const Z=t.exposed||(t.exposed={});de.forEach(se=>{Object.defineProperty(Z,se,{get:()=>n[se],set:lt=>n[se]=lt,enumerable:!0})})}else t.exposed||(t.exposed={});M&&t.render===Mt&&(t.render=M),Ne!=null&&(t.inheritAttrs=Ne),Ue&&(t.components=Ue),Ae&&(t.directives=Ae),P&&pc(t)}function Tf(t,e,n=Mt){Y(t)&&(t=Ho(t));for(const s in t){const r=t[s];let o;ye(r)?"default"in r?o=bt(r.from||s,r.default,!0):o=bt(r.from||s):o=bt(r),Ce(o)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):e[s]=o}}function ta(t,e,n){Dt(Y(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function kc(t,e,n,s){let r=s.includes(".")?Uc(n,s):()=>n[s];if(Te(t)){const o=e[t];te(o)&&an(r,o)}else if(te(t))an(r,t.bind(n));else if(ye(t))if(Y(t))t.forEach(o=>kc(o,e,n,s));else{const o=te(t.handler)?t.handler.bind(n):e[t.handler];te(o)&&an(r,o,t)}}function Ec(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:o,config:{optionMergeStrategies:i}}=t.appContext,a=o.get(e);let l;return a?l=a:!r.length&&!n&&!s?l=e:(l={},r.length&&r.forEach(d=>Cr(l,d,i,!0)),Cr(l,e,i)),ye(e)&&o.set(e,l),l}function Cr(t,e,n,s=!1){const{mixins:r,extends:o}=e;o&&Cr(t,o,n,!0),r&&r.forEach(i=>Cr(t,i,n,!0));for(const i in e)if(!(s&&i==="expose")){const a=$f[i]||n&&n[i];t[i]=a?a(t[i],e[i]):e[i]}return t}const $f={data:na,props:sa,emits:sa,methods:gs,computed:gs,beforeCreate:Ke,created:Ke,beforeMount:Ke,mounted:Ke,beforeUpdate:Ke,updated:Ke,beforeDestroy:Ke,beforeUnmount:Ke,destroyed:Ke,unmounted:Ke,activated:Ke,deactivated:Ke,errorCaptured:Ke,serverPrefetch:Ke,components:gs,directives:gs,watch:Rf,provide:na,inject:Af};function na(t,e){return e?t?function(){return Ve(te(t)?t.call(this,this):t,te(e)?e.call(this,this):e)}:e:t}function Af(t,e){return gs(Ho(t),Ho(e))}function Ho(t){if(Y(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ke(t,e){return t?[...new Set([].concat(t,e))]:e}function gs(t,e){return t?Ve(Object.create(null),t,e):e}function sa(t,e){return t?Y(t)&&Y(e)?[...new Set([...t,...e])]:Ve(Object.create(null),ea(t),ea(e??{})):e}function Rf(t,e){if(!t)return e;if(!e)return t;const n=Ve(Object.create(null),t);for(const s in e)n[s]=Ke(t[s],e[s]);return n}function Oc(){return{app:null,config:{isNativeTag:Dl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Pf=0;function jf(t,e){return function(s,r=null){te(s)||(s=Ve({},s)),r!=null&&!ye(r)&&(r=null);const o=Oc(),i=new WeakSet,a=[];let l=!1;const d=o.app={_uid:Pf++,_component:s,_props:r,_container:null,_context:o,_instance:null,version:ph,get config(){return o.config},set config(c){},use(c,...f){return i.has(c)||(c&&te(c.install)?(i.add(c),c.install(d,...f)):te(c)&&(i.add(c),c(d,...f))),d},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),d},component(c,f){return f?(o.components[c]=f,d):o.components[c]},directive(c,f){return f?(o.directives[c]=f,d):o.directives[c]},mount(c,f,h){if(!l){const p=d._ceVNode||Q(s,r);return p.appContext=o,h===!0?h="svg":h===!1&&(h=void 0),t(p,c,h),l=!0,d._container=c,c.__vue_app__=d,Yr(p.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Dt(a,d._instance,16),t(null,d._container),delete d._container.__vue_app__)},provide(c,f){return o.provides[c]=f,d},runWithContext(c){const f=Cn;Cn=d;try{return c()}finally{Cn=f}}};return d}}let Cn=null;function fr(t,e){if(He){let n=He.provides;const s=He.parent&&He.parent.provides;s===n&&(n=He.provides=Object.create(s)),n[t]=e}}function bt(t,e,n=!1){const s=Hc();if(s||Cn){let r=Cn?Cn._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&te(e)?e.call(s&&s.proxy):e}}function If(){return!!(Hc()||Cn)}const Cc={},Tc=()=>Object.create(Cc),$c=t=>Object.getPrototypeOf(t)===Cc;function Mf(t,e,n,s=!1){const r={},o=Tc();t.propsDefaults=Object.create(null),Ac(t,e,r,o);for(const i in t.propsOptions[0])i in r||(r[i]=void 0);n?t.props=s?r:ac(r):t.type.props?t.props=r:t.props=o,t.attrs=o}function Df(t,e,n,s){const{props:r,attrs:o,vnode:{patchFlag:i}}=t,a=le(r),[l]=t.propsOptions;let d=!1;if((s||i>0)&&!(i&16)){if(i&8){const c=t.vnode.dynamicProps;for(let f=0;f<c.length;f++){let h=c[f];if(Jr(t.emitsOptions,h))continue;const p=e[h];if(l)if(ue(o,h))p!==o[h]&&(o[h]=p,d=!0);else{const m=dt(h);r[m]=Wo(l,a,m,p,t,!1)}else p!==o[h]&&(o[h]=p,d=!0)}}}else{Ac(t,e,r,o)&&(d=!0);let c;for(const f in a)(!e||!ue(e,f)&&((c=un(f))===f||!ue(e,c)))&&(l?n&&(n[f]!==void 0||n[c]!==void 0)&&(r[f]=Wo(l,a,f,void 0,t,!0)):delete r[f]);if(o!==a)for(const f in o)(!e||!ue(e,f))&&(delete o[f],d=!0)}d&&qt(t.attrs,"set","")}function Ac(t,e,n,s){const[r,o]=t.propsOptions;let i=!1,a;if(e)for(let l in e){if(ws(l))continue;const d=e[l];let c;r&&ue(r,c=dt(l))?!o||!o.includes(c)?n[c]=d:(a||(a={}))[c]=d:Jr(t.emitsOptions,l)||(!(l in s)||d!==s[l])&&(s[l]=d,i=!0)}if(o){const l=le(n),d=a||pe;for(let c=0;c<o.length;c++){const f=o[c];n[f]=Wo(r,l,f,d[f],t,!ue(d,f))}}return i}function Wo(t,e,n,s,r,o){const i=t[n];if(i!=null){const a=ue(i,"default");if(a&&s===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&te(l)){const{propsDefaults:d}=r;if(n in d)s=d[n];else{const c=Js(r);s=d[n]=l.call(null,e),c()}}else s=l;r.ce&&r.ce._setProp(n,s)}i[0]&&(o&&!a?s=!1:i[1]&&(s===""||s===un(n))&&(s=!0))}return s}const Nf=new WeakMap;function Rc(t,e,n=!1){const s=n?Nf:e.propsCache,r=s.get(t);if(r)return r;const o=t.props,i={},a=[];let l=!1;if(!te(t)){const c=f=>{l=!0;const[h,p]=Rc(f,e,!0);Ve(i,h),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!o&&!l)return ye(t)&&s.set(t,zn),zn;if(Y(o))for(let c=0;c<o.length;c++){const f=dt(o[c]);ra(f)&&(i[f]=pe)}else if(o)for(const c in o){const f=dt(c);if(ra(f)){const h=o[c],p=i[f]=Y(h)||te(h)?{type:h}:Ve({},h),m=p.type;let b=!1,g=!0;if(Y(m))for(let _=0;_<m.length;++_){const w=m[_],v=te(w)&&w.name;if(v==="Boolean"){b=!0;break}else v==="String"&&(g=!1)}else b=te(m)&&m.name==="Boolean";p[0]=b,p[1]=g,(b||ue(p,"default"))&&a.push(f)}}const d=[i,a];return ye(t)&&s.set(t,d),d}function ra(t){return t[0]!=="$"&&!ws(t)}const Ai=t=>t==="_"||t==="_ctx"||t==="$stable",Ri=t=>Y(t)?t.map(Pt):[Pt(t)],Uf=(t,e,n)=>{if(e._n)return e;const s=Je((...r)=>Ri(e(...r)),n);return s._c=!1,s},Pc=(t,e,n)=>{const s=t._ctx;for(const r in t){if(Ai(r))continue;const o=t[r];if(te(o))e[r]=Uf(r,o,s);else if(o!=null){const i=Ri(o);e[r]=()=>i}}},jc=(t,e)=>{const n=Ri(e);t.slots.default=()=>n},Ic=(t,e,n)=>{for(const s in e)(n||!Ai(s))&&(t[s]=e[s])},Ff=(t,e,n)=>{const s=t.slots=Tc();if(t.vnode.shapeFlag&32){const r=e._;r?(Ic(s,e,n),n&&Ll(s,"_",r,!0)):Pc(e,s)}else e&&jc(t,e)},Lf=(t,e,n)=>{const{vnode:s,slots:r}=t;let o=!0,i=pe;if(s.shapeFlag&32){const a=e._;a?n&&a===1?o=!1:Ic(r,e,n):(o=!e.$stable,Pc(e,r)),i=e}else e&&(jc(t,e),i={default:1});if(o)for(const a in r)!Ai(a)&&i[a]==null&&delete r[a]},rt=th;function Bf(t){return qf(t)}function qf(t,e){const n=Hr();n.__VUE__=!0;const{insert:s,remove:r,patchProp:o,createElement:i,createText:a,createComment:l,setText:d,setElementText:c,parentNode:f,nextSibling:h,setScopeId:p=Mt,insertStaticContent:m}=t,b=(y,x,S,T=null,R=null,C=null,L=void 0,N=null,D=!!x.dynamicChildren)=>{if(y===x)return;y&&!ds(y,x)&&(T=$(y),Oe(y,R,C,!0),y=null),x.patchFlag===-2&&(D=!1,x.dynamicChildren=null);const{type:I,ref:G,shapeFlag:q}=x;switch(I){case Gr:g(y,x,S,T);break;case Kt:_(y,x,S,T);break;case hr:y==null&&w(x,S,T,L);break;case Se:Ue(y,x,S,T,R,C,L,N,D);break;default:q&1?M(y,x,S,T,R,C,L,N,D):q&6?Ae(y,x,S,T,R,C,L,N,D):(q&64||q&128)&&I.process(y,x,S,T,R,C,L,N,D,V)}G!=null&&R?Ss(G,y&&y.ref,C,x||y,!x):G==null&&y&&y.ref!=null&&Ss(y.ref,null,C,y,!0)},g=(y,x,S,T)=>{if(y==null)s(x.el=a(x.children),S,T);else{const R=x.el=y.el;x.children!==y.children&&d(R,x.children)}},_=(y,x,S,T)=>{y==null?s(x.el=l(x.children||""),S,T):x.el=y.el},w=(y,x,S,T)=>{[y.el,y.anchor]=m(y.children,x,S,T,y.el,y.anchor)},v=({el:y,anchor:x},S,T)=>{let R;for(;y&&y!==x;)R=h(y),s(y,S,T),y=R;s(x,S,T)},k=({el:y,anchor:x})=>{let S;for(;y&&y!==x;)S=h(y),r(y),y=S;r(x)},M=(y,x,S,T,R,C,L,N,D)=>{x.type==="svg"?L="svg":x.type==="math"&&(L="mathml"),y==null?W(x,S,T,R,C,L,N,D):P(y,x,R,C,L,N,D)},W=(y,x,S,T,R,C,L,N)=>{let D,I;const{props:G,shapeFlag:q,transition:K,dirs:X}=y;if(D=y.el=i(y.type,C,G&&G.is,G),q&8?c(D,y.children):q&16&&O(y.children,D,null,T,R,yo(y,C),L,N),X&&mn(y,null,T,"created"),A(D,y,y.scopeId,L,T),G){for(const be in G)be!=="value"&&!ws(be)&&o(D,be,null,G[be],C,T);"value"in G&&o(D,"value",null,G.value,C),(I=G.onVnodeBeforeMount)&&Tt(I,T,y)}X&&mn(y,null,T,"beforeMount");const ie=Hf(R,K);ie&&K.beforeEnter(D),s(D,x,S),((I=G&&G.onVnodeMounted)||ie||X)&&rt(()=>{I&&Tt(I,T,y),ie&&K.enter(D),X&&mn(y,null,T,"mounted")},R)},A=(y,x,S,T,R)=>{if(S&&p(y,S),T)for(let C=0;C<T.length;C++)p(y,T[C]);if(R){let C=R.subTree;if(x===C||Lc(C.type)&&(C.ssContent===x||C.ssFallback===x)){const L=R.vnode;A(y,L,L.scopeId,L.slotScopeIds,R.parent)}}},O=(y,x,S,T,R,C,L,N,D=0)=>{for(let I=D;I<y.length;I++){const G=y[I]=N?tn(y[I]):Pt(y[I]);b(null,G,x,S,T,R,C,L,N)}},P=(y,x,S,T,R,C,L)=>{const N=x.el=y.el;let{patchFlag:D,dynamicChildren:I,dirs:G}=x;D|=y.patchFlag&16;const q=y.props||pe,K=x.props||pe;let X;if(S&&pn(S,!1),(X=K.onVnodeBeforeUpdate)&&Tt(X,S,x,y),G&&mn(x,y,S,"beforeUpdate"),S&&pn(S,!0),(q.innerHTML&&K.innerHTML==null||q.textContent&&K.textContent==null)&&c(N,""),I?de(y.dynamicChildren,I,N,S,T,yo(x,R),C):L||se(y,x,N,null,S,T,yo(x,R),C,!1),D>0){if(D&16)Ne(N,q,K,S,R);else if(D&2&&q.class!==K.class&&o(N,"class",null,K.class,R),D&4&&o(N,"style",q.style,K.style,R),D&8){const ie=x.dynamicProps;for(let be=0;be<ie.length;be++){const fe=ie[be],Ye=q[fe],Xe=K[fe];(Xe!==Ye||fe==="value")&&o(N,fe,Ye,Xe,R,S)}}D&1&&y.children!==x.children&&c(N,x.children)}else!L&&I==null&&Ne(N,q,K,S,R);((X=K.onVnodeUpdated)||G)&&rt(()=>{X&&Tt(X,S,x,y),G&&mn(x,y,S,"updated")},T)},de=(y,x,S,T,R,C,L)=>{for(let N=0;N<x.length;N++){const D=y[N],I=x[N],G=D.el&&(D.type===Se||!ds(D,I)||D.shapeFlag&198)?f(D.el):S;b(D,I,G,null,T,R,C,L,!0)}},Ne=(y,x,S,T,R)=>{if(x!==S){if(x!==pe)for(const C in x)!ws(C)&&!(C in S)&&o(y,C,x[C],null,R,T);for(const C in S){if(ws(C))continue;const L=S[C],N=x[C];L!==N&&C!=="value"&&o(y,C,N,L,R,T)}"value"in S&&o(y,"value",x.value,S.value,R)}},Ue=(y,x,S,T,R,C,L,N,D)=>{const I=x.el=y?y.el:a(""),G=x.anchor=y?y.anchor:a("");let{patchFlag:q,dynamicChildren:K,slotScopeIds:X}=x;X&&(N=N?N.concat(X):X),y==null?(s(I,S,T),s(G,S,T),O(x.children||[],S,G,R,C,L,N,D)):q>0&&q&64&&K&&y.dynamicChildren?(de(y.dynamicChildren,K,S,R,C,L,N),(x.key!=null||R&&x===R.subTree)&&Mc(y,x,!0)):se(y,x,S,G,R,C,L,N,D)},Ae=(y,x,S,T,R,C,L,N,D)=>{x.slotScopeIds=N,y==null?x.shapeFlag&512?R.ctx.activate(x,S,T,L,D):ze(x,S,T,R,C,L,D):ht(y,x,D)},ze=(y,x,S,T,R,C,L)=>{const N=y.component=lh(y,T,R);if(gc(y)&&(N.ctx.renderer=V),ch(N,!1,L),N.asyncDep){if(R&&R.registerDep(N,oe,L),!y.el){const D=N.subTree=Q(Kt);_(null,D,x,S),y.placeholder=D.el}}else oe(N,y,x,S,R,C,L)},ht=(y,x,S)=>{const T=x.component=y.component;if(Zf(y,x,S))if(T.asyncDep&&!T.asyncResolved){Z(T,x,S);return}else T.next=x,T.update();else x.el=y.el,T.vnode=x},oe=(y,x,S,T,R,C,L)=>{const N=()=>{if(y.isMounted){let{next:q,bu:K,u:X,parent:ie,vnode:be}=y;{const Ot=Dc(y);if(Ot){q&&(q.el=be.el,Z(y,q,L)),Ot.asyncDep.then(()=>{y.isUnmounted||N()});return}}let fe=q,Ye;pn(y,!1),q?(q.el=be.el,Z(y,q,L)):q=be,K&&dr(K),(Ye=q.props&&q.props.onVnodeBeforeUpdate)&&Tt(Ye,ie,q,be),pn(y,!0);const Xe=ia(y),Et=y.subTree;y.subTree=Xe,b(Et,Xe,f(Et.el),$(Et),y,R,C),q.el=Xe.el,fe===null&&eh(y,Xe.el),X&&rt(X,R),(Ye=q.props&&q.props.onVnodeUpdated)&&rt(()=>Tt(Ye,ie,q,be),R)}else{let q;const{el:K,props:X}=x,{bm:ie,m:be,parent:fe,root:Ye,type:Xe}=y,Et=Gn(x);pn(y,!1),ie&&dr(ie),!Et&&(q=X&&X.onVnodeBeforeMount)&&Tt(q,fe,x),pn(y,!0);{Ye.ce&&Ye.ce._def.shadowRoot!==!1&&Ye.ce._injectChildStyle(Xe);const Ot=y.subTree=ia(y);b(null,Ot,S,T,y,R,C),x.el=Ot.el}if(be&&rt(be,R),!Et&&(q=X&&X.onVnodeMounted)){const Ot=x;rt(()=>Tt(q,fe,Ot),R)}(x.shapeFlag&256||fe&&Gn(fe.vnode)&&fe.vnode.shapeFlag&256)&&y.a&&rt(y.a,R),y.isMounted=!0,x=S=T=null}};y.scope.on();const D=y.effect=new Kl(N);y.scope.off();const I=y.update=D.run.bind(D),G=y.job=D.runIfDirty.bind(D);G.i=y,G.id=y.uid,D.scheduler=()=>Ti(G),pn(y,!0),I()},Z=(y,x,S)=>{x.component=y;const T=y.vnode.props;y.vnode=x,y.next=null,Df(y,x.props,T,S),Lf(y,x.children,S),Vt(),Xi(y),zt()},se=(y,x,S,T,R,C,L,N,D=!1)=>{const I=y&&y.children,G=y?y.shapeFlag:0,q=x.children,{patchFlag:K,shapeFlag:X}=x;if(K>0){if(K&128){St(I,q,S,T,R,C,L,N,D);return}else if(K&256){lt(I,q,S,T,R,C,L,N,D);return}}X&8?(G&16&&ct(I,R,C),q!==I&&c(S,q)):G&16?X&16?St(I,q,S,T,R,C,L,N,D):ct(I,R,C,!0):(G&8&&c(S,""),X&16&&O(q,S,T,R,C,L,N,D))},lt=(y,x,S,T,R,C,L,N,D)=>{y=y||zn,x=x||zn;const I=y.length,G=x.length,q=Math.min(I,G);let K;for(K=0;K<q;K++){const X=x[K]=D?tn(x[K]):Pt(x[K]);b(y[K],X,S,null,R,C,L,N,D)}I>G?ct(y,R,C,!0,!1,q):O(x,S,T,R,C,L,N,D,q)},St=(y,x,S,T,R,C,L,N,D)=>{let I=0;const G=x.length;let q=y.length-1,K=G-1;for(;I<=q&&I<=K;){const X=y[I],ie=x[I]=D?tn(x[I]):Pt(x[I]);if(ds(X,ie))b(X,ie,S,null,R,C,L,N,D);else break;I++}for(;I<=q&&I<=K;){const X=y[q],ie=x[K]=D?tn(x[K]):Pt(x[K]);if(ds(X,ie))b(X,ie,S,null,R,C,L,N,D);else break;q--,K--}if(I>q){if(I<=K){const X=K+1,ie=X<G?x[X].el:T;for(;I<=K;)b(null,x[I]=D?tn(x[I]):Pt(x[I]),S,ie,R,C,L,N,D),I++}}else if(I>K)for(;I<=q;)Oe(y[I],R,C,!0),I++;else{const X=I,ie=I,be=new Map;for(I=ie;I<=K;I++){const st=x[I]=D?tn(x[I]):Pt(x[I]);st.key!=null&&be.set(st.key,I)}let fe,Ye=0;const Xe=K-ie+1;let Et=!1,Ot=0;const cs=new Array(Xe);for(I=0;I<Xe;I++)cs[I]=0;for(I=X;I<=q;I++){const st=y[I];if(Ye>=Xe){Oe(st,R,C,!0);continue}let Ct;if(st.key!=null)Ct=be.get(st.key);else for(fe=ie;fe<=K;fe++)if(cs[fe-ie]===0&&ds(st,x[fe])){Ct=fe;break}Ct===void 0?Oe(st,R,C,!0):(cs[Ct-ie]=I+1,Ct>=Ot?Ot=Ct:Et=!0,b(st,x[Ct],S,null,R,C,L,N,D),Ye++)}const Hi=Et?Wf(cs):zn;for(fe=Hi.length-1,I=Xe-1;I>=0;I--){const st=ie+I,Ct=x[st],Wi=x[st+1],Vi=st+1<G?Wi.el||Wi.placeholder:T;cs[I]===0?b(null,Ct,S,Vi,R,C,L,N,D):Et&&(fe<0||I!==Hi[fe]?je(Ct,S,Vi,2):fe--)}}},je=(y,x,S,T,R=null)=>{const{el:C,type:L,transition:N,children:D,shapeFlag:I}=y;if(I&6){je(y.component.subTree,x,S,T);return}if(I&128){y.suspense.move(x,S,T);return}if(I&64){L.move(y,x,S,V);return}if(L===Se){s(C,x,S);for(let q=0;q<D.length;q++)je(D[q],x,S,T);s(y.anchor,x,S);return}if(L===hr){v(y,x,S);return}if(T!==2&&I&1&&N)if(T===0)N.beforeEnter(C),s(C,x,S),rt(()=>N.enter(C),R);else{const{leave:q,delayLeave:K,afterLeave:X}=N,ie=()=>{y.ctx.isUnmounted?r(C):s(C,x,S)},be=()=>{C._isLeaving&&C[ff](!0),q(C,()=>{ie(),X&&X()})};K?K(C,ie,be):be()}else s(C,x,S)},Oe=(y,x,S,T=!1,R=!1)=>{const{type:C,props:L,ref:N,children:D,dynamicChildren:I,shapeFlag:G,patchFlag:q,dirs:K,cacheIndex:X}=y;if(q===-2&&(R=!1),N!=null&&(Vt(),Ss(N,null,S,y,!0),zt()),X!=null&&(x.renderCache[X]=void 0),G&256){x.ctx.deactivate(y);return}const ie=G&1&&K,be=!Gn(y);let fe;if(be&&(fe=L&&L.onVnodeBeforeUnmount)&&Tt(fe,x,y),G&6)hn(y.component,S,T);else{if(G&128){y.suspense.unmount(S,T);return}ie&&mn(y,null,x,"beforeUnmount"),G&64?y.type.remove(y,x,S,V,T):I&&!I.hasOnce&&(C!==Se||q>0&&q&64)?ct(I,x,S,!1,!0):(C===Se&&q&384||!R&&G&16)&&ct(D,x,S),T&&kt(y)}(be&&(fe=L&&L.onVnodeUnmounted)||ie)&&rt(()=>{fe&&Tt(fe,x,y),ie&&mn(y,null,x,"unmounted")},S)},kt=y=>{const{type:x,el:S,anchor:T,transition:R}=y;if(x===Se){mt(S,T);return}if(x===hr){k(y);return}const C=()=>{r(S),R&&!R.persisted&&R.afterLeave&&R.afterLeave()};if(y.shapeFlag&1&&R&&!R.persisted){const{leave:L,delayLeave:N}=R,D=()=>L(S,C);N?N(y.el,C,D):D()}else C()},mt=(y,x)=>{let S;for(;y!==x;)S=h(y),r(y),y=S;r(x)},hn=(y,x,S)=>{const{bum:T,scope:R,job:C,subTree:L,um:N,m:D,a:I}=y;oa(D),oa(I),T&&dr(T),R.stop(),C&&(C.flags|=8,Oe(L,y,x,S)),N&&rt(N,x),rt(()=>{y.isUnmounted=!0},x)},ct=(y,x,S,T=!1,R=!1,C=0)=>{for(let L=C;L<y.length;L++)Oe(y[L],x,S,T,R)},$=y=>{if(y.shapeFlag&6)return $(y.component.subTree);if(y.shapeFlag&128)return y.suspense.next();const x=h(y.anchor||y.el),S=x&&x[uf];return S?h(S):x};let H=!1;const B=(y,x,S)=>{y==null?x._vnode&&Oe(x._vnode,null,null,!0):b(x._vnode||null,y,x,null,null,null,S),x._vnode=y,H||(H=!0,Xi(),fc(),H=!1)},V={p:b,um:Oe,m:je,r:kt,mt:ze,mc:O,pc:se,pbc:de,n:$,o:t};return{render:B,hydrate:void 0,createApp:jf(B)}}function yo({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function pn({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Hf(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Mc(t,e,n=!1){const s=t.children,r=e.children;if(Y(s)&&Y(r))for(let o=0;o<s.length;o++){const i=s[o];let a=r[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[o]=tn(r[o]),a.el=i.el),!n&&a.patchFlag!==-2&&Mc(i,a)),a.type===Gr&&a.patchFlag!==-1&&(a.el=i.el),a.type===Kt&&!a.el&&(a.el=i.el)}}function Wf(t){const e=t.slice(),n=[0];let s,r,o,i,a;const l=t.length;for(s=0;s<l;s++){const d=t[s];if(d!==0){if(r=n[n.length-1],t[r]<d){e[s]=r,n.push(s);continue}for(o=0,i=n.length-1;o<i;)a=o+i>>1,t[n[a]]<d?o=a+1:i=a;d<t[n[o]]&&(o>0&&(e[s]=n[o-1]),n[o]=s)}}for(o=n.length,i=n[o-1];o-- >0;)n[o]=i,i=e[i];return n}function Dc(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Dc(e)}function oa(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Vf=Symbol.for("v-scx"),zf=()=>bt(Vf);function an(t,e,n){return Nc(t,e,n)}function Nc(t,e,n=pe){const{immediate:s,deep:r,flush:o,once:i}=n,a=Ve({},n),l=e&&s||!e&&o!=="post";let d;if(Ns){if(o==="sync"){const p=zf();d=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=Mt,p.resume=Mt,p.pause=Mt,p}}const c=He;a.call=(p,m,b)=>Dt(p,c,m,b);let f=!1;o==="post"?a.scheduler=p=>{rt(p,c&&c.suspense)}:o!=="sync"&&(f=!0,a.scheduler=(p,m)=>{m?p():Ti(p)}),a.augmentJob=p=>{e&&(p.flags|=4),f&&(p.flags|=2,c&&(p.id=c.uid,p.i=c))};const h=of(t,e,a);return Ns&&(d?d.push(h):l&&h()),h}function Kf(t,e,n){const s=this.proxy,r=Te(t)?t.includes(".")?Uc(s,t):()=>s[t]:t.bind(s,s);let o;te(e)?o=e:(o=e.handler,n=e);const i=Js(this),a=Nc(r,o.bind(s),n);return i(),a}function Uc(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const Jf=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${dt(e)}Modifiers`]||t[`${un(e)}Modifiers`];function Gf(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||pe;let r=n;const o=e.startsWith("update:"),i=o&&Jf(s,e.slice(7));i&&(i.trim&&(r=n.map(c=>Te(c)?c.trim():c)),i.number&&(r=n.map(wr)));let a,l=s[a=fo(e)]||s[a=fo(dt(e))];!l&&o&&(l=s[a=fo(un(e))]),l&&Dt(l,t,6,r);const d=s[a+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Dt(d,t,6,r)}}const Yf=new WeakMap;function Fc(t,e,n=!1){const s=n?Yf:e.emitsCache,r=s.get(t);if(r!==void 0)return r;const o=t.emits;let i={},a=!1;if(!te(t)){const l=d=>{const c=Fc(d,e,!0);c&&(a=!0,Ve(i,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!a?(ye(t)&&s.set(t,null),null):(Y(o)?o.forEach(l=>i[l]=null):Ve(i,o),ye(t)&&s.set(t,i),i)}function Jr(t,e){return!t||!Fr(e)?!1:(e=e.slice(2).replace(/Once$/,""),ue(t,e[0].toLowerCase()+e.slice(1))||ue(t,un(e))||ue(t,e))}function ia(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[o],slots:i,attrs:a,emit:l,render:d,renderCache:c,props:f,data:h,setupState:p,ctx:m,inheritAttrs:b}=t,g=Er(t);let _,w;try{if(n.shapeFlag&4){const k=r||s,M=k;_=Pt(d.call(M,k,c,f,p,h,m)),w=a}else{const k=e;_=Pt(k.length>1?k(f,{attrs:a,slots:i,emit:l}):k(f,null)),w=e.props?a:Xf(a)}}catch(k){Es.length=0,zr(k,t,1),_=Q(Kt)}let v=_;if(w&&b!==!1){const k=Object.keys(w),{shapeFlag:M}=v;k.length&&M&7&&(o&&k.some(gi)&&(w=Qf(w,o)),v=Zn(v,w,!1,!0))}return n.dirs&&(v=Zn(v,null,!1,!0),v.dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&$i(v,n.transition),_=v,Er(g),_}const Xf=t=>{let e;for(const n in t)(n==="class"||n==="style"||Fr(n))&&((e||(e={}))[n]=t[n]);return e},Qf=(t,e)=>{const n={};for(const s in t)(!gi(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function Zf(t,e,n){const{props:s,children:r,component:o}=t,{props:i,children:a,patchFlag:l}=e,d=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?aa(s,i,d):!!i;if(l&8){const c=e.dynamicProps;for(let f=0;f<c.length;f++){const h=c[f];if(i[h]!==s[h]&&!Jr(d,h))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===i?!1:s?i?aa(s,i,d):!0:!!i;return!1}function aa(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const o=s[r];if(e[o]!==t[o]&&!Jr(n,o))return!0}return!1}function eh({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Lc=t=>t.__isSuspense;function th(t,e){e&&e.pendingBranch?Y(t)?e.effects.push(...t):e.effects.push(t):cf(t)}const Se=Symbol.for("v-fgt"),Gr=Symbol.for("v-txt"),Kt=Symbol.for("v-cmt"),hr=Symbol.for("v-stc"),Es=[];let it=null;function j(t=!1){Es.push(it=t?null:[])}function nh(){Es.pop(),it=Es[Es.length-1]||null}let Ms=1;function Tr(t,e=!1){Ms+=t,t<0&&it&&e&&(it.hasOnce=!0)}function Bc(t){return t.dynamicChildren=Ms>0?it||zn:null,nh(),Ms>0&&it&&it.push(t),t}function F(t,e,n,s,r,o){return Bc(u(t,e,n,s,r,o,!0))}function ke(t,e,n,s,r){return Bc(Q(t,e,n,s,r,!0))}function Ds(t){return t?t.__v_isVNode===!0:!1}function ds(t,e){return t.type===e.type&&t.key===e.key}const qc=({key:t})=>t??null,mr=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Te(t)||Ce(t)||te(t)?{i:Le,r:t,k:e,f:!!n}:t:null);function u(t,e=null,n=null,s=0,r=null,o=t===Se?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&qc(e),ref:e&&mr(e),scopeId:mc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Le};return a?(Pi(l,n),o&128&&t.normalize(l)):n&&(l.shapeFlag|=Te(n)?8:16),Ms>0&&!i&&it&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&it.push(l),l}const Q=sh;function sh(t,e=null,n=null,s=0,r=null,o=!1){if((!t||t===_c)&&(t=Kt),Ds(t)){const a=Zn(t,e,!0);return n&&Pi(a,n),Ms>0&&!o&&it&&(a.shapeFlag&6?it[it.indexOf(t)]=a:it.push(a)),a.patchFlag=-2,a}if(mh(t)&&(t=t.__vccOpts),e){e=rh(e);let{class:a,style:l}=e;a&&!Te(a)&&(e.class=De(a)),ye(l)&&(Oi(l)&&!Y(l)&&(l=Ve({},l)),e.style=bi(l))}const i=Te(t)?1:Lc(t)?128:df(t)?64:ye(t)?4:te(t)?2:0;return u(t,e,n,s,r,i,o,!0)}function rh(t){return t?Oi(t)||$c(t)?Ve({},t):t:null}function Zn(t,e,n=!1,s=!1){const{props:r,ref:o,patchFlag:i,children:a,transition:l}=t,d=e?oh(r||{},e):r,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:d,key:d&&qc(d),ref:e&&e.ref?n&&o?Y(o)?o.concat(mr(e)):[o,mr(e)]:mr(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Se?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Zn(t.ssContent),ssFallback:t.ssFallback&&Zn(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&$i(c,l.clone(c)),c}function xe(t=" ",e=0){return Q(Gr,null,t,e)}function kk(t,e){const n=Q(hr,null,t);return n.staticCount=e,n}function ge(t="",e=!1){return e?(j(),ke(Kt,null,t)):Q(Kt,null,t)}function Pt(t){return t==null||typeof t=="boolean"?Q(Kt):Y(t)?Q(Se,null,t.slice()):Ds(t)?tn(t):Q(Gr,null,String(t))}function tn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Zn(t)}function Pi(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(Y(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),Pi(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!$c(e)?e._ctx=Le:r===3&&Le&&(Le.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else te(e)?(e={default:e,_ctx:Le},n=32):(e=String(e),s&64?(n=16,e=[xe(e)]):n=8);t.children=e,t.shapeFlag|=n}function oh(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=De([e.class,s.class]));else if(r==="style")e.style=bi([e.style,s.style]);else if(Fr(r)){const o=e[r],i=s[r];i&&o!==i&&!(Y(o)&&o.includes(i))&&(e[r]=o?[].concat(o,i):i)}else r!==""&&(e[r]=s[r])}return e}function Tt(t,e,n,s=null){Dt(t,e,7,[n,s])}const ih=Oc();let ah=0;function lh(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||ih,o={uid:ah++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Wl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Rc(s,r),emitsOptions:Fc(s,r),emit:null,emitted:null,propsDefaults:pe,inheritAttrs:s.inheritAttrs,ctx:pe,data:pe,props:pe,attrs:pe,slots:pe,refs:pe,setupState:pe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=Gf.bind(null,o),t.ce&&t.ce(o),o}let He=null;const Hc=()=>He||Le;let $r,Vo;{const t=Hr(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),o=>{r.length>1?r.forEach(i=>i(o)):r[0](o)}};$r=e("__VUE_INSTANCE_SETTERS__",n=>He=n),Vo=e("__VUE_SSR_SETTERS__",n=>Ns=n)}const Js=t=>{const e=He;return $r(t),t.scope.on(),()=>{t.scope.off(),$r(e)}},la=()=>{He&&He.scope.off(),$r(null)};function Wc(t){return t.vnode.shapeFlag&4}let Ns=!1;function ch(t,e=!1,n=!1){e&&Vo(e);const{props:s,children:r}=t.vnode,o=Wc(t);Mf(t,s,o,e),Ff(t,r,n||e);const i=o?uh(t,e):void 0;return e&&Vo(!1),i}function uh(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Of);const{setup:s}=n;if(s){Vt();const r=t.setupContext=s.length>1?fh(t):null,o=Js(t),i=zs(s,t,0,[t.props,r]),a=Nl(i);if(zt(),o(),(a||t.sp)&&!Gn(t)&&pc(t),a){if(i.then(la,la),e)return i.then(l=>{ca(t,l)}).catch(l=>{zr(l,t,0)});t.asyncDep=i}else ca(t,i)}else Vc(t)}function ca(t,e,n){te(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ye(e)&&(t.setupState=cc(e)),Vc(t)}function Vc(t,e,n){const s=t.type;t.render||(t.render=s.render||Mt);{const r=Js(t);Vt();try{Cf(t)}finally{zt(),r()}}}const dh={get(t,e){return qe(t,"get",""),t[e]}};function fh(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,dh),slots:t.slots,emit:t.emit,expose:e}}function Yr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(cc(Ci(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ks)return ks[n](t)},has(e,n){return n in e||n in ks}})):t.proxy}function hh(t,e=!0){return te(t)?t.displayName||t.name:t.name||e&&t.__name}function mh(t){return te(t)&&"__vccOpts"in t}const Me=(t,e)=>sf(t,e,Ns);function zc(t,e,n){try{Tr(-1);const s=arguments.length;return s===2?ye(e)&&!Y(e)?Ds(e)?Q(t,null,[e]):Q(t,e):Q(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Ds(n)&&(n=[n]),Q(t,e,n))}finally{Tr(1)}}const ph="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let zo;const ua=typeof window<"u"&&window.trustedTypes;if(ua)try{zo=ua.createPolicy("vue",{createHTML:t=>t})}catch{}const Kc=zo?t=>zo.createHTML(t):t=>t,gh="http://www.w3.org/2000/svg",vh="http://www.w3.org/1998/Math/MathML",Lt=typeof document<"u"?document:null,da=Lt&&Lt.createElement("template"),yh={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?Lt.createElementNS(gh,t):e==="mathml"?Lt.createElementNS(vh,t):n?Lt.createElement(t,{is:n}):Lt.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>Lt.createTextNode(t),createComment:t=>Lt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Lt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,o){const i=n?n.previousSibling:e.lastChild;if(r&&(r===o||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{da.innerHTML=Kc(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=da.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[i?i.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},bh=Symbol("_vtc");function wh(t,e,n){const s=t[bh];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const fa=Symbol("_vod"),_h=Symbol("_vsh"),xh=Symbol(""),Sh=/(?:^|;)\s*display\s*:/;function kh(t,e,n){const s=t.style,r=Te(n);let o=!1;if(n&&!r){if(e)if(Te(e))for(const i of e.split(";")){const a=i.slice(0,i.indexOf(":")).trim();n[a]==null&&pr(s,a,"")}else for(const i in e)n[i]==null&&pr(s,i,"");for(const i in n)i==="display"&&(o=!0),pr(s,i,n[i])}else if(r){if(e!==n){const i=s[xh];i&&(n+=";"+i),s.cssText=n,o=Sh.test(n)}}else e&&t.removeAttribute("style");fa in t&&(t[fa]=o?s.display:"",t[_h]&&(s.display="none"))}const ha=/\s*!important$/;function pr(t,e,n){if(Y(n))n.forEach(s=>pr(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=Eh(t,e);ha.test(n)?t.setProperty(un(s),n.replace(ha,""),"important"):t[s]=n}}const ma=["Webkit","Moz","ms"],bo={};function Eh(t,e){const n=bo[e];if(n)return n;let s=dt(e);if(s!=="filter"&&s in t)return bo[e]=s;s=qr(s);for(let r=0;r<ma.length;r++){const o=ma[r]+s;if(o in t)return bo[e]=o}return e}const pa="http://www.w3.org/1999/xlink";function ga(t,e,n,s,r,o=Cd(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(pa,e.slice(6,e.length)):t.setAttributeNS(pa,e,n):n==null||o&&!Bl(n)?t.removeAttribute(e):t.setAttribute(e,o?"":wt(n)?String(n):n)}function va(t,e,n,s,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Kc(n):n);return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let i=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Bl(n):n==null&&a==="string"?(n="",i=!0):a==="number"&&(n=0,i=!0)}try{t[e]=n}catch{}i&&t.removeAttribute(r||e)}function _n(t,e,n,s){t.addEventListener(e,n,s)}function Oh(t,e,n,s){t.removeEventListener(e,n,s)}const ya=Symbol("_vei");function Ch(t,e,n,s,r=null){const o=t[ya]||(t[ya]={}),i=o[e];if(s&&i)i.value=s;else{const[a,l]=Th(e);if(s){const d=o[e]=Rh(s,r);_n(t,a,d,l)}else i&&(Oh(t,a,i,l),o[e]=void 0)}}const ba=/(?:Once|Passive|Capture)$/;function Th(t){let e;if(ba.test(t)){e={};let s;for(;s=t.match(ba);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):un(t.slice(2)),e]}let wo=0;const $h=Promise.resolve(),Ah=()=>wo||($h.then(()=>wo=0),wo=Date.now());function Rh(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Dt(Ph(s,n.value),e,5,[s])};return n.value=t,n.attached=Ah(),n}function Ph(t,e){if(Y(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const wa=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,jh=(t,e,n,s,r,o)=>{const i=r==="svg";e==="class"?wh(t,s,i):e==="style"?kh(t,n,s):Fr(e)?gi(e)||Ch(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Ih(t,e,s,i))?(va(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&ga(t,e,s,i,o,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Te(s))?va(t,dt(e),s,o,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),ga(t,e,s,i))};function Ih(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&wa(e)&&te(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return wa(e)&&Te(n)?!1:e in t}const Ar=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Y(e)?n=>dr(e,n):e};function Mh(t){t.target.composing=!0}function _a(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Yn=Symbol("_assign"),ae={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[Yn]=Ar(r);const o=s||r.props&&r.props.type==="number";_n(t,e?"change":"input",i=>{if(i.target.composing)return;let a=t.value;n&&(a=a.trim()),o&&(a=wr(a)),t[Yn](a)}),n&&_n(t,"change",()=>{t.value=t.value.trim()}),e||(_n(t,"compositionstart",Mh),_n(t,"compositionend",_a),_n(t,"change",_a))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:r,number:o}},i){if(t[Yn]=Ar(i),t.composing)return;const a=(o||t.type==="number")&&!/^0\d/.test(t.value)?wr(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||r&&t.value.trim()===l)||(t.value=l))}},vs={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const r=Lr(e);_n(t,"change",()=>{const o=Array.prototype.filter.call(t.options,i=>i.selected).map(i=>n?wr(Rr(i)):Rr(i));t[Yn](t.multiple?r?new Set(o):o:o[0]),t._assigning=!0,Ks(()=>{t._assigning=!1})}),t[Yn]=Ar(s)},mounted(t,{value:e}){xa(t,e)},beforeUpdate(t,e,n){t[Yn]=Ar(n)},updated(t,{value:e}){t._assigning||xa(t,e)}};function xa(t,e){const n=t.multiple,s=Y(e);if(!(n&&!s&&!Lr(e))){for(let r=0,o=t.options.length;r<o;r++){const i=t.options[r],a=Rr(i);if(n)if(s){const l=typeof a;l==="string"||l==="number"?i.selected=e.some(d=>String(d)===String(a)):i.selected=$d(e,a)>-1}else i.selected=e.has(a);else if(Wr(Rr(i),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Rr(t){return"_value"in t?t._value:t.value}const Dh=["ctrl","shift","alt","meta"],Nh={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Dh.some(n=>t[`${n}Key`]&&!e.includes(n))},Tn=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(r,...o)=>{for(let i=0;i<e.length;i++){const a=Nh[e[i]];if(a&&a(r,e))return}return t(r,...o)})},Uh={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Sa=(t,e)=>{const n=t._withKeys||(t._withKeys={}),s=e.join(".");return n[s]||(n[s]=r=>{if(!("key"in r))return;const o=un(r.key);if(e.some(i=>i===o||Uh[i]===o))return t(r)})},Fh=Ve({patchProp:jh},yh);let ka;function Lh(){return ka||(ka=Bf(Fh))}const Bh=(...t)=>{const e=Lh().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=Hh(s);if(!r)return;const o=e._component;!te(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const i=n(r,!1,qh(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},e};function qh(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Hh(t){return Te(t)?document.querySelector(t):t}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Jc;const Xr=t=>Jc=t,Gc=Symbol();function Ko(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Os;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Os||(Os={}));function Wh(){const t=Vl(!0),e=t.run(()=>z({}));let n=[],s=[];const r=Ci({install(o){Xr(r),r._a=o,o.provide(Gc,r),o.config.globalProperties.$pinia=r,s.forEach(i=>n.push(i)),s=[]},use(o){return this._a?n.push(o):s.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const Yc=()=>{};function Ea(t,e,n,s=Yc){t.push(e);const r=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),s())};return!n&&zl()&&Ad(r),r}function In(t,...e){t.slice().forEach(n=>{n(...e)})}const Vh=t=>t(),Oa=Symbol(),_o=Symbol();function Jo(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],r=t[n];Ko(r)&&Ko(s)&&t.hasOwnProperty(n)&&!Ce(s)&&!on(s)?t[n]=Jo(r,s):t[n]=s}return t}const zh=Symbol();function Kh(t){return!Ko(t)||!t.hasOwnProperty(zh)}const{assign:Qt}=Object;function Jh(t){return!!(Ce(t)&&t.effect)}function Gh(t,e,n,s){const{state:r,actions:o,getters:i}=e,a=n.state.value[t];let l;function d(){a||(n.state.value[t]=r?r():{});const c=Zd(n.state.value[t]);return Qt(c,o,Object.keys(i||{}).reduce((f,h)=>(f[h]=Ci(Me(()=>{Xr(n);const p=n._s.get(t);return i[h].call(p,p)})),f),{}))}return l=Xc(t,d,e,n,s,!0),l}function Xc(t,e,n={},s,r,o){let i;const a=Qt({actions:{}},n),l={deep:!0};let d,c,f=[],h=[],p;const m=s.state.value[t];!o&&!m&&(s.state.value[t]={}),z({});let b;function g(O){let P;d=c=!1,typeof O=="function"?(O(s.state.value[t]),P={type:Os.patchFunction,storeId:t,events:p}):(Jo(s.state.value[t],O),P={type:Os.patchObject,payload:O,storeId:t,events:p});const de=b=Symbol();Ks().then(()=>{b===de&&(d=!0)}),c=!0,In(f,P,s.state.value[t])}const _=o?function(){const{state:P}=n,de=P?P():{};this.$patch(Ne=>{Qt(Ne,de)})}:Yc;function w(){i.stop(),f=[],h=[],s._s.delete(t)}const v=(O,P="")=>{if(Oa in O)return O[_o]=P,O;const de=function(){Xr(s);const Ne=Array.from(arguments),Ue=[],Ae=[];function ze(Z){Ue.push(Z)}function ht(Z){Ae.push(Z)}In(h,{args:Ne,name:de[_o],store:M,after:ze,onError:ht});let oe;try{oe=O.apply(this&&this.$id===t?this:M,Ne)}catch(Z){throw In(Ae,Z),Z}return oe instanceof Promise?oe.then(Z=>(In(Ue,Z),Z)).catch(Z=>(In(Ae,Z),Promise.reject(Z))):(In(Ue,oe),oe)};return de[Oa]=!0,de[_o]=P,de},k={_p:s,$id:t,$onAction:Ea.bind(null,h),$patch:g,$reset:_,$subscribe(O,P={}){const de=Ea(f,O,P.detached,()=>Ne()),Ne=i.run(()=>an(()=>s.state.value[t],Ue=>{(P.flush==="sync"?c:d)&&O({storeId:t,type:Os.direct,events:p},Ue)},Qt({},l,P)));return de},$dispose:w},M=Vs(k);s._s.set(t,M);const A=(s._a&&s._a.runWithContext||Vh)(()=>s._e.run(()=>(i=Vl()).run(()=>e({action:v}))));for(const O in A){const P=A[O];if(Ce(P)&&!Jh(P)||on(P))o||(m&&Kh(P)&&(Ce(P)?P.value=m[O]:Jo(P,m[O])),s.state.value[t][O]=P);else if(typeof P=="function"){const de=v(P,O);A[O]=de,a.actions[O]=P}}return Qt(M,A),Qt(le(M),A),Object.defineProperty(M,"$state",{get:()=>s.state.value[t],set:O=>{g(P=>{Qt(P,O)})}}),s._p.forEach(O=>{Qt(M,i.run(()=>O({store:M,app:s._a,pinia:s,options:a})))}),m&&o&&n.hydrate&&n.hydrate(M.$state,m),d=!0,c=!0,M}/*! #__NO_SIDE_EFFECTS__ */function Yh(t,e,n){let s,r;const o=typeof e=="function";s=t,r=o?n:e;function i(a,l){const d=If();return a=a||(d?bt(Gc,null):null),a&&Xr(a),a=Jc,a._s.has(s)||(o?Xc(s,e,r,a):Gh(s,r,a)),a._s.get(s)}return i.$id=s,i}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Hn=typeof document<"u";function Qc(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Xh(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Qc(t.default)}const ce=Object.assign;function xo(t,e){const n={};for(const s in e){const r=e[s];n[s]=_t(r)?r.map(t):t(r)}return n}const Cs=()=>{},_t=Array.isArray,Zc=/#/g,Qh=/&/g,Zh=/\//g,em=/=/g,tm=/\?/g,eu=/\+/g,nm=/%5B/g,sm=/%5D/g,tu=/%5E/g,rm=/%60/g,nu=/%7B/g,om=/%7C/g,su=/%7D/g,im=/%20/g;function ji(t){return encodeURI(""+t).replace(om,"|").replace(nm,"[").replace(sm,"]")}function am(t){return ji(t).replace(nu,"{").replace(su,"}").replace(tu,"^")}function Go(t){return ji(t).replace(eu,"%2B").replace(im,"+").replace(Zc,"%23").replace(Qh,"%26").replace(rm,"`").replace(nu,"{").replace(su,"}").replace(tu,"^")}function lm(t){return Go(t).replace(em,"%3D")}function cm(t){return ji(t).replace(Zc,"%23").replace(tm,"%3F")}function um(t){return t==null?"":cm(t).replace(Zh,"%2F")}function Us(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const dm=/\/$/,fm=t=>t.replace(dm,"");function So(t,e,n="/"){let s,r={},o="",i="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),o=e.slice(l+1,a>-1?a:e.length),r=t(o)),a>-1&&(s=s||e.slice(0,a),i=e.slice(a,e.length)),s=gm(s??e,n),{fullPath:s+(o&&"?")+o+i,path:s,query:r,hash:Us(i)}}function hm(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Ca(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function mm(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&es(e.matched[s],n.matched[r])&&ru(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function es(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function ru(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!pm(t[n],e[n]))return!1;return!0}function pm(t,e){return _t(t)?Ta(t,e):_t(e)?Ta(e,t):t===e}function Ta(t,e){return _t(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function gm(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let o=n.length-1,i,a;for(i=0;i<s.length;i++)if(a=s[i],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+s.slice(i).join("/")}const Gt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Fs;(function(t){t.pop="pop",t.push="push"})(Fs||(Fs={}));var Ts;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ts||(Ts={}));function vm(t){if(!t)if(Hn){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),fm(t)}const ym=/^[^#]+#/;function bm(t,e){return t.replace(ym,"#")+e}function wm(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Qr=()=>({left:window.scrollX,top:window.scrollY});function _m(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=wm(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function $a(t,e){return(history.state?history.state.position-e:-1)+t}const Yo=new Map;function xm(t,e){Yo.set(t,e)}function Sm(t){const e=Yo.get(t);return Yo.delete(t),e}let km=()=>location.protocol+"//"+location.host;function ou(t,e){const{pathname:n,search:s,hash:r}=e,o=t.indexOf("#");if(o>-1){let a=r.includes(t.slice(o))?t.slice(o).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Ca(l,"")}return Ca(n,t)+s+r}function Em(t,e,n,s){let r=[],o=[],i=null;const a=({state:h})=>{const p=ou(t,location),m=n.value,b=e.value;let g=0;if(h){if(n.value=p,e.value=h,i&&i===m){i=null;return}g=b?h.position-b.position:0}else s(p);r.forEach(_=>{_(n.value,m,{delta:g,type:Fs.pop,direction:g?g>0?Ts.forward:Ts.back:Ts.unknown})})};function l(){i=n.value}function d(h){r.push(h);const p=()=>{const m=r.indexOf(h);m>-1&&r.splice(m,1)};return o.push(p),p}function c(){const{history:h}=window;h.state&&h.replaceState(ce({},h.state,{scroll:Qr()}),"")}function f(){for(const h of o)h();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:d,destroy:f}}function Aa(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?Qr():null}}function Om(t){const{history:e,location:n}=window,s={value:ou(t,n)},r={value:e.state};r.value||o(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(l,d,c){const f=t.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+l:km()+t+l;try{e[c?"replaceState":"pushState"](d,"",h),r.value=d}catch(p){console.error(p),n[c?"replace":"assign"](h)}}function i(l,d){const c=ce({},e.state,Aa(r.value.back,l,r.value.forward,!0),d,{position:r.value.position});o(l,c,!0),s.value=l}function a(l,d){const c=ce({},r.value,e.state,{forward:l,scroll:Qr()});o(c.current,c,!0);const f=ce({},Aa(s.value,l,null),{position:c.position+1},d);o(l,f,!1),s.value=l}return{location:s,state:r,push:a,replace:i}}function Cm(t){t=vm(t);const e=Om(t),n=Em(t,e.state,e.location,e.replace);function s(o,i=!0){i||n.pauseListeners(),history.go(o)}const r=ce({location:"",base:t,go:s,createHref:bm.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function Tm(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),Cm(t)}function $m(t){return typeof t=="string"||t&&typeof t=="object"}function iu(t){return typeof t=="string"||typeof t=="symbol"}const au=Symbol("");var Ra;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Ra||(Ra={}));function ts(t,e){return ce(new Error,{type:t,[au]:!0},e)}function Ut(t,e){return t instanceof Error&&au in t&&(e==null||!!(t.type&e))}const Pa="[^/]+?",Am={sensitive:!1,strict:!1,start:!0,end:!0},Rm=/[.+*?^${}()[\]/\\]/g;function Pm(t,e){const n=ce({},Am,e),s=[];let r=n.start?"^":"";const o=[];for(const d of t){const c=d.length?[]:[90];n.strict&&!d.length&&(r+="/");for(let f=0;f<d.length;f++){const h=d[f];let p=40+(n.sensitive?.25:0);if(h.type===0)f||(r+="/"),r+=h.value.replace(Rm,"\\$&"),p+=40;else if(h.type===1){const{value:m,repeatable:b,optional:g,regexp:_}=h;o.push({name:m,repeatable:b,optional:g});const w=_||Pa;if(w!==Pa){p+=10;try{new RegExp(`(${w})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${m}" (${w}): `+k.message)}}let v=b?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;f||(v=g&&d.length<2?`(?:/${v})`:"/"+v),g&&(v+="?"),r+=v,p+=20,g&&(p+=-8),b&&(p+=-20),w===".*"&&(p+=-50)}c.push(p)}s.push(c)}if(n.strict&&n.end){const d=s.length-1;s[d][s[d].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const i=new RegExp(r,n.sensitive?"":"i");function a(d){const c=d.match(i),f={};if(!c)return null;for(let h=1;h<c.length;h++){const p=c[h]||"",m=o[h-1];f[m.name]=p&&m.repeatable?p.split("/"):p}return f}function l(d){let c="",f=!1;for(const h of t){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const p of h)if(p.type===0)c+=p.value;else if(p.type===1){const{value:m,repeatable:b,optional:g}=p,_=m in d?d[m]:"";if(_t(_)&&!b)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const w=_t(_)?_.join("/"):_;if(!w)if(g)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${m}"`);c+=w}}return c||"/"}return{re:i,score:s,keys:o,parse:a,stringify:l}}function jm(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function lu(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const o=jm(s[n],r[n]);if(o)return o;n++}if(Math.abs(r.length-s.length)===1){if(ja(s))return 1;if(ja(r))return-1}return r.length-s.length}function ja(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Im={type:0,value:""},Mm=/[a-zA-Z0-9_]/;function Dm(t){if(!t)return[[]];if(t==="/")return[[Im]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${d}": ${p}`)}let n=0,s=n;const r=[];let o;function i(){o&&r.push(o),o=[]}let a=0,l,d="",c="";function f(){d&&(n===0?o.push({type:0,value:d}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:d,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),d="")}function h(){d+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(d&&f(),i()):l===":"?(f(),n=1):h();break;case 4:h(),n=s;break;case 1:l==="("?n=2:Mm.test(l)?h():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${d}"`),f(),i(),r}function Nm(t,e,n){const s=Pm(Dm(t.path),n),r=ce(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function Um(t,e){const n=[],s=new Map;e=Na({strict:!1,end:!0,sensitive:!1},e);function r(f){return s.get(f)}function o(f,h,p){const m=!p,b=Ma(f);b.aliasOf=p&&p.record;const g=Na(e,f),_=[b];if("alias"in f){const k=typeof f.alias=="string"?[f.alias]:f.alias;for(const M of k)_.push(Ma(ce({},b,{components:p?p.record.components:b.components,path:M,aliasOf:p?p.record:b})))}let w,v;for(const k of _){const{path:M}=k;if(h&&M[0]!=="/"){const W=h.record.path,A=W[W.length-1]==="/"?"":"/";k.path=h.record.path+(M&&A+M)}if(w=Nm(k,h,g),p?p.alias.push(w):(v=v||w,v!==w&&v.alias.push(w),m&&f.name&&!Da(w)&&i(f.name)),cu(w)&&l(w),b.children){const W=b.children;for(let A=0;A<W.length;A++)o(W[A],w,p&&p.children[A])}p=p||w}return v?()=>{i(v)}:Cs}function i(f){if(iu(f)){const h=s.get(f);h&&(s.delete(f),n.splice(n.indexOf(h),1),h.children.forEach(i),h.alias.forEach(i))}else{const h=n.indexOf(f);h>-1&&(n.splice(h,1),f.record.name&&s.delete(f.record.name),f.children.forEach(i),f.alias.forEach(i))}}function a(){return n}function l(f){const h=Bm(f,n);n.splice(h,0,f),f.record.name&&!Da(f)&&s.set(f.record.name,f)}function d(f,h){let p,m={},b,g;if("name"in f&&f.name){if(p=s.get(f.name),!p)throw ts(1,{location:f});g=p.record.name,m=ce(Ia(h.params,p.keys.filter(v=>!v.optional).concat(p.parent?p.parent.keys.filter(v=>v.optional):[]).map(v=>v.name)),f.params&&Ia(f.params,p.keys.map(v=>v.name))),b=p.stringify(m)}else if(f.path!=null)b=f.path,p=n.find(v=>v.re.test(b)),p&&(m=p.parse(b),g=p.record.name);else{if(p=h.name?s.get(h.name):n.find(v=>v.re.test(h.path)),!p)throw ts(1,{location:f,currentLocation:h});g=p.record.name,m=ce({},h.params,f.params),b=p.stringify(m)}const _=[];let w=p;for(;w;)_.unshift(w.record),w=w.parent;return{name:g,path:b,params:m,matched:_,meta:Lm(_)}}t.forEach(f=>o(f));function c(){n.length=0,s.clear()}return{addRoute:o,resolve:d,removeRoute:i,clearRoutes:c,getRoutes:a,getRecordMatcher:r}}function Ia(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function Ma(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Fm(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Fm(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function Da(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Lm(t){return t.reduce((e,n)=>ce(e,n.meta),{})}function Na(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function Bm(t,e){let n=0,s=e.length;for(;n!==s;){const o=n+s>>1;lu(t,e[o])<0?s=o:n=o+1}const r=qm(t);return r&&(s=e.lastIndexOf(r,s-1)),s}function qm(t){let e=t;for(;e=e.parent;)if(cu(e)&&lu(t,e)===0)return e}function cu({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Hm(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const o=s[r].replace(eu," "),i=o.indexOf("="),a=Us(i<0?o:o.slice(0,i)),l=i<0?null:Us(o.slice(i+1));if(a in e){let d=e[a];_t(d)||(d=e[a]=[d]),d.push(l)}else e[a]=l}return e}function Ua(t){let e="";for(let n in t){const s=t[n];if(n=lm(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(_t(s)?s.map(o=>o&&Go(o)):[s&&Go(s)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function Wm(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=_t(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const Vm=Symbol(""),Fa=Symbol(""),Zr=Symbol(""),uu=Symbol(""),Xo=Symbol("");function fs(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function nn(t,e,n,s,r,o=i=>i()){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const d=h=>{h===!1?l(ts(4,{from:n,to:e})):h instanceof Error?l(h):$m(h)?l(ts(2,{from:e,to:h})):(i&&s.enterCallbacks[r]===i&&typeof h=="function"&&i.push(h),a())},c=o(()=>t.call(s&&s.instances[r],e,n,d));let f=Promise.resolve(c);t.length<3&&(f=f.then(d)),f.catch(h=>l(h))})}function ko(t,e,n,s,r=o=>o()){const o=[];for(const i of t)for(const a in i.components){let l=i.components[a];if(!(e!=="beforeRouteEnter"&&!i.instances[a]))if(Qc(l)){const c=(l.__vccOpts||l)[e];c&&o.push(nn(c,n,s,i,a,r))}else{let d=l();o.push(()=>d.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${i.path}"`);const f=Xh(c)?c.default:c;i.mods[a]=c,i.components[a]=f;const p=(f.__vccOpts||f)[e];return p&&nn(p,n,s,i,a,r)()}))}}return o}function La(t){const e=bt(Zr),n=bt(uu),s=Me(()=>{const l=Ee(t.to);return e.resolve(l)}),r=Me(()=>{const{matched:l}=s.value,{length:d}=l,c=l[d-1],f=n.matched;if(!c||!f.length)return-1;const h=f.findIndex(es.bind(null,c));if(h>-1)return h;const p=Ba(l[d-2]);return d>1&&Ba(c)===p&&f[f.length-1].path!==p?f.findIndex(es.bind(null,l[d-2])):h}),o=Me(()=>r.value>-1&&Ym(n.params,s.value.params)),i=Me(()=>r.value>-1&&r.value===n.matched.length-1&&ru(n.params,s.value.params));function a(l={}){if(Gm(l)){const d=e[Ee(t.replace)?"replace":"push"](Ee(t.to)).catch(Cs);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:s,href:Me(()=>s.value.href),isActive:o,isExactActive:i,navigate:a}}function zm(t){return t.length===1?t[0]:t}const Km=at({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:La,setup(t,{slots:e}){const n=Vs(La(t)),{options:s}=bt(Zr),r=Me(()=>({[qa(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[qa(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&zm(e.default(n));return t.custom?o:zc("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},o)}}}),Jm=Km;function Gm(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Ym(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!_t(r)||r.length!==s.length||s.some((o,i)=>o!==r[i]))return!1}return!0}function Ba(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const qa=(t,e,n)=>t??e??n,Xm=at({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=bt(Xo),r=Me(()=>t.route||s.value),o=bt(Fa,0),i=Me(()=>{let d=Ee(o);const{matched:c}=r.value;let f;for(;(f=c[d])&&!f.components;)d++;return d}),a=Me(()=>r.value.matched[i.value]);fr(Fa,Me(()=>i.value+1)),fr(Vm,a),fr(Xo,r);const l=z();return an(()=>[l.value,a.value,t.name],([d,c,f],[h,p,m])=>{c&&(c.instances[f]=d,p&&p!==c&&d&&d===h&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),d&&c&&(!p||!es(c,p)||!h)&&(c.enterCallbacks[f]||[]).forEach(b=>b(d))},{flush:"post"}),()=>{const d=r.value,c=t.name,f=a.value,h=f&&f.components[c];if(!h)return Ha(n.default,{Component:h,route:d});const p=f.props[c],m=p?p===!0?d.params:typeof p=="function"?p(d):p:null,g=zc(h,ce({},m,e,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(f.instances[c]=null)},ref:l}));return Ha(n.default,{Component:g,route:d})||g}}});function Ha(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const du=Xm;function Qm(t){const e=Um(t.routes,t),n=t.parseQuery||Hm,s=t.stringifyQuery||Ua,r=t.history,o=fs(),i=fs(),a=fs(),l=Yd(Gt);let d=Gt;Hn&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=xo.bind(null,$=>""+$),f=xo.bind(null,um),h=xo.bind(null,Us);function p($,H){let B,V;return iu($)?(B=e.getRecordMatcher($),V=H):V=$,e.addRoute(V,B)}function m($){const H=e.getRecordMatcher($);H&&e.removeRoute(H)}function b(){return e.getRoutes().map($=>$.record)}function g($){return!!e.getRecordMatcher($)}function _($,H){if(H=ce({},H||l.value),typeof $=="string"){const S=So(n,$,H.path),T=e.resolve({path:S.path},H),R=r.createHref(S.fullPath);return ce(S,T,{params:h(T.params),hash:Us(S.hash),redirectedFrom:void 0,href:R})}let B;if($.path!=null)B=ce({},$,{path:So(n,$.path,H.path).path});else{const S=ce({},$.params);for(const T in S)S[T]==null&&delete S[T];B=ce({},$,{params:f(S)}),H.params=f(H.params)}const V=e.resolve(B,H),me=$.hash||"";V.params=c(h(V.params));const y=hm(s,ce({},$,{hash:am(me),path:V.path})),x=r.createHref(y);return ce({fullPath:y,hash:me,query:s===Ua?Wm($.query):$.query||{}},V,{redirectedFrom:void 0,href:x})}function w($){return typeof $=="string"?So(n,$,l.value.path):ce({},$)}function v($,H){if(d!==$)return ts(8,{from:H,to:$})}function k($){return A($)}function M($){return k(ce(w($),{replace:!0}))}function W($){const H=$.matched[$.matched.length-1];if(H&&H.redirect){const{redirect:B}=H;let V=typeof B=="function"?B($):B;return typeof V=="string"&&(V=V.includes("?")||V.includes("#")?V=w(V):{path:V},V.params={}),ce({query:$.query,hash:$.hash,params:V.path!=null?{}:$.params},V)}}function A($,H){const B=d=_($),V=l.value,me=$.state,y=$.force,x=$.replace===!0,S=W(B);if(S)return A(ce(w(S),{state:typeof S=="object"?ce({},me,S.state):me,force:y,replace:x}),H||B);const T=B;T.redirectedFrom=H;let R;return!y&&mm(s,V,B)&&(R=ts(16,{to:T,from:V}),je(V,V,!0,!1)),(R?Promise.resolve(R):de(T,V)).catch(C=>Ut(C)?Ut(C,2)?C:St(C):se(C,T,V)).then(C=>{if(C){if(Ut(C,2))return A(ce({replace:x},w(C.to),{state:typeof C.to=="object"?ce({},me,C.to.state):me,force:y}),H||T)}else C=Ue(T,V,!0,x,me);return Ne(T,V,C),C})}function O($,H){const B=v($,H);return B?Promise.reject(B):Promise.resolve()}function P($){const H=mt.values().next().value;return H&&typeof H.runWithContext=="function"?H.runWithContext($):$()}function de($,H){let B;const[V,me,y]=Zm($,H);B=ko(V.reverse(),"beforeRouteLeave",$,H);for(const S of V)S.leaveGuards.forEach(T=>{B.push(nn(T,$,H))});const x=O.bind(null,$,H);return B.push(x),ct(B).then(()=>{B=[];for(const S of o.list())B.push(nn(S,$,H));return B.push(x),ct(B)}).then(()=>{B=ko(me,"beforeRouteUpdate",$,H);for(const S of me)S.updateGuards.forEach(T=>{B.push(nn(T,$,H))});return B.push(x),ct(B)}).then(()=>{B=[];for(const S of y)if(S.beforeEnter)if(_t(S.beforeEnter))for(const T of S.beforeEnter)B.push(nn(T,$,H));else B.push(nn(S.beforeEnter,$,H));return B.push(x),ct(B)}).then(()=>($.matched.forEach(S=>S.enterCallbacks={}),B=ko(y,"beforeRouteEnter",$,H,P),B.push(x),ct(B))).then(()=>{B=[];for(const S of i.list())B.push(nn(S,$,H));return B.push(x),ct(B)}).catch(S=>Ut(S,8)?S:Promise.reject(S))}function Ne($,H,B){a.list().forEach(V=>P(()=>V($,H,B)))}function Ue($,H,B,V,me){const y=v($,H);if(y)return y;const x=H===Gt,S=Hn?history.state:{};B&&(V||x?r.replace($.fullPath,ce({scroll:x&&S&&S.scroll},me)):r.push($.fullPath,me)),l.value=$,je($,H,B,x),St()}let Ae;function ze(){Ae||(Ae=r.listen(($,H,B)=>{if(!hn.listening)return;const V=_($),me=W(V);if(me){A(ce(me,{replace:!0,force:!0}),V).catch(Cs);return}d=V;const y=l.value;Hn&&xm($a(y.fullPath,B.delta),Qr()),de(V,y).catch(x=>Ut(x,12)?x:Ut(x,2)?(A(ce(w(x.to),{force:!0}),V).then(S=>{Ut(S,20)&&!B.delta&&B.type===Fs.pop&&r.go(-1,!1)}).catch(Cs),Promise.reject()):(B.delta&&r.go(-B.delta,!1),se(x,V,y))).then(x=>{x=x||Ue(V,y,!1),x&&(B.delta&&!Ut(x,8)?r.go(-B.delta,!1):B.type===Fs.pop&&Ut(x,20)&&r.go(-1,!1)),Ne(V,y,x)}).catch(Cs)}))}let ht=fs(),oe=fs(),Z;function se($,H,B){St($);const V=oe.list();return V.length?V.forEach(me=>me($,H,B)):console.error($),Promise.reject($)}function lt(){return Z&&l.value!==Gt?Promise.resolve():new Promise(($,H)=>{ht.add([$,H])})}function St($){return Z||(Z=!$,ze(),ht.list().forEach(([H,B])=>$?B($):H()),ht.reset()),$}function je($,H,B,V){const{scrollBehavior:me}=t;if(!Hn||!me)return Promise.resolve();const y=!B&&Sm($a($.fullPath,0))||(V||!B)&&history.state&&history.state.scroll||null;return Ks().then(()=>me($,H,y)).then(x=>x&&_m(x)).catch(x=>se(x,$,H))}const Oe=$=>r.go($);let kt;const mt=new Set,hn={currentRoute:l,listening:!0,addRoute:p,removeRoute:m,clearRoutes:e.clearRoutes,hasRoute:g,getRoutes:b,resolve:_,options:t,push:k,replace:M,go:Oe,back:()=>Oe(-1),forward:()=>Oe(1),beforeEach:o.add,beforeResolve:i.add,afterEach:a.add,onError:oe.add,isReady:lt,install($){const H=this;$.component("RouterLink",Jm),$.component("RouterView",du),$.config.globalProperties.$router=H,Object.defineProperty($.config.globalProperties,"$route",{enumerable:!0,get:()=>Ee(l)}),Hn&&!kt&&l.value===Gt&&(kt=!0,k(r.location).catch(me=>{}));const B={};for(const me in Gt)Object.defineProperty(B,me,{get:()=>l.value[me],enumerable:!0});$.provide(Zr,H),$.provide(uu,ac(B)),$.provide(Xo,l);const V=$.unmount;mt.add($),$.unmount=function(){mt.delete($),mt.size<1&&(d=Gt,Ae&&Ae(),Ae=null,l.value=Gt,kt=!1,Z=!1),V()}}};function ct($){return $.reduce((H,B)=>H.then(()=>P(B)),Promise.resolve())}return hn}function Zm(t,e){const n=[],s=[],r=[],o=Math.max(e.matched.length,t.matched.length);for(let i=0;i<o;i++){const a=e.matched[i];a&&(t.matched.find(d=>es(d,a))?s.push(a):n.push(a));const l=t.matched[i];l&&(e.matched.find(d=>es(d,l))||r.push(l))}return[n,s,r]}function eo(){return bt(Zr)}const ep="modulepreload",tp=function(t){return"/APP_Dnotas/"+t},Wa={},rs=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=tp(l),l in Wa)return;Wa[l]=!0;const d=l.endsWith(".css"),c=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":ep,d||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),d)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})},np=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>rs(async()=>{const{default:s}=await Promise.resolve().then(()=>os);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)};class Ii extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class Va extends Ii{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class za extends Ii{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ka extends Ii{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Qo;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Qo||(Qo={}));var sp=function(t,e,n,s){function r(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(c){try{d(s.next(c))}catch(f){i(f)}}function l(c){try{d(s.throw(c))}catch(f){i(f)}}function d(c){c.done?o(c.value):r(c.value).then(a,l)}d((s=s.apply(t,e||[])).next())})};class rp{constructor(e,{headers:n={},customFetch:s,region:r=Qo.Any}={}){this.url=e,this.headers=n,this.region=r,this.fetch=np(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return sp(this,arguments,void 0,function*(n,s={}){var r;try{const{headers:o,method:i,body:a,signal:l}=s;let d={},{region:c}=s;c||(c=this.region);const f=new URL(`${this.url}/${n}`);c&&c!=="any"&&(d["x-region"]=c,f.searchParams.set("forceFunctionRegion",c));let h;a&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",h=a):typeof a=="string"?(d["Content-Type"]="text/plain",h=a):typeof FormData<"u"&&a instanceof FormData?h=a:(d["Content-Type"]="application/json",h=JSON.stringify(a)));const p=yield this.fetch(f.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),o),body:h,signal:l}).catch(_=>{throw _.name==="AbortError"?_:new Va(_)}),m=p.headers.get("x-relay-error");if(m&&m==="true")throw new za(p);if(!p.ok)throw new Ka(p);let b=((r=p.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return b==="application/json"?g=yield p.json():b==="application/octet-stream"?g=yield p.blob():b==="text/event-stream"?g=p:b==="multipart/form-data"?g=yield p.formData():g=yield p.text(),{data:g,error:null,response:p}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new Va(o)}:{data:null,error:o,response:o instanceof Ka||o instanceof za?o.context:void 0}}})}}var ft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function op(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var r=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:function(){return t[s]}})}),n}var Ze={},Mi={},to={},Gs={},no={},so={},ip=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ns=ip();const ap=ns.fetch,fu=ns.fetch.bind(ns),hu=ns.Headers,lp=ns.Request,cp=ns.Response,os=Object.freeze(Object.defineProperty({__proto__:null,Headers:hu,Request:lp,Response:cp,default:fu,fetch:ap},Symbol.toStringTag,{value:"Module"})),up=op(os);var ro={};Object.defineProperty(ro,"__esModule",{value:!0});let dp=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ro.default=dp;var mu=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(so,"__esModule",{value:!0});const fp=mu(up),hp=mu(ro);let mp=class{constructor(e){var n,s;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(s=e.isMaybeSingle)!==null&&s!==void 0?s:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=fp.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let r=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,a,l,d;let c=null,f=null,h=null,p=o.status,m=o.statusText;if(o.ok){if(this.method!=="HEAD"){const w=await o.text();w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((i=this.headers.get("Accept"))===null||i===void 0)&&i.includes("application/vnd.pgrst.plan+text"))?f=w:f=JSON.parse(w))}const g=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),_=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&_&&_.length>1&&(h=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,p=406,m="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const g=await o.text();try{c=JSON.parse(g),Array.isArray(c)&&o.status===404&&(f=[],c=null,p=200,m="OK")}catch{o.status===404&&g===""?(p=204,m="No Content"):c={message:g}}if(c&&this.isMaybeSingle&&(!((d=c==null?void 0:c.details)===null||d===void 0)&&d.includes("0 rows"))&&(c=null,p=200,m="OK"),c&&this.shouldThrowOnError)throw new hp.default(c)}return{error:c,data:f,count:h,status:p,statusText:m}});return this.shouldThrowOnError||(r=r.catch(o=>{var i,a,l;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o==null?void 0:o.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,n)}returns(){return this}overrideTypes(){return this}};so.default=mp;var pp=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(no,"__esModule",{value:!0});const gp=pp(so);let vp=class extends gp.default{select(e){let n=!1;const s=(e??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:s,foreignTable:r,referencedTable:o=r}={}){const i=o?`${o}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:s=n}={}){const r=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,n,{foreignTable:s,referencedTable:r=s}={}){const o=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(i,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:s=!1,buffers:r=!1,wal:o=!1,format:i="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,s?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),d=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${d}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};no.default=vp;var yp=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gs,"__esModule",{value:!0});const bp=yp(no);let wp=class extends bp.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const s=Array.from(new Set(n)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:s,type:r}={}){let o="";r==="plain"?o="pl":r==="phrase"?o="ph":r==="websearch"&&(o="w");const i=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${o}fts${i}.${n}`),this}match(e){return Object.entries(e).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(e,n,s){return this.url.searchParams.append(e,`not.${n}.${s}`),this}or(e,{foreignTable:n,referencedTable:s=n}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,n,s){return this.url.searchParams.append(e,`${n}.${s}`),this}};Gs.default=wp;var _p=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(to,"__esModule",{value:!0});const hs=_p(Gs);let xp=class{constructor(e,{headers:n={},schema:s,fetch:r}){this.url=e,this.headers=new Headers(n),this.schema=s,this.fetch=r}select(e,n){const{head:s=!1,count:r}=n??{},o=s?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new hs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:s=!0}={}){var r;const o="POST";if(n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(i.length>0){const a=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new hs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:s=!1,count:r,defaultToNull:o=!0}={}){var i;const a="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),r&&this.headers.append("Prefer",`count=${r}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((d,c)=>d.concat(Object.keys(c)),[]);if(l.length>0){const d=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",d.join(","))}}return new hs.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:n}={}){var s;const r="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new hs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:e}={}){var n;const s="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new hs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};to.default=xp;var pu=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mi,"__esModule",{value:!0});const Sp=pu(to),kp=pu(Gs);let Ep=class gu{constructor(e,{headers:n={},schema:s,fetch:r}={}){this.url=e,this.headers=new Headers(n),this.schemaName=s,this.fetch=r}from(e){const n=new URL(`${this.url}/${e}`);return new Sp.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new gu(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:s=!1,get:r=!1,count:o}={}){var i;let a;const l=new URL(`${this.url}/rpc/${e}`);let d;s||r?(a=s?"HEAD":"GET",Object.entries(n).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{l.searchParams.append(f,h)})):(a="POST",d=n);const c=new Headers(this.headers);return o&&c.set("Prefer",`count=${o}`),new kp.default({method:a,url:l,headers:c,schema:this.schemaName,body:d,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};Mi.default=Ep;var is=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.PostgrestError=Ze.PostgrestBuilder=Ze.PostgrestTransformBuilder=Ze.PostgrestFilterBuilder=Ze.PostgrestQueryBuilder=Ze.PostgrestClient=void 0;const vu=is(Mi);Ze.PostgrestClient=vu.default;const yu=is(to);Ze.PostgrestQueryBuilder=yu.default;const bu=is(Gs);Ze.PostgrestFilterBuilder=bu.default;const wu=is(no);Ze.PostgrestTransformBuilder=wu.default;const _u=is(so);Ze.PostgrestBuilder=_u.default;const xu=is(ro);Ze.PostgrestError=xu.default;var Op=Ze.default={PostgrestClient:vu.default,PostgrestQueryBuilder:yu.default,PostgrestFilterBuilder:bu.default,PostgrestTransformBuilder:wu.default,PostgrestBuilder:_u.default,PostgrestError:xu.default};const{PostgrestClient:Cp,PostgrestQueryBuilder:Ak,PostgrestFilterBuilder:Rk,PostgrestTransformBuilder:Pk,PostgrestBuilder:jk,PostgrestError:Ik}=Op;class Tp{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,r=parseInt(s.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const $p="2.75.0",Ap=`realtime-js/${$p}`,Rp="1.0.0",Zo=1e4,Pp=1e3,jp=100;var $s;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})($s||($s={}));var Ie;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ie||(Ie={}));var vt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(vt||(vt={}));var ei;(function(t){t.websocket="websocket"})(ei||(ei={}));var xn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(xn||(xn={}));class Ip{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,n,s)}_decodeBroadcast(e,n,s){const r=n.getUint8(1),o=n.getUint8(2);let i=this.HEADER_LENGTH+2;const a=s.decode(e.slice(i,i+r));i=i+r;const l=s.decode(e.slice(i,i+o));i=i+o;const d=JSON.parse(s.decode(e.slice(i,e.byteLength)));return{ref:null,topic:a,event:l,payload:d}}}class Su{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var we;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(we||(we={}));const Ja=(t,e,n={})=>{var s;const r=(s=n.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((o,i)=>(o[i]=Mp(i,t,e,r),o),{}):{}},Mp=(t,e,n,s)=>{const r=e.find(a=>a.name===t),o=r==null?void 0:r.type,i=n[t];return o&&!s.includes(o)?ku(o,i):ti(i)},ku=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Fp(e,n)}switch(t){case we.bool:return Dp(e);case we.float4:case we.float8:case we.int2:case we.int4:case we.int8:case we.numeric:case we.oid:return Np(e);case we.json:case we.jsonb:return Up(e);case we.timestamp:return Lp(e);case we.abstime:case we.date:case we.daterange:case we.int4range:case we.int8range:case we.money:case we.reltime:case we.text:case we.time:case we.timestamptz:case we.timetz:case we.tsrange:case we.tstzrange:return ti(e);default:return ti(e)}},ti=t=>t,Dp=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Np=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Up=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Fp=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let o;const i=t.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>ku(e,a))}return t},Lp=t=>typeof t=="string"?t.replace(" ","T"):t,Eu=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Eo{constructor(e,n,s={},r=Zo){this.channel=e,this.event=n,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ga;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ga||(Ga={}));class As{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=As.syncState(this.state,r,o,i),this.pendingDiffs.forEach(l=>{this.state=As.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},r=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=As.syncDiff(this.state,r,o,i),a())}),this.onJoin((r,o,i)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:o,newPresences:i})}),this.onLeave((r,o,i)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,r){const o=this.cloneDeep(e),i=this.transformState(n),a={},l={};return this.map(o,(d,c)=>{i[d]||(l[d]=c)}),this.map(i,(d,c)=>{const f=o[d];if(f){const h=c.map(g=>g.presence_ref),p=f.map(g=>g.presence_ref),m=c.filter(g=>p.indexOf(g.presence_ref)<0),b=f.filter(g=>h.indexOf(g.presence_ref)<0);m.length>0&&(a[d]=m),b.length>0&&(l[d]=b)}else a[d]=c}),this.syncDiff(o,{joins:a,leaves:l},s,r)}static syncDiff(e,n,s,r){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(o,(a,l)=>{var d;const c=(d=e[a])!==null&&d!==void 0?d:[];if(e[a]=this.cloneDeep(l),c.length>0){const f=e[a].map(p=>p.presence_ref),h=c.filter(p=>f.indexOf(p.presence_ref)<0);e[a].unshift(...h)}s(a,c,l)}),this.map(i,(a,l)=>{let d=e[a];if(!d)return;const c=l.map(f=>f.presence_ref);d=d.filter(f=>c.indexOf(f.presence_ref)<0),e[a]=d,r(a,d,l),d.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const r=e[s];return"metas"in r?n[s]=r.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[s]=r,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ya;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ya||(Ya={}));var Rs;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Rs||(Rs={}));var Bt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Bt||(Bt={}));class Di{constructor(e,n={config:{}},s){var r,o;if(this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=Ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Eo(this,vt.join,this.params,this.timeout),this.rejoinTimer=new Su(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ie.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vt.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new As(this),this.broadcastEndpointURL=Eu(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var s,r,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ie.closed){const{config:{broadcast:i,presence:a,private:l}}=this.params,d=(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(p=>p.filter))!==null&&r!==void 0?r:[],c=!!this.bindings[Rs.PRESENCE]&&this.bindings[Rs.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},h={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:d,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(Bt.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(Bt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket.setAuth(),p===void 0){e==null||e(Bt.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,g=(m=b==null?void 0:b.length)!==null&&m!==void 0?m:0,_=[];for(let w=0;w<g;w++){const v=b[w],{filter:{event:k,schema:M,table:W,filter:A}}=v,O=p&&p[w];if(O&&O.event===k&&O.schema===M&&O.table===W&&O.filter===A)_.push(Object.assign(Object.assign({},v),{id:O.id}));else{this.unsubscribe(),this.state=Ie.errored,e==null||e(Bt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(Bt.SUBSCRIBED);return}}).receive("error",p=>{this.state=Ie.errored,e==null||e(Bt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Bt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===Ie.joined&&e===Rs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,s)}async send(e,n={}){var s,r;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:i}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((r=d.body)===null||r===void 0?void 0:r.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,l;const d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ie.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vt.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(r=>{s=new Eo(this,vt.leave,{},e),s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ie.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const r=new AbortController,o=setTimeout(()=>r.abort(),s),i=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(o),i}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Eo(this,e,n,s);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>jp){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var r,o;const i=e.toLocaleLowerCase(),{close:a,error:l,leave:d,join:c}=vt;if(s&&[a,l,d,c].indexOf(i)>=0&&s!==this._joinRef())return;let h=this._onMessage(i,n,s);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(p=>{var m,b,g;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((g=(b=p.filter)===null||b===void 0?void 0:b.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===i}).map(p=>p.callback(h,s)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var m,b,g,_,w,v;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const k=p.id,M=(m=p.filter)===null||m===void 0?void 0:m.event;return k&&((b=n.ids)===null||b===void 0?void 0:b.includes(k))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((g=n.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const k=(w=(_=p==null?void 0:p.filter)===null||_===void 0?void 0:_.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return k==="*"||k===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:b,table:g,commit_timestamp:_,type:w,errors:v}=m;h=Object.assign(Object.assign({},{schema:b,table:g,commit_timestamp:_,eventType:w,new:{},old:{},errors:v}),this._getPayloadRecords(m))}p.callback(h,s)})}_isClosed(){return this.state===Ie.closed}_isJoined(){return this.state===Ie.joined}_isJoining(){return this.state===Ie.joining}_isLeaving(){return this.state===Ie.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const r=e.toLocaleLowerCase(),o={type:r,filter:n,callback:s};return this.bindings[r]?this.bindings[r].push(o):this.bindings[r]=[o],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(r=>{var o;return!(((o=r.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===s&&Di.isEqual(r.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(vt.close,{},e)}_onError(e){this._on(vt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ie.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Ja(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Ja(e.columns,e.old_record)),n}}const Oo=()=>{},ir={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Bp=[1e3,2e3,5e3,1e4],qp=1e4,Hp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Wp{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zo,this.transport=null,this.heartbeatIntervalMs=ir.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Oo,this.ref=0,this.reconnectTimer=null,this.logger=Oo,this.conn=null,this.sendBuffer=[],this.serializer=new Ip,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>{let o;return r?o=r:typeof fetch>"u"?o=(...i)=>rs(async()=>{const{default:a}=await Promise.resolve().then(()=>os);return{default:a}},void 0).then(({default:a})=>a(...i)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...i)=>o(...i)},!(!((s=n==null?void 0:n.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${ei.websocket}`,this.httpEndpoint=Eu(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Tp.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Rp}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case $s.connecting:return xn.Connecting;case $s.open:return xn.Open;case $s.closing:return xn.Closing;default:return xn.Closed}}isConnected(){return this.connectionState()===xn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,r=this.getChannels().find(o=>o.topic===s);if(r)return r;{const o=new Di(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:s,payload:r,ref:o}=e,i=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${s} (${o})`,r),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Pp,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ir.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:r,payload:o,ref:i}=n,a=i?`(${i})`:"",l=o.status||"";this.log("receive",`${l} ${s} ${r} ${a}`.trim(),o),this.channels.filter(d=>d._isMember(s)).forEach(d=>d._trigger(r,o,i)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(vt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${e}${s}${r}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([Hp],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const r={access_token:n,version:Ap};n&&s.updateJoinPayload(r),s.joinedOnce&&s._isJoined()&&s._push(vt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Su(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ir.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,r,o,i,a,l,d,c;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:Zo,this.heartbeatIntervalMs=(r=e==null?void 0:e.heartbeatIntervalMs)!==null&&r!==void 0?r:ir.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=e==null?void 0:e.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Oo,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:f=>Bp[f-1]||qp,this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(f,h)=>h(JSON.stringify(f)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Ni extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Pe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Vp extends Ni{constructor(e,n,s){super(e),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ni extends Ni{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var zp=function(t,e,n,s){function r(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(c){try{d(s.next(c))}catch(f){i(f)}}function l(c){try{d(s.throw(c))}catch(f){i(f)}}function d(c){c.done?o(c.value):r(c.value).then(a,l)}d((s=s.apply(t,e||[])).next())})};const Ou=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>rs(async()=>{const{default:s}=await Promise.resolve().then(()=>os);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},Kp=()=>zp(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield rs(()=>Promise.resolve().then(()=>os),void 0)).Response:Response}),si=t=>{if(Array.isArray(t))return t.map(n=>si(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const r=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[r]=si(s)}),e},Jp=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Rn=function(t,e,n,s){function r(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(c){try{d(s.next(c))}catch(f){i(f)}}function l(c){try{d(s.throw(c))}catch(f){i(f)}}function d(c){c.done?o(c.value):r(c.value).then(a,l)}d((s=s.apply(t,e||[])).next())})};const Co=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Gp=(t,e,n)=>Rn(void 0,void 0,void 0,function*(){const s=yield Kp();t instanceof s&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const o=t.status||500,i=(r==null?void 0:r.statusCode)||o+"";e(new Vp(Co(r),o,i))}).catch(r=>{e(new ni(Co(r),r))}):e(new ni(Co(t),t))}),Yp=(t,e,n,s)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!s?r:(Jp(s)?(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(s)):r.body=s,e!=null&&e.duplex&&(r.duplex=e.duplex),Object.assign(Object.assign({},r),n))};function Ys(t,e,n,s,r,o){return Rn(this,void 0,void 0,function*(){return new Promise((i,a)=>{t(n,Yp(e,s,r,o)).then(l=>{if(!l.ok)throw l;return s!=null&&s.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>Gp(l,a,s))})})}function Pr(t,e,n,s){return Rn(this,void 0,void 0,function*(){return Ys(t,"GET",e,n,s)})}function Rt(t,e,n,s,r){return Rn(this,void 0,void 0,function*(){return Ys(t,"POST",e,s,r,n)})}function ri(t,e,n,s,r){return Rn(this,void 0,void 0,function*(){return Ys(t,"PUT",e,s,r,n)})}function Xp(t,e,n,s){return Rn(this,void 0,void 0,function*(){return Ys(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function Cu(t,e,n,s,r){return Rn(this,void 0,void 0,function*(){return Ys(t,"DELETE",e,s,r,n)})}var Qp=function(t,e,n,s){function r(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(c){try{d(s.next(c))}catch(f){i(f)}}function l(c){try{d(s.throw(c))}catch(f){i(f)}}function d(c){c.done?o(c.value):r(c.value).then(a,l)}d((s=s.apply(t,e||[])).next())})};class Zp{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return Qp(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Pe(e))return{data:null,error:e};throw e}})}}var eg=function(t,e,n,s){function r(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(c){try{d(s.next(c))}catch(f){i(f)}}function l(c){try{d(s.throw(c))}catch(f){i(f)}}function d(c){c.done?o(c.value):r(c.value).then(a,l)}d((s=s.apply(t,e||[])).next())})};class tg{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new Zp(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return eg(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Pe(e))return{data:null,error:e};throw e}})}}var Qe=function(t,e,n,s){function r(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(c){try{d(s.next(c))}catch(f){i(f)}}function l(c){try{d(s.throw(c))}catch(f){i(f)}}function d(c){c.done?o(c.value):r(c.value).then(a,l)}d((s=s.apply(t,e||[])).next())})};const ng={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Xa={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class sg{constructor(e,n={},s,r){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=s,this.fetch=Ou(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,s,r){return Qe(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Xa),r);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&s instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",s)):typeof FormData<"u"&&s instanceof FormData?(o=s,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=s,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r!=null&&r.headers&&(a=Object.assign(Object.assign({},a),r.headers));const d=this._removeEmptyFolders(n),c=this._getFinalPath(d),f=yield(e=="PUT"?ri:Rt)(this.fetch,`${this.url}/object/${c}`,o,Object.assign({headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:d,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}})}upload(e,n,s){return Qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,s)})}uploadToSignedUrl(e,n,s,r){return Qe(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",n);try{let l;const d=Object.assign({upsert:Xa.upsert},r),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",d.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",d.cacheControl)):(l=s,c["cache-control"]=`max-age=${d.cacheControl}`,c["content-type"]=d.contentType);const f=yield ri(this.fetch,a.toString(),l,{headers:c});return{data:{path:o,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Qe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const r=Object.assign({},this.headers);n!=null&&n.upsert&&(r["x-upsert"]="true");const o=yield Rt(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:r}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new Ni("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:a},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}update(e,n,s){return Qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,s)})}move(e,n,s){return Qe(this,void 0,void 0,function*(){try{return{data:yield Rt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}copy(e,n,s){return Qe(this,void 0,void 0,function*(){try{return{data:{path:(yield Rt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,s){return Qe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),o=yield Rt(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}createSignedUrls(e,n,s){return Qe(this,void 0,void 0,function*(){try{const r=yield Rt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:r.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}download(e,n){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=o?`?${o}`:"",a=this._getFinalPath(e),l=()=>Pr(this.fetch,`${this.url}/${r}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new tg(l,this.shouldThrowOnError)}info(e){return Qe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const s=yield Pr(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:si(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}exists(e){return Qe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Xp(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s)&&s instanceof ni){const r=s.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,n){const s=this._getFinalPath(e),r=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&r.push(o);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&r.push(l);let d=r.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${d}`)}}}remove(e){return Qe(this,void 0,void 0,function*(){try{return{data:yield Cu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}list(e,n,s){return Qe(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},ng),n),{prefix:e||""});return{data:yield Rt(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}listV2(e,n){return Qe(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield Rt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const rg="2.75.0",og={"X-Client-Info":`storage-js/${rg}`};var Mn=function(t,e,n,s){function r(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(c){try{d(s.next(c))}catch(f){i(f)}}function l(c){try{d(s.throw(c))}catch(f){i(f)}}function d(c){c.done?o(c.value):r(c.value).then(a,l)}d((s=s.apply(t,e||[])).next())})};class ig{constructor(e,n={},s,r){this.shouldThrowOnError=!1;const o=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},og),n),this.fetch=Ou(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Mn(this,void 0,void 0,function*(){try{return{data:yield Pr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Pe(e))return{data:null,error:e};throw e}})}getBucket(e){return Mn(this,void 0,void 0,function*(){try{return{data:yield Pr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}createBucket(e){return Mn(this,arguments,void 0,function*(n,s={public:!1}){try{return{data:yield Rt(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Mn(this,void 0,void 0,function*(){try{return{data:yield ri(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Mn(this,void 0,void 0,function*(){try{return{data:yield Rt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Mn(this,void 0,void 0,function*(){try{return{data:yield Cu(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}}class ag extends ig{constructor(e,n={},s,r){super(e,n,s,r)}from(e){return new sg(this.url,this.headers,e,this.fetch)}}const lg="2.75.0";let ys="";typeof Deno<"u"?ys="deno":typeof document<"u"?ys="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ys="react-native":ys="node";const cg={"X-Client-Info":`supabase-js-${ys}/${lg}`},ug={headers:cg},dg={schema:"public"},fg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hg={};var mg=function(t,e,n,s){function r(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(c){try{d(s.next(c))}catch(f){i(f)}}function l(c){try{d(s.throw(c))}catch(f){i(f)}}function d(c){c.done?o(c.value):r(c.value).then(a,l)}d((s=s.apply(t,e||[])).next())})};const pg=t=>{let e;return t?e=t:typeof fetch>"u"?e=fu:e=fetch,(...n)=>e(...n)},gg=()=>typeof Headers>"u"?hu:Headers,vg=(t,e,n)=>{const s=pg(n),r=gg();return(o,i)=>mg(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let d=new r(i==null?void 0:i.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${l}`),s(o,Object.assign(Object.assign({},i),{headers:d}))})};var yg=function(t,e,n,s){function r(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(c){try{d(s.next(c))}catch(f){i(f)}}function l(c){try{d(s.throw(c))}catch(f){i(f)}}function d(c){c.done?o(c.value):r(c.value).then(a,l)}d((s=s.apply(t,e||[])).next())})};function bg(t){return t.endsWith("/")?t:t+"/"}function wg(t,e){var n,s;const{db:r,auth:o,realtime:i,global:a}=t,{db:l,auth:d,realtime:c,global:f}=e,h={db:Object.assign(Object.assign({},l),r),auth:Object.assign(Object.assign({},d),o),realtime:Object.assign(Object.assign({},c),i),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(s=a==null?void 0:a.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>yg(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function _g(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(bg(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Tu="2.75.0",Wn=30*1e3,oi=3,To=oi*Wn,xg="http://localhost:9999",Sg="supabase.auth.token",kg={"X-Client-Info":`gotrue-js/${Tu}`},ii="X-Supabase-Api-Version",$u={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Eg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Og=10*60*1e3;class Ls extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function J(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Cg extends Ls{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function Tg(t){return J(t)&&t.name==="AuthApiError"}class Sn extends Ls{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class fn extends Ls{constructor(e,n,s,r){super(e,s,r),this.name=n,this.status=s}}class Zt extends fn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $g(t){return J(t)&&t.name==="AuthSessionMissingError"}class Dn extends fn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ar extends fn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class lr extends fn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ag(t){return J(t)&&t.name==="AuthImplicitGrantRedirectError"}class Qa extends fn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ai extends fn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function $o(t){return J(t)&&t.name==="AuthRetryableFetchError"}class Za extends fn{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class li extends fn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const jr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),el=` 	
\r=`.split(""),Rg=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<el.length;e+=1)t[el[e].charCodeAt(0)]=-2;for(let e=0;e<jr.length;e+=1)t[jr[e].charCodeAt(0)]=e;return t})();function tl(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(jr[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(jr[s]),e.queuedBits-=6}}function Au(t,e,n){const s=Rg[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function nl(t){const e=[],n=i=>{e.push(String.fromCodePoint(i))},s={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},o=i=>{Ig(i,s,n)};for(let i=0;i<t.length;i+=1)Au(t.charCodeAt(i),r,o);return e.join("")}function Pg(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function jg(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const r=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}Pg(s,e)}}function Ig(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if(!(t>>7-s&1)){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Xn(t){const e=[],n={queue:0,queuedBits:0},s=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)Au(t.charCodeAt(r),n,s);return new Uint8Array(e)}function Mg(t){const e=[];return jg(t,n=>e.push(n)),new Uint8Array(e)}function kn(t){const e=[],n={queue:0,queuedBits:0},s=r=>{e.push(r)};return t.forEach(r=>tl(r,n,s)),tl(null,n,s),e.join("")}function Dg(t){return Math.round(Date.now()/1e3)+t}function Ng(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ot=()=>typeof window<"u"&&typeof document<"u",gn={tested:!1,writable:!1},Ru=()=>{if(!ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gn.tested)return gn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),gn.tested=!0,gn.writable=!0}catch{gn.tested=!0,gn.writable=!1}return gn.writable};function Ug(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,o)=>{e[o]=r})}catch{}return n.searchParams.forEach((s,r)=>{e[r]=s}),e}const Pu=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>rs(async()=>{const{default:s}=await Promise.resolve().then(()=>os);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},Fg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Vn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},vn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Yt=async(t,e)=>{await t.removeItem(e)};class oo{constructor(){this.promise=new oo.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}oo.promiseConstructor=Promise;function Ao(t){const e=t.split(".");if(e.length!==3)throw new li("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!Eg.test(e[s]))throw new li("JWT not in base64url format");return{header:JSON.parse(nl(e[0])),payload:JSON.parse(nl(e[1])),signature:Xn(e[2]),raw:{header:e[0],payload:e[1]}}}async function Lg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Bg(t,e){return new Promise((s,r)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await t(o);if(!e(o,null,i)){s(i);return}}catch(i){if(!e(o,i)){r(i);return}}})()})}function qg(t){return("0"+t.toString(16)).substr(-2)}function Hg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let r="";for(let o=0;o<56;o++)r+=n.charAt(Math.floor(Math.random()*s));return r}return crypto.getRandomValues(e),Array.from(e,qg).join("")}async function Wg(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(s);return Array.from(r).map(o=>String.fromCharCode(o)).join("")}async function Vg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Wg(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Nn(t,e,n=!1){const s=Hg();let r=s;n&&(r+="/PASSWORD_RECOVERY"),await Vn(t,`${e}-code-verifier`,r);const o=await Vg(s);return[o,s===o?"plain":"s256"]}const zg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Kg(t){const e=t.headers.get(ii);if(!e||!e.match(zg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Jg(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Gg(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Yg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Un(t){if(!Yg.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ro(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function sl(t){return JSON.parse(JSON.stringify(t))}var Xg=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};const bn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Qg=[502,503,504];async function rl(t){var e;if(!Fg(t))throw new ai(bn(t),0);if(Qg.includes(t.status))throw new ai(bn(t),t.status);let n;try{n=await t.json()}catch(o){throw new Sn(bn(o),o)}let s;const r=Kg(t);if(r&&r.getTime()>=$u["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new Za(bn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Zt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Za(bn(n),t.status,n.weak_password.reasons);throw new Cg(bn(n),t.status||500,s)}const Zg=(t,e,n,s)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),n))};async function ee(t,e,n,s){var r;const o=Object.assign({},s==null?void 0:s.headers);o[ii]||(o[ii]=$u["2024-01-01"].name),s!=null&&s.jwt&&(o.Authorization=`Bearer ${s.jwt}`);const i=(r=s==null?void 0:s.query)!==null&&r!==void 0?r:{};s!=null&&s.redirectTo&&(i.redirect_to=s.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await e0(t,e,n+a,{headers:o,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function e0(t,e,n,s,r,o){const i=Zg(e,s,r,o);let a;try{a=await t(n,Object.assign({},i))}catch(l){throw console.error(l),new ai(bn(l),0)}if(a.ok||await rl(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(l){await rl(l)}}function gt(t){var e;let n=null;s0(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Dg(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function ol(t){const e=gt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function sn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function t0(t){return{data:t,error:null}}function n0(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:r,verification_type:o}=t,i=Xg(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:s,redirect_to:r,verification_type:o},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function il(t){return t}function s0(t){return t.access_token&&t.refresh_token&&t.expires_in}const Po=["global","local","others"];var r0=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};class o0{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=Pu(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Po[0]){if(Po.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Po.join(", ")}`);try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(J(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:sn})}catch(s){if(J(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=r0(e,["options"]),r=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(r.new_email=s==null?void 0:s.newEmail,delete r.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:n0,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(J(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:sn})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,r,o,i,a,l;try{const d={nextPage:null,lastPage:0,total:0},c=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(o=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:""},xform:il});if(c.error)throw c.error;const f=await c.json(),h=(i=c.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const b=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(m.split(";")[1].split("=")[1]);d[`${g}Page`]=b}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(J(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){Un(e);try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:sn})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Un(e);try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:sn})}catch(s){if(J(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){Un(e);try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:sn})}catch(s){if(J(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Un(e.userId);try{const{data:n,error:s}=await ee(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:s}}catch(n){if(J(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Un(e.userId),Un(e.id);try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,s,r,o,i,a,l;try{const d={nextPage:null,lastPage:0,total:0},c=await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(o=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:""},xform:il});if(c.error)throw c.error;const f=await c.json(),h=(i=c.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const b=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(m.split(";")[1].split("=")[1]);d[`${g}Page`]=b}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(J(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}}function al(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Fn={debug:!!(globalThis&&Ru()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ju extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class i0 extends ju{}async function a0(t,e,n){Fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Fn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async r=>{if(r){Fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await n()}finally{Fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw Fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new i0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Fn.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function l0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Iu(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function c0(t){return parseInt(t,16)}function u0(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function d0(t){var e;const{chainId:n,domain:s,expirationTime:r,issuedAt:o=new Date,nonce:i,notBefore:a,requestId:l,resources:d,scheme:c,uri:f,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=Iu(t.address),m=c?`${c}://${s}`:s,b=t.statement?`${t.statement}
`:"",g=`${m} wants you to sign in with your Ethereum account:
${p}

${b}`;let _=`URI: ${f}
Version: ${h}
Chain ID: ${n}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(r&&(_+=`
Expiration Time: ${r.toISOString()}`),a&&(_+=`
Not Before: ${a.toISOString()}`),l&&(_+=`
Request ID: ${l}`),d){let w=`
Resources:`;for(const v of d){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);w+=`
- ${v}`}_+=w}return`${g}
${_}`}class Re extends Error{constructor({message:e,code:n,cause:s,name:r}){var o;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(o=r??(s instanceof Error?s.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Ir extends Re{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function f0({error:t,options:e}){var n,s,r;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Re({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Re({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Re({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Re({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Re({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Re({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Re({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Re({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(Du(i)){if(o.rp.id!==i)return new Re({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Re({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Re({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Re({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Re({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function h0({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Re({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Re({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(Du(s)){if(n.rpId!==s)return new Re({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Re({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Re({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Re({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var Mu=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};class m0{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const p0=new m0;function g0(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:s}=t,r=Mu(t,["challenge","user","excludeCredentials"]),o=Xn(e).buffer,i=Object.assign(Object.assign({},n),{id:Xn(n.id).buffer}),a=Object.assign(Object.assign({},r),{challenge:o,user:i});if(s&&s.length>0){a.excludeCredentials=new Array(s.length);for(let l=0;l<s.length;l++){const d=s[l];a.excludeCredentials[l]=Object.assign(Object.assign({},d),{id:Xn(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return a}function v0(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,s=Mu(t,["challenge","allowCredentials"]),r=Xn(e).buffer,o=Object.assign(Object.assign({},s),{challenge:r});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let i=0;i<n.length;i++){const a=n[i];o.allowCredentials[i]=Object.assign(Object.assign({},a),{id:Xn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function y0(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:kn(new Uint8Array(t.response.attestationObject)),clientDataJSON:kn(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function b0(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,s=t.getClientExtensionResults(),r=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:kn(new Uint8Array(r.authenticatorData)),clientDataJSON:kn(new Uint8Array(r.clientDataJSON)),signature:kn(new Uint8Array(r.signature)),userHandle:r.userHandle?kn(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Du(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function ll(){var t,e;return!!(ot()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function w0(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ir("Browser returned unexpected credential type",e)}:{data:null,error:new Ir("Empty credential response",e)}}catch(e){return{data:null,error:f0({error:e,options:t})}}}async function _0(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ir("Browser returned unexpected credential type",e)}:{data:null,error:new Ir("Empty credential response",e)}}catch(e){return{data:null,error:h0({error:e,options:t})}}}const x0={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},S0={userVerification:"preferred",hints:["security-key"]};function Mr(...t){const e=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),n=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),s={};for(const r of t)if(r)for(const o in r){const i=r[o];if(i!==void 0)if(Array.isArray(i))s[o]=i;else if(n(i))s[o]=i;else if(e(i)){const a=s[o];e(a)?s[o]=Mr(a,i):s[o]=Mr(i)}else s[o]=i}return s}function k0(t,e){return Mr(x0,t,e||{})}function E0(t,e){return Mr(S0,t,e||{})}class O0{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:s,signal:r},o){try{const{data:i,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!i)return{data:null,error:a};const l=r??p0.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:d}=i.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${s}`),d.displayName||(d.displayName=d.name)}switch(i.webauthn.type){case"create":{const d=k0(i.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:c,error:f}=await w0({publicKey:d,signal:l});return c?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:c}},error:null}:{data:null,error:f}}case"request":{const d=E0(i.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:c,error:f}=await _0(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:d,signal:l}));return c?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:c}},error:null}:{data:null,error:f}}}}catch(i){return J(i)?{data:null,error:i}:{data:null,error:new Sn("Unexpected error in challenge",i)}}}async _verify({challengeId:e,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:r}},o){if(!n)return{data:null,error:new Ls("rpId is required for WebAuthn authentication")};try{if(!ll())return{data:null,error:new Sn("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:s},signal:r},{request:o});if(!i)return{data:null,error:a};const{webauthn:l}=i;return this._verify({factorId:e,challengeId:i.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:s,credential_response:l.credential_response}})}catch(i){return J(i)?{data:null,error:i}:{data:null,error:new Sn("Unexpected error in authenticate",i)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:r},o){if(!n)return{data:null,error:new Ls("rpId is required for WebAuthn registration")};try{if(!ll())return{data:null,error:new Sn("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this._enroll({friendlyName:e});if(!i)return await this.client.mfa.listFactors().then(c=>{var f;return(f=c.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:d}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:r},{create:o});return l?this._verify({factorId:i.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:s,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:d}}catch(i){return J(i)?{data:null,error:i}:{data:null,error:new Sn("Unexpected error in register",i)}}}}l0();const C0={url:xg,storageKey:Sg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function cl(t,e,n){return await n()}const Ln={};class Bs{get jwks(){var e,n;return(n=(e=Ln[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Ln[this.storageKey]=Object.assign(Object.assign({},Ln[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Ln[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ln[this.storageKey]=Object.assign(Object.assign({},Ln[this.storageKey]),{cachedAt:e})}constructor(e){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Bs.nextInstanceID,Bs.nextInstanceID+=1,this.instanceID>0&&ot()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},C0),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new o0({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Pu(r.fetch),this.lock=r.lock||cl,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:ot()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=a0:this.lock=cl,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new O0(this)},this.persistSession?(r.storage?this.storage=r.storage:Ru()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=al(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=al(this.memoryStorage)),ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Tu}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Ug(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),ot()&&this.detectSessionInUrl&&s!=="none"){const{data:r,error:o}=await this._getSessionFromURL(n,s);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Ag(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return J(n)?{error:n}:{error:new Sn("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,r;try{const o=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:gt}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(o){if(J(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var n,s,r;try{let o;if("email"in e){const{email:c,password:f,options:h}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Nn(this.storage,this.storageKey)),o=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:gt})}else if("phone"in e){const{phone:c,password:f,options:h}=e;o=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},channel:(r=h==null?void 0:h.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:gt})}else throw new ar("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(o){if(J(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:i,options:a}=e;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ol})}else if("phone"in e){const{phone:o,password:i,options:a}=e;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ol})}else throw new ar("You must provide either an email or phone number and a password");const{data:s,error:r}=n;return r?{data:{user:null,session:null},error:r}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Dn}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,s,r,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,r,o,i,a,l,d,c,f,h;let p,m;if("message"in e)p=e.message,m=e.signature;else{const{chain:b,wallet:g,statement:_,options:w}=e;let v;if(ot())if(typeof g=="object")v=g;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")v=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=g}const k=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),M=await v.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const W=Iu(M[0]);let A=(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!A){const P=await v.request({method:"eth_chainId"});A=c0(P)}const O={domain:k.host,address:W,statement:_,uri:k.href,version:"1",chainId:A,nonce:(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(i=(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.resources};p=d0(O),m=await v.request({method:"personal_sign",params:[u0(p),W]})}try{const{data:b,error:g}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:m},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:gt});if(g)throw g;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Dn}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:g})}catch(b){if(J(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(e){var n,s,r,o,i,a,l,d,c,f,h,p;let m,b;if("message"in e)m=e.message,b=e.signature;else{const{chain:g,wallet:_,statement:w,options:v}=e;let k;if(ot())if(typeof _=="object")k=_;else{const W=window;if("solana"in W&&typeof W.solana=="object"&&("signIn"in W.solana&&typeof W.solana.signIn=="function"||"signMessage"in W.solana&&typeof W.solana.signMessage=="function"))k=W.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=_}const M=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const W=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),w?{statement:w}:null));let A;if(Array.isArray(W)&&W[0]&&typeof W[0]=="object")A=W[0];else if(W&&typeof W=="object"&&"signedMessage"in W&&"signature"in W)A=W;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)m=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),b=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${M.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(r=(s=v==null?void 0:v.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((d=v==null?void 0:v.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((f=(c=v==null?void 0:v.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",...v.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const W=await k.signMessage(new TextEncoder().encode(m),"utf8");if(!W||!(W instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=W}}try{const{data:g,error:_}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:kn(b)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:gt});if(_)throw _;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new Dn}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:_})}catch(g){if(J(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(e){const n=await vn(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(n??"").split("/");try{const{data:o,error:i}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:gt});if(await Yt(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Dn}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:r??null}),error:i})}catch(o){if(J(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:n,provider:s,token:r,access_token:o,nonce:i}=e,a=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:gt}),{data:l,error:d}=a;return d?{data:{user:null,session:null},error:d}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Dn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:d})}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,s,r,o,i;try{if("email"in e){const{email:a,options:l}=e;let d=null,c=null;this.flowType==="pkce"&&([d,c]=await Nn(this.storage,this.storageKey));const{error:f}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:d,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:l}=e,{data:d,error:c}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:c}}throw new ar("You must provide either an email or phone number.")}catch(a){if(J(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,s;try{let r,o;"options"in e&&(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:i,error:a}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:r,xform:gt});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,d=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var n,s,r;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await Nn(this.storage,this.storageKey)),await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:t0})}catch(o){if(J(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new Zt;const{error:r}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(J(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:r,options:o}=e,{error:i}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:s,type:r,options:o}=e,{data:i,error:a}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new ar("You must provide either an email or phone number and a type")}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await vn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<To:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const i=await vn(this.userStorage,this.storageKey+"-user");i!=null&&i.user?e.user=i.user:e.user=Ro()}if(this.storage.isServer&&e.user){let i=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,d,c)=>(!i&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,d,c))})}return{data:{session:e},error:null}}const{data:r,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:sn}):await this._useSession(async n=>{var s,r,o;const{data:i,error:a}=n;if(a)throw a;return!(!((s=i.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zt}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0,xform:sn})})}catch(n){if(J(n))return $g(n)&&(await this._removeSession(),await Yt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:r,error:o}=s;if(o)throw o;if(!r.session)throw new Zt;const i=r.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Nn(this.storage,this.storageKey));const{data:d,error:c}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:sn});if(c)throw c;return i.user=d.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(s){if(J(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Zt;const n=Date.now()/1e3;let s=n,r=!0,o=null;const{payload:i}=Ao(e.access_token);if(i.exp&&(s=i.exp,r=s<=n),r){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(J(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:i,error:a}=n;if(a)throw a;e=(s=i.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new Zt;const{data:r,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ot())throw new lr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new lr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Qa("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new lr("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Qa("No code detected.");const{data:w,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:o,refresh_token:i,expires_in:a,expires_at:l,token_type:d}=e;if(!o||!a||!i||!d)throw new lr("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(a);let h=c+f;l&&(h=parseInt(l));const p=h-c;p*1e3<=Wn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,c);const{data:b,error:g}=await this._getUser(o);if(g)throw g;const _={provider_token:s,provider_refresh_token:r,access_token:o,expires_in:f,expires_at:h,refresh_token:i,token_type:d,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:e.type},error:null}}catch(s){if(J(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await vn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:r,error:o}=n;if(o)return{error:o};const i=(s=r.session)===null||s===void 0?void 0:s.access_token;if(i){const{error:a}=await this.admin.signOut(i,e);if(a&&!(Tg(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Yt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Ng(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,r;try{const{data:{session:o},error:i}=n;if(i)throw i;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let s=null,r=null;this.flowType==="pkce"&&([s,r]=await Nn(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(J(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:s,error:r}=await this._useSession(async o=>{var i,a,l,d,c;const{data:f,error:h}=o;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&c!==void 0?c:void 0})});if(r)throw r;return ot()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(J(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var s;try{const{error:r,data:{session:o}}=n;if(r)throw r;const{options:i,provider:a,token:l,access_token:d,nonce:c}=e,f=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=o==null?void 0:o.access_token)!==null&&s!==void 0?s:void 0,body:{provider:a,id_token:l,access_token:d,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:gt}),{data:h,error:p}=f;return p?{data:{user:null,session:null},error:p}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Dn}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:p})}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,r;const{data:o,error:i}=n;if(i)throw i;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await Bg(async r=>(r>0&&await Lg(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:gt})),(r,o)=>{const i=200*Math.pow(2,r);return o&&$o(o)&&Date.now()+i-s<Wn})}catch(s){if(this._debug(n,"error",s),J(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),ot()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await vn(this.storage,this.storageKey);if(r&&this.userStorage){let i=await vn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:r.user},await Vn(this.userStorage,this.storageKey+"-user",i)),r.user=(e=i==null?void 0:i.user)!==null&&e!==void 0?e:Ro()}else if(r&&!r.user&&!r.user){const i=await vn(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(r.user=i.user,await Yt(this.storage,this.storageKey+"-user"),await Vn(this.storage,this.storageKey,r)):r.user=Ro()}if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const o=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<To;if(this._debug(s,`session has${o?"":" not"} expired with margin of ${To}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),$o(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(r.access_token);!a&&(i!=null&&i.user)?(r.user=i.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(s,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new Zt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new oo;const{data:o,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!o.session)throw new Zt;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={data:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(r,"error",o),J(o)){const i={data:null,error:o};return $o(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(o),o}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,n,s=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){o.push(l)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Vn(this.userStorage,this.storageKey+"-user",{user:n.user});const r=Object.assign({},n);delete r.user;const o=sl(r);await Vn(this.storage,this.storageKey,o)}else{const r=sl(n);await Vn(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await Yt(this.storage,this.storageKey),await Yt(this.storage,this.storageKey+"-code-verifier"),await Yt(this.storage,this.storageKey+"-user"),this.userStorage&&await Yt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ot()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Wn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((s.expires_at*1e3-e)/Wn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Wn}ms, refresh threshold is ${oi} ticks`),r<=oi&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ju)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ot()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const r=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[o,i]=await Nn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});r.push(a.toString())}if(s!=null&&s.queryParams){const o=new URLSearchParams(s.queryParams);r.push(o.toString())}return s!=null&&s.skipBrowserRedirect&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:r,error:o}=n;return o?{data:null,error:o}:await ee(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,r;const{data:o,error:i}=n;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:d}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&l.type==="totp"&&(!((r=l==null?void 0:l.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:o}=n;if(o)return{data:null,error:o};const i=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?y0(e.webauthn.credential_response):b0(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:i,headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(J(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:o}=n;if(o)return{data:null,error:o};const i=await ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});if(i.error)return i;const{data:a}=i;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:g0(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:v0(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(J(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const r={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])r.all.push(o),o.status==="verified"&&r[o.factor_type].push(o);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,s;const{data:{session:r},error:o}=e;if(o)return{data:null,error:o};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Ao(r.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((s=(n=r.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const c=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(a=>a.kid===e);if(s)return s;const r=Date.now();if(s=this.jwks.keys.find(a=>a.kid===e),s&&this.jwks_cached_at+Og>r)return s;const{data:o,error:i}=await ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=r,s=o.keys.find(a=>a.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};s=p.session.access_token}const{header:r,payload:o,signature:i,raw:{header:a,payload:l}}=Ao(s);n!=null&&n.allowExpired||Jg(o.exp);const d=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:p}=await this.getUser(s);if(p)throw p;return{data:{claims:o,header:r,signature:i},error:null}}const c=Gg(r.alg),f=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,i,Mg(`${a}.${l}`)))throw new li("Invalid JWT signature");return{data:{claims:o,header:r,signature:i},error:null}}catch(s){if(J(s))return{data:null,error:s};throw s}}}Bs.nextInstanceID=0;const T0=Bs;class $0 extends T0{constructor(e){super(e)}}var A0=function(t,e,n,s){function r(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(c){try{d(s.next(c))}catch(f){i(f)}}function l(c){try{d(s.throw(c))}catch(f){i(f)}}function d(c){c.done?o(c.value):r(c.value).then(a,l)}d((s=s.apply(t,e||[])).next())})};class R0{constructor(e,n,s){var r,o,i;this.supabaseUrl=e,this.supabaseKey=n;const a=_g(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,d={db:dg,realtime:hg,auth:Object.assign(Object.assign({},fg),{storageKey:l}),global:ug},c=wg(s??{},d);this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(o=c.global.headers)!==null&&o!==void 0?o:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=c.auth)!==null&&i!==void 0?i:{},this.headers,c.global.fetch),this.fetch=vg(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Cp(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new ag(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new rp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,s)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return A0(this,void 0,void 0,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:r,userStorage:o,storageKey:i,flowType:a,lock:l,debug:d},c,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $0({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:r,userStorage:o,flowType:a,lock:l,debug:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Wp(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,n,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const P0=(t,e,n)=>new R0(t,e,n);function j0(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}j0()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const I0="https://cqqeylhspmpilzgmqfiu.supabase.co",M0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxcWV5bGhzcG1waWx6Z21xZml1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk1MTgxNTcsImV4cCI6MjA3NTA5NDE1N30.sPk51xxT7KBFp0_KC674PS62nwXNtBpo7UCKRm6ZEeY",pt=P0(I0,M0);class D0{async login(e,n){try{console.log("OrganizacoesService: Tentando login com Supabase Auth:",e);const{data:s,error:r}=await pt.auth.signInWithPassword({email:e,password:n});if(console.log("OrganizacoesService: Resposta Supabase Auth:",{authData:s,authError:r}),r||!s.user)return{success:!1,error:"Credenciais inválidas"};const{data:o,error:i}=await pt.from("funcionarios").select(`
          id, nome, email, cargo, role, ativo, ultimo_login,
          organizacao_id
        `).eq("auth_user_id",s.user.id).eq("ativo",!0).single();if(console.log("OrganizacoesService: Dados funcionário:",{funcionarioData:o,funcionarioError:i}),i||!o)return{success:!1,error:"Funcionário não encontrado"};let a="Organização",l="matriz";if(o.organizacao_id){const{data:d}=await pt.from("organizacoes").select("nome, tipo").eq("id",o.organizacao_id).single();d&&(a=d.nome,l=d.tipo)}return await pt.from("funcionarios").update({ultimo_login:new Date().toISOString()}).eq("id",o.id),{success:!0,funcionario:{...o,auth_user_id:s.user.id,organizacao_nome:a,organizacao_tipo:l}}}catch(s){return console.error("Erro no login:",s),{success:!1,error:"Erro interno do servidor"}}}async logout(){try{return await pt.auth.signOut(),{success:!0}}catch(e){return console.error("Erro no logout:",e),{success:!1}}}async getOrganizacoes(){try{console.log("OrganizacoesService: Buscando organizações...");const{data:e,error:n}=await pt.from("organizacoes").select("*").eq("ativo",!0).order("tipo, nome");if(console.log("OrganizacoesService: Resposta organizações:",{data:e,error:n}),n)throw n;return{success:!0,organizacoes:e}}catch(e){return console.error("Erro ao buscar organizações:",e),{success:!1,error:"Erro ao buscar organizações"}}}async getFiliais(){try{console.log("OrganizacoesService: Buscando filiais...");const{data:e,error:n}=await pt.from("organizacoes").select("*").eq("tipo","filial").eq("ativo",!0).order("nome");if(console.log("OrganizacoesService: Resposta filiais:",{data:e,error:n}),n)throw n;return{success:!0,filiais:e}}catch(e){return console.error("Erro ao buscar filiais:",e),{success:!1,error:"Erro ao buscar filiais"}}}async criarFilial(e){try{console.log("OrganizacoesService: Criando filial:",e);const{data:n,error:s}=await pt.from("organizacoes").insert([{...e,tipo:"filial",matriz_id:"matriz",ativo:!0}]).select().single();if(console.log("OrganizacoesService: Resposta criar filial:",{data:n,error:s}),s)throw s;return{success:!0,filial:n}}catch(n){return console.error("Erro ao criar filial:",n),{success:!1,error:"Erro ao criar filial"}}}async getFuncionarios(e){try{console.log("OrganizacoesService: Buscando funcionários de:",e);const{data:n,error:s}=await pt.from("funcionarios").select(`
          id, nome, email, cargo, role, ativo, ultimo_login, created_at,
          organizacoes(nome)
        `).eq("organizacao_id",e).order("nome");if(console.log("OrganizacoesService: Resposta funcionários:",{data:n,error:s}),s)throw s;return{success:!0,funcionarios:n}}catch(n){return console.error("Erro ao buscar funcionários:",n),{success:!1,error:"Erro ao buscar funcionários"}}}async criarFuncionario(e){try{console.log("OrganizacoesService: Criando funcionário:",e);const{data:n,error:s}=await pt.from("funcionarios").insert([{...e,ativo:!0}]).select().single();if(console.log("OrganizacoesService: Resposta criar funcionário:",{data:n,error:s}),s)throw s;return{success:!0,funcionario:n}}catch(n){return console.error("Erro ao criar funcionário:",n),{success:!1,error:"Erro ao criar funcionário"}}}async registrarAtividade(e,n,s,r={}){try{const{error:o}=await pt.from("atividades_funcionarios").insert([{funcionario_id:e,tipo_atividade:n,descricao:s,dados_extras:r,resultado:"success"}]);if(o)throw o;return{success:!0}}catch(o){return console.error("Erro ao registrar atividade:",o),{success:!1}}}}const Wt=new D0,Xs=Yh("auth",()=>{const t=z(null),e=z(!1),n=z(null),s=Me(()=>!!t.value);return{user:t,isLoading:e,error:n,isAuthenticated:s,initializeAuth:()=>{const l=localStorage.getItem("auth_user");l&&(t.value=JSON.parse(l))},login:async(l,d)=>{try{e.value=!0,n.value=null,console.log("AuthStore: Tentando login com Supabase:",l);const c=await Wt.login(l,d);return console.log("AuthStore: Resposta do login:",c),c.success&&c.funcionario?(t.value=c.funcionario,localStorage.setItem("auth_user",JSON.stringify(c.funcionario)),console.log("AuthStore: Login realizado com sucesso:",c.funcionario),!0):(n.value=c.error||"Erro ao fazer login",console.error("AuthStore: Erro no login:",c.error),!1)}catch(c){return n.value="Erro de conexão",console.error("AuthStore: Erro de conexão:",c),!1}finally{e.value=!1}},logout:async()=>{await Wt.logout(),t.value=null,n.value=null,localStorage.removeItem("auth_user")},clearError:()=>{n.value=null}}}),N0={id:"app",class:"min-h-screen bg-gray-950 text-white font-inter"},U0=at({__name:"App",setup(t){const e=Xs();return dn(()=>{e.initializeAuth()}),(n,s)=>(j(),F("div",N0,[Q(Ee(du))]))}});function F0(t,e){return j(),ke("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[Q("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})])}function ci(t,e){return j(),ke("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[Q("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})])}function ul(t,e){return j(),ke("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[Q("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function dl(t,e){return j(),ke("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[Q("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])}function L0(t,e){return j(),ke("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[Q("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})])}function fl(t,e){return j(),ke("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[Q("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})])}function B0(t,e){return j(),ke("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[Q("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 6h16M4 12h16M4 18h16"})])}function q0(t,e){return j(),ke("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[Q("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})])}function H0(t,e){return j(),ke("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[Q("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})])}function W0(t,e){return j(),ke("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[Q("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})])}function Nu(t,e){return j(),ke("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[Q("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])}function V0(t,e){return j(),ke("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[Q("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])}function hl(t,e){return j(),ke("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[Q("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])}const z0={class:"flex h-screen bg-gray-950"},K0={class:"hidden md:flex md:w-72 md:flex-col"},J0={class:"flex flex-col flex-grow pt-6 pb-4 overflow-y-auto bg-gray-900/50 backdrop-blur-xl border-r border-gray-800/50"},G0={class:"flex-grow flex flex-col"},Y0={class:"flex-1 px-4 space-y-2"},X0={class:"font-medium"},Q0={class:"flex-shrink-0 border-t border-gray-800/50 p-4"},Z0={class:"flex items-center p-3 bg-gray-800/30 rounded-xl border border-gray-700/50"},ev={class:"flex-shrink-0"},tv={class:"h-10 w-10 rounded-xl bg-gradient-to-r from-blue-500 to-blue-600 flex items-center justify-center shadow-lg"},nv={class:"text-white text-sm font-bold"},sv={class:"ml-3 flex-1"},rv={class:"text-sm font-medium text-white"},ov={class:"text-xs text-gray-400 capitalize"},iv={class:"flex flex-col w-0 flex-1 overflow-hidden"},av={class:"relative z-10 flex-shrink-0 flex h-16 bg-gray-900/80 backdrop-blur-xl border-b border-gray-800/50"},lv={class:"flex-1 px-6 flex justify-between items-center"},cv={class:"flex-1 max-w-lg"},uv={class:"relative"},dv={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},fv={class:"ml-6 flex items-center space-x-4"},hv={type:"button",class:"relative p-2 text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-xl transition-colors hover:bg-gray-800/50"},mv={key:0,class:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 rounded-full flex items-center justify-center text-white text-xs font-bold border-2 border-gray-900"},pv={class:"flex-1 relative overflow-y-auto focus:outline-none bg-gray-950"},Pn=at({__name:"AppLayout",setup(t){const e=eo(),n=Xs(),s=z(!1);z(!1);const r=z(""),o=z(5),i=Me(()=>{const d=n.user;return(d==null?void 0:d.organizacao_tipo)==="matriz"&&(d==null?void 0:d.role)==="admin"?[{name:"admin-dashboard",label:"Dashboard Admin",href:"/admin/dashboard",icon:fl},{name:"admin-filiais",label:"Gestão de Filiais",href:"/admin/filiais",icon:q0},{name:"admin-funcionarios",label:"Funcionários",href:"/admin/funcionarios",icon:V0},{name:"clients",label:"Clientes",href:"/clients",icon:hl},{name:"reports",label:"Relatórios",href:"/reports",icon:dl},{name:"financial",label:"Financeiro",href:"/financial",icon:ul},{name:"chat",label:"Atendimento",href:"/chat",icon:ci,badge:3,badgeClass:"bg-red-100 text-red-800"}]:[{name:"dashboard",label:"Dashboard",href:"/dashboard",icon:fl},{name:"chat",label:"Atendimento",href:"/chat",icon:ci,badge:3,badgeClass:"bg-red-100 text-red-800"},{name:"clients",label:"Clientes",href:"/clients",icon:hl},{name:"reports",label:"Relatórios",href:"/reports",icon:dl},{name:"financial",label:"Financeiro",href:"/financial",icon:ul}]}),a=Me(()=>{var c;return(((c=n.user)==null?void 0:c.nome)||"Admin").split(" ").map(f=>f[0]).join("").toUpperCase()}),l=()=>{n.logout(),e.push("/login")};return(d,c)=>{var h,p;const f=wc("router-link");return j(),F("div",z0,[u("div",K0,[u("div",J0,[c[3]||(c[3]=u("div",{class:"flex items-center flex-shrink-0 px-6 mb-8"},[u("div",{class:"h-10 w-20 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg"},[u("span",{class:"text-white font-bold text-sm tracking-wider"},"DNOTAS")])],-1)),u("div",G0,[u("nav",Y0,[(j(!0),F(Se,null,et(i.value,m=>(j(),ke(f,{key:m.name,to:m.href,class:De(["sidebar-item group",{active:d.$route.name===m.name}])},{default:Je(()=>[(j(),ke(kf(m.icon),{class:"mr-3 flex-shrink-0 h-5 w-5","aria-hidden":"true"})),u("span",X0,U(m.label),1),m.badge?(j(),F("span",{key:0,class:De(["ml-auto inline-flex items-center px-2 py-1 text-xs font-bold rounded-full",m.badgeClass||"bg-red-500/20 text-red-400 border border-red-500/30"])},U(m.badge),3)):ge("",!0)]),_:2},1032,["to","class"]))),128))])]),u("div",Q0,[u("div",Z0,[u("div",ev,[u("div",tv,[u("span",nv,U(a.value),1)])]),u("div",sv,[u("p",rv,U(((h=Ee(n).user)==null?void 0:h.nome)||"Usuário"),1),u("p",ov,U(((p=Ee(n).user)==null?void 0:p.organizacao_nome)||"DNOTAS"),1)]),u("button",{onClick:l,class:"ml-2 p-2 text-gray-400 hover:text-red-400 transition-colors rounded-lg hover:bg-gray-800/50",title:"Sair"},[...c[2]||(c[2]=[u("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1)])])])])])]),u("div",iv,[u("div",av,[u("button",{type:"button",class:"px-4 border-r border-gray-800/50 text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 md:hidden transition-colors",onClick:c[0]||(c[0]=m=>s.value=!0)},[c[4]||(c[4]=u("span",{class:"sr-only"},"Open sidebar",-1)),Q(Ee(B0),{class:"h-6 w-6","aria-hidden":"true"})]),u("div",lv,[u("div",cv,[u("div",uv,[u("div",dv,[Q(Ee(Nu),{class:"h-5 w-5 text-gray-500","aria-hidden":"true"})]),re(u("input",{"onUpdate:modelValue":c[1]||(c[1]=m=>r.value=m),class:"block w-full pl-10 pr-3 py-2 bg-gray-800/50 border border-gray-700/50 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Buscar clientes, mensagens...",type:"search"},null,512),[[ae,r.value]])])]),u("div",fv,[u("button",hv,[c[5]||(c[5]=u("span",{class:"sr-only"},"View notifications",-1)),Q(Ee(F0),{class:"h-6 w-6","aria-hidden":"true"}),o.value>0?(j(),F("span",mv,U(o.value),1)):ge("",!0)]),c[6]||(c[6]=u("div",{class:"flex items-center space-x-2 px-3 py-2 bg-green-500/10 border border-green-500/20 rounded-xl"},[u("div",{class:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),u("span",{class:"text-green-400 text-sm font-medium"},"Online")],-1))])])]),u("main",pv,[Ef(d.$slots,"default")])])])}}});function ve(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function cn(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Uu=6048e5,gv=864e5,cr=43200,ml=1440;let vv={};function Qs(){return vv}function qs(t,e){var a,l,d,c;const n=Qs(),s=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(d=n.locale)==null?void 0:d.options)==null?void 0:c.weekStartsOn)??0,r=ve(t),o=r.getDay(),i=(o<s?7:0)+o-s;return r.setDate(r.getDate()-i),r.setHours(0,0,0,0),r}function Dr(t){return qs(t,{weekStartsOn:1})}function Fu(t){const e=ve(t),n=e.getFullYear(),s=cn(t,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const r=Dr(s),o=cn(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const i=Dr(o);return e.getTime()>=r.getTime()?n+1:e.getTime()>=i.getTime()?n:n-1}function pl(t){const e=ve(t);return e.setHours(0,0,0,0),e}function Nr(t){const e=ve(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function yv(t,e){const n=pl(t),s=pl(e),r=+n-Nr(n),o=+s-Nr(s);return Math.round((r-o)/gv)}function bv(t){const e=Fu(t),n=cn(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Dr(n)}function gr(t,e){const n=ve(t),s=ve(e),r=n.getTime()-s.getTime();return r<0?-1:r>0?1:r}function wv(t){return cn(t,Date.now())}function _v(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function xv(t){if(!_v(t)&&typeof t!="number")return!1;const e=ve(t);return!isNaN(Number(e))}function Sv(t,e){const n=ve(t),s=ve(e),r=n.getFullYear()-s.getFullYear(),o=n.getMonth()-s.getMonth();return r*12+o}function kv(t){return e=>{const s=(t?Math[t]:Math.trunc)(e);return s===0?0:s}}function Ev(t,e){return+ve(t)-+ve(e)}function Ov(t){const e=ve(t);return e.setHours(23,59,59,999),e}function Cv(t){const e=ve(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Tv(t){const e=ve(t);return+Ov(e)==+Cv(e)}function $v(t,e){const n=ve(t),s=ve(e),r=gr(n,s),o=Math.abs(Sv(n,s));let i;if(o<1)i=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-r*o);let a=gr(n,s)===-r;Tv(ve(t))&&o===1&&gr(t,s)===1&&(a=!1),i=r*(o-Number(a))}return i===0?0:i}function Av(t,e,n){const s=Ev(t,e)/1e3;return kv(n==null?void 0:n.roundingMethod)(s)}function Rv(t){const e=ve(t),n=cn(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Pv={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},jv=(t,e,n)=>{let s;const r=Pv[t];return typeof r=="string"?s=r:e===1?s=r.one:s=r.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Qn(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Iv={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Mv={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Dv={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Nv={date:Qn({formats:Iv,defaultWidth:"full"}),time:Qn({formats:Mv,defaultWidth:"full"}),dateTime:Qn({formats:Dv,defaultWidth:"full"})},Uv={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Fv=(t,e,n,s)=>Uv[t];function jt(t){return(e,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let r;if(s==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):i;r=t.formattingValues[a]||t.formattingValues[i]}else{const i=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;r=t.values[a]||t.values[i]}const o=t.argumentCallback?t.argumentCallback(e):e;return r[o]}}const Lv={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Bv={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qv={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Hv={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Wv={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Vv={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},zv=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Kv={ordinalNumber:zv,era:jt({values:Lv,defaultWidth:"wide"}),quarter:jt({values:Bv,defaultWidth:"wide",argumentCallback:t=>t-1}),month:jt({values:qv,defaultWidth:"wide"}),day:jt({values:Hv,defaultWidth:"wide"}),dayPeriod:jt({values:Wv,defaultWidth:"wide",formattingValues:Vv,defaultFormattingWidth:"wide"})};function It(t){return(e,n={})=>{const s=n.width,r=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],o=e.match(r);if(!o)return null;const i=o[0],a=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Gv(a,f=>f.test(i)):Jv(a,f=>f.test(i));let d;d=t.valueCallback?t.valueCallback(l):l,d=n.valueCallback?n.valueCallback(d):d;const c=e.slice(i.length);return{value:d,rest:c}}}function Jv(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Gv(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Lu(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const r=s[0],o=e.match(t.parsePattern);if(!o)return null;let i=t.valueCallback?t.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;const a=e.slice(r.length);return{value:i,rest:a}}}const Yv=/^(\d+)(th|st|nd|rd)?/i,Xv=/\d+/i,Qv={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Zv={any:[/^b/i,/^(a|c)/i]},ey={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ty={any:[/1/i,/2/i,/3/i,/4/i]},ny={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},sy={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ry={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},oy={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},iy={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ay={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ly={ordinalNumber:Lu({matchPattern:Yv,parsePattern:Xv,valueCallback:t=>parseInt(t,10)}),era:It({matchPatterns:Qv,defaultMatchWidth:"wide",parsePatterns:Zv,defaultParseWidth:"any"}),quarter:It({matchPatterns:ey,defaultMatchWidth:"wide",parsePatterns:ty,defaultParseWidth:"any",valueCallback:t=>t+1}),month:It({matchPatterns:ny,defaultMatchWidth:"wide",parsePatterns:sy,defaultParseWidth:"any"}),day:It({matchPatterns:ry,defaultMatchWidth:"wide",parsePatterns:oy,defaultParseWidth:"any"}),dayPeriod:It({matchPatterns:iy,defaultMatchWidth:"any",parsePatterns:ay,defaultParseWidth:"any"})},Bu={code:"en-US",formatDistance:jv,formatLong:Nv,formatRelative:Fv,localize:Kv,match:ly,options:{weekStartsOn:0,firstWeekContainsDate:1}};function cy(t){const e=ve(t);return yv(e,Rv(e))+1}function uy(t){const e=ve(t),n=+Dr(e)-+bv(e);return Math.round(n/Uu)+1}function qu(t,e){var c,f,h,p;const n=ve(t),s=n.getFullYear(),r=Qs(),o=(e==null?void 0:e.firstWeekContainsDate)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,i=cn(t,0);i.setFullYear(s+1,0,o),i.setHours(0,0,0,0);const a=qs(i,e),l=cn(t,0);l.setFullYear(s,0,o),l.setHours(0,0,0,0);const d=qs(l,e);return n.getTime()>=a.getTime()?s+1:n.getTime()>=d.getTime()?s:s-1}function dy(t,e){var a,l,d,c;const n=Qs(),s=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(d=n.locale)==null?void 0:d.options)==null?void 0:c.firstWeekContainsDate)??1,r=qu(t,e),o=cn(t,0);return o.setFullYear(r,0,s),o.setHours(0,0,0,0),qs(o,e)}function fy(t,e){const n=ve(t),s=+qs(n,e)-+dy(n,e);return Math.round(s/Uu)+1}function he(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const Xt={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return he(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):he(n+1,2)},d(t,e){return he(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return he(t.getHours()%12||12,e.length)},H(t,e){return he(t.getHours(),e.length)},m(t,e){return he(t.getMinutes(),e.length)},s(t,e){return he(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),r=Math.trunc(s*Math.pow(10,n-3));return he(r,e.length)}},Bn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},gl={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),r=s>0?s:1-s;return n.ordinalNumber(r,{unit:"year"})}return Xt.y(t,e)},Y:function(t,e,n,s){const r=qu(t,s),o=r>0?r:1-r;if(e==="YY"){const i=o%100;return he(i,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):he(o,e.length)},R:function(t,e){const n=Fu(t);return he(n,e.length)},u:function(t,e){const n=t.getFullYear();return he(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return he(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return he(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return Xt.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return he(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const r=fy(t,s);return e==="wo"?n.ordinalNumber(r,{unit:"week"}):he(r,e.length)},I:function(t,e,n){const s=uy(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):he(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Xt.d(t,e)},D:function(t,e,n){const s=cy(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):he(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const r=t.getDay(),o=(r-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return he(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const r=t.getDay(),o=(r-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return he(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),r=s===0?7:s;switch(e){case"i":return String(r);case"ii":return he(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let r;switch(s===12?r=Bn.noon:s===0?r=Bn.midnight:r=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let r;switch(s>=17?r=Bn.evening:s>=12?r=Bn.afternoon:s>=4?r=Bn.morning:r=Bn.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Xt.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Xt.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):he(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):he(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Xt.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Xt.s(t,e)},S:function(t,e){return Xt.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return yl(s);case"XXXX":case"XX":return wn(s);case"XXXXX":case"XXX":default:return wn(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return yl(s);case"xxxx":case"xx":return wn(s);case"xxxxx":case"xxx":default:return wn(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+vl(s,":");case"OOOO":default:return"GMT"+wn(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+vl(s,":");case"zzzz":default:return"GMT"+wn(s,":")}},t:function(t,e,n){const s=Math.trunc(t.getTime()/1e3);return he(s,e.length)},T:function(t,e,n){const s=t.getTime();return he(s,e.length)}};function vl(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=Math.trunc(s/60),o=s%60;return o===0?n+String(r):n+String(r)+e+he(o,2)}function yl(t,e){return t%60===0?(t>0?"-":"+")+he(Math.abs(t)/60,2):wn(t,e)}function wn(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=he(Math.trunc(s/60),2),o=he(s%60,2);return n+r+e+o}const bl=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Hu=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},hy=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],r=n[2];if(!r)return bl(t,e);let o;switch(s){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",bl(s,e)).replace("{{time}}",Hu(r,e))},my={p:Hu,P:hy},py=/^D+$/,gy=/^Y+$/,vy=["D","DD","YY","YYYY"];function yy(t){return py.test(t)}function by(t){return gy.test(t)}function wy(t,e,n){const s=_y(t,e,n);if(console.warn(s),vy.includes(t))throw new RangeError(s)}function _y(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const xy=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Sy=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ky=/^'([^]*?)'?$/,Ey=/''/g,Oy=/[a-zA-Z]/;function Wu(t,e,n){var c,f,h,p,m,b,g,_;const s=Qs(),r=(n==null?void 0:n.locale)??s.locale??Bu,o=(n==null?void 0:n.firstWeekContainsDate)??((f=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(h=s.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,i=(n==null?void 0:n.weekStartsOn)??((b=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:b.weekStartsOn)??s.weekStartsOn??((_=(g=s.locale)==null?void 0:g.options)==null?void 0:_.weekStartsOn)??0,a=ve(t);if(!xv(a))throw new RangeError("Invalid time value");let l=e.match(Sy).map(w=>{const v=w[0];if(v==="p"||v==="P"){const k=my[v];return k(w,r.formatLong)}return w}).join("").match(xy).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const v=w[0];if(v==="'")return{isToken:!1,value:Cy(w)};if(gl[v])return{isToken:!0,value:w};if(v.match(Oy))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:w}});r.localize.preprocessor&&(l=r.localize.preprocessor(a,l));const d={firstWeekContainsDate:o,weekStartsOn:i,locale:r};return l.map(w=>{if(!w.isToken)return w.value;const v=w.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&by(v)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&yy(v))&&wy(v,e,String(t));const k=gl[v[0]];return k(a,v,r.localize,d)}).join("")}function Cy(t){const e=t.match(ky);return e?e[1].replace(Ey,"'"):t}function Ty(t,e,n){const s=Qs(),r=(n==null?void 0:n.locale)??s.locale??Bu,o=2520,i=gr(t,e);if(isNaN(i))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:i});let l,d;i>0?(l=ve(e),d=ve(t)):(l=ve(t),d=ve(e));const c=Av(d,l),f=(Nr(d)-Nr(l))/1e3,h=Math.round((c-f)/60);let p;if(h<2)return n!=null&&n.includeSeconds?c<5?r.formatDistance("lessThanXSeconds",5,a):c<10?r.formatDistance("lessThanXSeconds",10,a):c<20?r.formatDistance("lessThanXSeconds",20,a):c<40?r.formatDistance("halfAMinute",0,a):c<60?r.formatDistance("lessThanXMinutes",1,a):r.formatDistance("xMinutes",1,a):h===0?r.formatDistance("lessThanXMinutes",1,a):r.formatDistance("xMinutes",h,a);if(h<45)return r.formatDistance("xMinutes",h,a);if(h<90)return r.formatDistance("aboutXHours",1,a);if(h<ml){const m=Math.round(h/60);return r.formatDistance("aboutXHours",m,a)}else{if(h<o)return r.formatDistance("xDays",1,a);if(h<cr){const m=Math.round(h/ml);return r.formatDistance("xDays",m,a)}else if(h<cr*2)return p=Math.round(h/cr),r.formatDistance("aboutXMonths",p,a)}if(p=$v(d,l),p<12){const m=Math.round(h/cr);return r.formatDistance("xMonths",m,a)}else{const m=p%12,b=Math.trunc(p/12);return m<3?r.formatDistance("aboutXYears",b,a):m<9?r.formatDistance("overXYears",b,a):r.formatDistance("almostXYears",b+1,a)}}function Ui(t,e){return Ty(t,wv(t),e)}const $y={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},Ay=(t,e,n)=>{let s;const r=$y[t];return typeof r=="string"?s=r:e===1?s=r.one:s=r.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+s:"há "+s:s},Ry={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},Py={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},jy={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Iy={date:Qn({formats:Ry,defaultWidth:"full"}),time:Qn({formats:Py,defaultWidth:"full"}),dateTime:Qn({formats:jy,defaultWidth:"full"})},My={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},Dy=(t,e,n,s)=>{const r=My[t];return typeof r=="function"?r(e):r},Ny={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},Uy={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},Fy={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Ly={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},By={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},qy={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},Hy=(t,e)=>{const n=Number(t);return(e==null?void 0:e.unit)==="week"?n+"ª":n+"º"},Wy={ordinalNumber:Hy,era:jt({values:Ny,defaultWidth:"wide"}),quarter:jt({values:Uy,defaultWidth:"wide",argumentCallback:t=>t-1}),month:jt({values:Fy,defaultWidth:"wide"}),day:jt({values:Ly,defaultWidth:"wide"}),dayPeriod:jt({values:By,defaultWidth:"wide",formattingValues:qy,defaultFormattingWidth:"wide"})},Vy=/^(\d+)[ºªo]?/i,zy=/\d+/i,Ky={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},Jy={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},Gy={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},Yy={any:[/1/i,/2/i,/3/i,/4/i]},Xy={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},Qy={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},Zy={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},eb={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},tb={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},nb={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},sb={ordinalNumber:Lu({matchPattern:Vy,parsePattern:zy,valueCallback:t=>parseInt(t,10)}),era:It({matchPatterns:Ky,defaultMatchWidth:"wide",parsePatterns:Jy,defaultParseWidth:"any"}),quarter:It({matchPatterns:Gy,defaultMatchWidth:"wide",parsePatterns:Yy,defaultParseWidth:"any",valueCallback:t=>t+1}),month:It({matchPatterns:Xy,defaultMatchWidth:"wide",parsePatterns:Qy,defaultParseWidth:"any"}),day:It({matchPatterns:Zy,defaultMatchWidth:"wide",parsePatterns:eb,defaultParseWidth:"any"}),dayPeriod:It({matchPatterns:tb,defaultMatchWidth:"any",parsePatterns:nb,defaultParseWidth:"any"})},Hs={code:"pt-BR",formatDistance:Ay,formatLong:Iy,formatRelative:Dy,localize:Wy,match:sb,options:{weekStartsOn:0,firstWeekContainsDate:1}},rb={class:"py-6"},ob={class:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8"},ib={class:"md:flex md:items-center md:justify-between"},ab={class:"flex-1 min-w-0"},lb={class:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate"},cb={class:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8"},ub={class:"mt-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},db={class:"bg-white overflow-hidden shadow-lg rounded-lg border border-gray-200"},fb={class:"p-5"},hb={class:"flex items-center"},mb={class:"ml-5 w-0 flex-1"},pb={class:"text-lg font-semibold text-gray-900"},gb={class:"bg-blue-50 px-5 py-3"},vb={class:"text-sm"},yb={class:"bg-white overflow-hidden shadow-lg rounded-lg border border-gray-200"},bb={class:"p-5"},wb={class:"flex items-center"},_b={class:"ml-5 w-0 flex-1"},xb={class:"text-lg font-semibold text-gray-900"},Sb={class:"bg-green-50 px-5 py-3"},kb={class:"text-sm"},Eb={class:"bg-white overflow-hidden shadow-lg rounded-lg border border-gray-200"},Ob={class:"p-5"},Cb={class:"flex items-center"},Tb={class:"ml-5 w-0 flex-1"},$b={class:"text-lg font-semibold text-gray-900"},Ab={class:"bg-purple-50 px-5 py-3"},Rb={class:"text-sm"},Pb={class:"bg-white overflow-hidden shadow-lg rounded-lg border border-gray-200"},jb={class:"p-5"},Ib={class:"flex items-center"},Mb={class:"ml-5 w-0 flex-1"},Db={class:"text-lg font-semibold text-gray-900"},Nb={class:"bg-yellow-50 px-5 py-3"},Ub={class:"text-sm"},Fb={class:"mt-8 grid grid-cols-1 gap-6 lg:grid-cols-2"},Lb={class:"bg-white shadow-lg rounded-lg border border-gray-200"},Bb={class:"p-6"},qb={class:"flex items-center justify-between mb-6"},Hb={class:"flow-root"},Wb={role:"list",class:"-my-5 divide-y divide-gray-200"},Vb={class:"flex items-center space-x-4"},zb={class:"flex-1 min-w-0"},Kb={class:"text-sm font-medium text-gray-900 truncate"},Jb={class:"text-sm text-gray-500"},Gb={class:"flex-shrink-0"},Yb={class:"bg-white shadow-lg rounded-lg border border-gray-200"},Xb={class:"p-6"},Qb={class:"flex items-center justify-between mb-6"},Zb={class:"flow-root"},ew={role:"list",class:"-my-5 divide-y divide-gray-200"},tw={class:"flex items-center space-x-4"},nw={class:"flex-shrink-0"},sw={class:"flex-1 min-w-0"},rw={class:"text-sm font-medium text-gray-900 truncate"},ow={class:"text-sm text-gray-500"},iw={class:"flex-shrink-0"},aw={class:"mt-8"},lw={class:"bg-white shadow-lg rounded-lg border border-gray-200"},cw={class:"p-6"},uw={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"},dw=at({__name:"AdminDashboardView",setup(t){const e=eo(),n=Xs(),s=z({totalFiliais:0,totalFuncionarios:0,totalClientes:0,atividadesHoje:0}),r=z([]),o=z([]),i=c=>Ui(new Date(c),{addSuffix:!0,locale:Hs}),a=c=>{const f={login:"bg-green-100 text-green-600",create:"bg-blue-100 text-blue-600",update:"bg-yellow-100 text-yellow-600",delete:"bg-red-100 text-red-600",default:"bg-gray-100 text-gray-600"};return f[c]||f.default},l=c=>{const f={success:"bg-green-100 text-green-800",error:"bg-red-100 text-red-800",warning:"bg-yellow-100 text-yellow-800"};return f[c]||f.success},d=async()=>{try{console.log("AdminDashboard: Carregando dados...");const c=await Wt.getOrganizacoes();c.success&&(r.value=c.organizacoes.filter(h=>h.tipo==="filial").slice(0,5),s.value.totalFiliais=c.organizacoes.filter(h=>h.tipo==="filial").length);const f=await Wt.getFuncionarios("matriz");f.success&&(s.value.totalFuncionarios=f.funcionarios.length),s.value.totalClientes=156,s.value.atividadesHoje=23,o.value=[{id:"1",descricao:"Login realizado por Admin",tipo_atividade:"login",resultado:"success",created_at:new Date().toISOString()},{id:"2",descricao:"Nova filial criada: Filial São Paulo",tipo_atividade:"create",resultado:"success",created_at:new Date(Date.now()-36e5).toISOString()},{id:"3",descricao:"Funcionário atualizado: João Silva",tipo_atividade:"update",resultado:"success",created_at:new Date(Date.now()-72e5).toISOString()}],console.log("AdminDashboard: Dados carregados:",{stats:s.value,filiais:r.value})}catch(c){console.error("AdminDashboard: Erro ao carregar dados:",c)}};return dn(()=>{console.log("AdminDashboard: Componente montado, usuário:",n.user),d()}),(c,f)=>{const h=wc("router-link");return j(),ke(Pn,null,{default:Je(()=>{var p;return[u("div",rb,[u("div",ob,[u("div",ib,[u("div",ab,[u("h2",lb," Painel Administrativo - "+U((p=Ee(n).user)==null?void 0:p.organizacao_nome),1),f[3]||(f[3]=u("p",{class:"mt-1 text-sm text-gray-500"}," Gestão completa do sistema DNOTAS ",-1))]),u("div",{class:"mt-4 flex md:mt-0 md:ml-4"},[u("button",{onClick:d,class:"ml-3 inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[...f[4]||(f[4]=[u("svg",{class:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),xe(" Atualizar ",-1)])])])])]),u("div",cb,[u("div",ub,[u("div",db,[u("div",fb,[u("div",hb,[f[6]||(f[6]=u("div",{class:"flex-shrink-0"},[u("svg",{class:"h-8 w-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})])],-1)),u("div",mb,[u("dl",null,[f[5]||(f[5]=u("dt",{class:"text-sm font-medium text-gray-500 truncate"}," Total de Filiais ",-1)),u("dd",null,[u("div",pb,U(s.value.totalFiliais),1)])])])])]),u("div",gb,[u("div",vb,[Q(h,{to:"/admin/filiais",class:"font-medium text-blue-700 hover:text-blue-900"},{default:Je(()=>[...f[7]||(f[7]=[xe(" Gerenciar filiais → ",-1)])]),_:1})])])]),u("div",yb,[u("div",bb,[u("div",wb,[f[9]||(f[9]=u("div",{class:"flex-shrink-0"},[u("svg",{class:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})])],-1)),u("div",_b,[u("dl",null,[f[8]||(f[8]=u("dt",{class:"text-sm font-medium text-gray-500 truncate"}," Total de Funcionários ",-1)),u("dd",null,[u("div",xb,U(s.value.totalFuncionarios),1)])])])])]),u("div",Sb,[u("div",kb,[Q(h,{to:"/admin/funcionarios",class:"font-medium text-green-700 hover:text-green-900"},{default:Je(()=>[...f[10]||(f[10]=[xe(" Gerenciar funcionários → ",-1)])]),_:1})])])]),u("div",Eb,[u("div",Ob,[u("div",Cb,[f[12]||(f[12]=u("div",{class:"flex-shrink-0"},[u("svg",{class:"h-8 w-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),u("div",Tb,[u("dl",null,[f[11]||(f[11]=u("dt",{class:"text-sm font-medium text-gray-500 truncate"}," Total de Clientes ",-1)),u("dd",null,[u("div",$b,U(s.value.totalClientes),1)])])])])]),u("div",Ab,[u("div",Rb,[Q(h,{to:"/clients",class:"font-medium text-purple-700 hover:text-purple-900"},{default:Je(()=>[...f[13]||(f[13]=[xe(" Ver clientes → ",-1)])]),_:1})])])]),u("div",Pb,[u("div",jb,[u("div",Ib,[f[15]||(f[15]=u("div",{class:"flex-shrink-0"},[u("svg",{class:"h-8 w-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),u("div",Mb,[u("dl",null,[f[14]||(f[14]=u("dt",{class:"text-sm font-medium text-gray-500 truncate"}," Atividades Hoje ",-1)),u("dd",null,[u("div",Db,U(s.value.atividadesHoje),1)])])])])]),u("div",Nb,[u("div",Ub,[Q(h,{to:"/reports",class:"font-medium text-yellow-700 hover:text-yellow-900"},{default:Je(()=>[...f[16]||(f[16]=[xe(" Ver relatórios → ",-1)])]),_:1})])])])]),u("div",Fb,[u("div",Lb,[u("div",Bb,[u("div",qb,[f[18]||(f[18]=u("h3",{class:"text-lg leading-6 font-medium text-gray-900"}," Filiais Ativas ",-1)),Q(h,{to:"/admin/filiais",class:"text-sm text-blue-600 hover:text-blue-900 font-medium"},{default:Je(()=>[...f[17]||(f[17]=[xe(" Ver todas ",-1)])]),_:1})]),u("div",Hb,[u("ul",Wb,[(j(!0),F(Se,null,et(r.value,m=>(j(),F("li",{key:m.id,class:"py-4"},[u("div",Vb,[f[19]||(f[19]=u("div",{class:"flex-shrink-0"},[u("div",{class:"h-10 w-10 rounded-lg bg-gradient-to-r from-blue-500 to-blue-600 flex items-center justify-center"},[u("svg",{class:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})])])],-1)),u("div",zb,[u("p",Kb,U(m.nome),1),u("p",Jb,U(m.funcionarios_count||0)+" funcionários ",1)]),u("div",Gb,[u("span",{class:De(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",m.ativo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},U(m.ativo?"Ativa":"Inativa"),3)])])]))),128))])])])]),u("div",Yb,[u("div",Xb,[u("div",Qb,[f[21]||(f[21]=u("h3",{class:"text-lg leading-6 font-medium text-gray-900"}," Atividades Recentes ",-1)),Q(h,{to:"/reports",class:"text-sm text-blue-600 hover:text-blue-900 font-medium"},{default:Je(()=>[...f[20]||(f[20]=[xe(" Ver todas ",-1)])]),_:1})]),u("div",Zb,[u("ul",ew,[(j(!0),F(Se,null,et(o.value,m=>(j(),F("li",{key:m.id,class:"py-4"},[u("div",tw,[u("div",nw,[u("div",{class:De(["h-8 w-8 rounded-full flex items-center justify-center",a(m.tipo_atividade)])},[...f[22]||(f[22]=[u("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)])],2)]),u("div",sw,[u("p",rw,U(m.descricao),1),u("p",ow,U(i(m.created_at)),1)]),u("div",iw,[u("span",{class:De(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",l(m.resultado)])},U(m.resultado),3)])])]))),128))])])])])]),u("div",aw,[u("div",lw,[u("div",cw,[f[26]||(f[26]=u("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-6"}," Ações Administrativas ",-1)),u("div",uw,[u("button",{onClick:f[0]||(f[0]=m=>Ee(e).push("/admin/filiais/novo")),class:"relative group bg-gradient-to-r from-blue-500 to-blue-600 p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all transform hover:scale-105"},[...f[23]||(f[23]=[u("div",{class:"flex items-center"},[u("span",{class:"rounded-lg inline-flex p-3 bg-white bg-opacity-20"},[u("svg",{class:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})])]),u("div",{class:"ml-4"},[u("h3",{class:"text-lg font-medium text-white"}," Nova Filial "),u("p",{class:"mt-1 text-sm text-blue-100"}," Criar uma nova filial ")])],-1)])]),u("button",{onClick:f[1]||(f[1]=m=>Ee(e).push("/admin/funcionarios/novo")),class:"relative group bg-gradient-to-r from-green-500 to-green-600 p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-green-500 rounded-lg hover:from-green-600 hover:to-green-700 transition-all transform hover:scale-105"},[...f[24]||(f[24]=[u("div",{class:"flex items-center"},[u("span",{class:"rounded-lg inline-flex p-3 bg-white bg-opacity-20"},[u("svg",{class:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})])]),u("div",{class:"ml-4"},[u("h3",{class:"text-lg font-medium text-white"}," Novo Funcionário "),u("p",{class:"mt-1 text-sm text-green-100"}," Cadastrar funcionário ")])],-1)])]),u("button",{onClick:f[2]||(f[2]=m=>Ee(e).push("/reports")),class:"relative group bg-gradient-to-r from-purple-500 to-purple-600 p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-purple-500 rounded-lg hover:from-purple-600 hover:to-purple-700 transition-all transform hover:scale-105"},[...f[25]||(f[25]=[u("div",{class:"flex items-center"},[u("span",{class:"rounded-lg inline-flex p-3 bg-white bg-opacity-20"},[u("svg",{class:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])]),u("div",{class:"ml-4"},[u("h3",{class:"text-lg font-medium text-white"}," Relatórios "),u("p",{class:"mt-1 text-sm text-purple-100"}," Gerar relatórios ")])],-1)])])])])])])])])]}),_:1})}}}),fw=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},hw=fw(dw,[["__scopeId","data-v-564fc740"]]),mw={class:"py-6"},pw={class:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8"},gw={class:"md:flex md:items-center md:justify-between"},vw={class:"mt-4 flex md:mt-0 md:ml-4"},yw={class:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8"},bw={class:"mt-6 bg-white shadow rounded-lg"},ww={class:"p-6"},_w={class:"grid grid-cols-1 gap-4 sm:grid-cols-3"},xw={class:"mt-6 bg-white shadow overflow-hidden sm:rounded-md"},Sw={role:"list",class:"divide-y divide-gray-200"},kw={class:"px-4 py-4 flex items-center justify-between hover:bg-gray-50"},Ew={class:"flex items-center"},Ow={class:"ml-4"},Cw={class:"flex items-center"},Tw={class:"text-sm font-medium text-gray-900"},$w={class:"text-sm text-gray-500"},Aw={key:0},Rw={key:1,class:"ml-3"},Pw={key:0,class:"text-sm text-gray-500"},jw={key:0},Iw={key:1,class:"ml-3"},Mw={class:"flex items-center space-x-2"},Dw=["onClick"],Nw=["onClick"],Uw={key:0,class:"h-4 w-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Fw={key:1,class:"h-4 w-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Lw={key:0,class:"mt-6 text-center"},Bw={class:"mt-6"},qw={key:0,class:"fixed z-10 inset-0 overflow-y-auto"},Hw={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Ww={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Vw={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},zw={class:"sm:flex sm:items-start"},Kw={class:"mt-3 text-center sm:mt-0 sm:text-left w-full"},Jw={class:"text-lg leading-6 font-medium text-gray-900"},Gw={class:"mt-4 space-y-4"},Yw={class:"grid grid-cols-2 gap-4"},Xw={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Qw=["disabled"],Zw=at({__name:"FiliaisView",setup(t){eo();const e=z([]),n=z(""),s=z(""),r=z(!1),o=z(!1),i=z(!1),a=z(null),l=z({id:"",nome:"",codigo:"",cnpj:"",endereco:"",telefone:"",email:"",responsavel:""}),d=Me(()=>{let b=e.value;if(n.value&&(b=b.filter(g=>g.nome.toLowerCase().includes(n.value.toLowerCase()))),s.value!==""){const g=s.value==="true";b=b.filter(_=>_.ativo===g)}return b}),c=async()=>{try{console.log("FiliaisView: Carregando filiais...");const b=await Wt.getFiliais();b.success&&(e.value=b.filiais,console.log("FiliaisView: Filiais carregadas:",e.value))}catch(b){console.error("FiliaisView: Erro ao carregar filiais:",b)}},f=b=>{a.value=b,l.value={...b},o.value=!0},h=async b=>{try{i.value=!0,console.log("Toggle status filial:",b.id),b.ativo=!b.ativo}catch(g){console.error("Erro ao alterar status:",g)}finally{i.value=!1}},p=async()=>{try{i.value=!0,r.value?(l.value.id=`filial_${Date.now()}`,(await Wt.criarFilial(l.value)).success&&(await c(),m())):(console.log("Editar filial:",l.value),m())}catch(b){console.error("Erro ao salvar filial:",b)}finally{i.value=!1}},m=()=>{r.value=!1,o.value=!1,a.value=null,l.value={id:"",nome:"",codigo:"",cnpj:"",endereco:"",telefone:"",email:"",responsavel:""}};return dn(()=>{c()}),(b,g)=>(j(),ke(Pn,null,{default:Je(()=>[u("div",mw,[u("div",pw,[u("div",gw,[g[12]||(g[12]=u("div",{class:"flex-1 min-w-0"},[u("h2",{class:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate"}," Gestão de Filiais "),u("p",{class:"mt-1 text-sm text-gray-500"}," Gerencie todas as filiais da rede DNOTAS ")],-1)),u("div",vw,[u("button",{onClick:g[0]||(g[0]=_=>r.value=!0),class:"ml-3 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[...g[11]||(g[11]=[u("svg",{class:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),xe(" Nova Filial ",-1)])])])])]),u("div",yw,[u("div",bw,[u("div",ww,[u("div",_w,[u("div",null,[g[13]||(g[13]=u("label",{for:"search",class:"block text-sm font-medium text-gray-700"},"Buscar",-1)),re(u("input",{id:"search","onUpdate:modelValue":g[1]||(g[1]=_=>n.value=_),type:"text",placeholder:"Nome da filial...",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"},null,512),[[ae,n.value]])]),u("div",null,[g[15]||(g[15]=u("label",{for:"status",class:"block text-sm font-medium text-gray-700"},"Status",-1)),re(u("select",{id:"status","onUpdate:modelValue":g[2]||(g[2]=_=>s.value=_),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"},[...g[14]||(g[14]=[u("option",{value:""},"Todos",-1),u("option",{value:"true"},"Ativas",-1),u("option",{value:"false"},"Inativas",-1)])],512),[[vs,s.value]])]),u("div",{class:"flex items-end"},[u("button",{onClick:c,class:"w-full inline-flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[...g[16]||(g[16]=[u("svg",{class:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),xe(" Atualizar ",-1)])])])])])]),u("div",xw,[u("ul",Sw,[(j(!0),F(Se,null,et(d.value,_=>(j(),F("li",{key:_.id},[u("div",kw,[u("div",Ew,[g[17]||(g[17]=u("div",{class:"flex-shrink-0 h-10 w-10"},[u("div",{class:"h-10 w-10 rounded-lg bg-gradient-to-r from-blue-500 to-blue-600 flex items-center justify-center"},[u("svg",{class:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})])])],-1)),u("div",Ow,[u("div",Cw,[u("div",Tw,U(_.nome),1),u("span",{class:De(["ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",_.ativo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},U(_.ativo?"Ativa":"Inativa"),3)]),u("div",$w,[_.codigo?(j(),F("span",Aw,"Código: "+U(_.codigo),1)):ge("",!0),_.cnpj?(j(),F("span",Rw,"CNPJ: "+U(_.cnpj),1)):ge("",!0)]),_.endereco||_.telefone?(j(),F("div",Pw,[_.endereco?(j(),F("span",jw,U(_.endereco),1)):ge("",!0),_.telefone?(j(),F("span",Iw,"📞 "+U(_.telefone),1)):ge("",!0)])):ge("",!0)])]),u("div",Mw,[u("button",{onClick:w=>f(_),class:"inline-flex items-center p-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[...g[18]||(g[18]=[u("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,Dw),u("button",{onClick:w=>h(_),class:"inline-flex items-center p-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[_.ativo?(j(),F("svg",Uw,[...g[19]||(g[19]=[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14L21 3m0 0h-5.5M21 3v5.5M21 3l-3.5 3.5m-4.5 4.5L10 14l-4-4"},null,-1)])])):(j(),F("svg",Fw,[...g[20]||(g[20]=[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])]))],8,Nw)])])]))),128))])]),d.value.length===0?(j(),F("div",Lw,[g[22]||(g[22]=u("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1)),g[23]||(g[23]=u("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Nenhuma filial encontrada",-1)),g[24]||(g[24]=u("p",{class:"mt-1 text-sm text-gray-500"},"Comece criando uma nova filial.",-1)),u("div",Bw,[u("button",{onClick:g[3]||(g[3]=_=>r.value=!0),class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[...g[21]||(g[21]=[u("svg",{class:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),xe(" Nova Filial ",-1)])])])])):ge("",!0)])]),r.value||o.value?(j(),F("div",qw,[u("div",Hw,[g[32]||(g[32]=u("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)),u("div",Ww,[u("form",{onSubmit:Tn(p,["prevent"])},[u("div",Vw,[u("div",zw,[u("div",Kw,[u("h3",Jw,U(r.value?"Nova Filial":"Editar Filial"),1),u("div",Gw,[u("div",null,[g[25]||(g[25]=u("label",{for:"nome",class:"block text-sm font-medium text-gray-700"},"Nome *",-1)),re(u("input",{id:"nome","onUpdate:modelValue":g[4]||(g[4]=_=>l.value.nome=_),type:"text",required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Nome da filial"},null,512),[[ae,l.value.nome]])]),u("div",null,[g[26]||(g[26]=u("label",{for:"codigo",class:"block text-sm font-medium text-gray-700"},"Código",-1)),re(u("input",{id:"codigo","onUpdate:modelValue":g[5]||(g[5]=_=>l.value.codigo=_),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"FIL001"},null,512),[[ae,l.value.codigo]])]),u("div",null,[g[27]||(g[27]=u("label",{for:"cnpj",class:"block text-sm font-medium text-gray-700"},"CNPJ",-1)),re(u("input",{id:"cnpj","onUpdate:modelValue":g[6]||(g[6]=_=>l.value.cnpj=_),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"00.000.000/0000-00"},null,512),[[ae,l.value.cnpj]])]),u("div",null,[g[28]||(g[28]=u("label",{for:"endereco",class:"block text-sm font-medium text-gray-700"},"Endereço",-1)),re(u("textarea",{id:"endereco","onUpdate:modelValue":g[7]||(g[7]=_=>l.value.endereco=_),rows:"2",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Endereço completo"},null,512),[[ae,l.value.endereco]])]),u("div",Yw,[u("div",null,[g[29]||(g[29]=u("label",{for:"telefone",class:"block text-sm font-medium text-gray-700"},"Telefone",-1)),re(u("input",{id:"telefone","onUpdate:modelValue":g[8]||(g[8]=_=>l.value.telefone=_),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"(11) 99999-9999"},null,512),[[ae,l.value.telefone]])]),u("div",null,[g[30]||(g[30]=u("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Email",-1)),re(u("input",{id:"email","onUpdate:modelValue":g[9]||(g[9]=_=>l.value.email=_),type:"email",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"contato@filial.com"},null,512),[[ae,l.value.email]])])]),u("div",null,[g[31]||(g[31]=u("label",{for:"responsavel",class:"block text-sm font-medium text-gray-700"},"Responsável",-1)),re(u("input",{id:"responsavel","onUpdate:modelValue":g[10]||(g[10]=_=>l.value.responsavel=_),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Nome do responsável"},null,512),[[ae,l.value.responsavel]])])])])])]),u("div",Xw,[u("button",{type:"submit",disabled:i.value,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50"},U(i.value?"Salvando...":r.value?"Criar":"Salvar"),9,Qw),u("button",{type:"button",onClick:m,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancelar ")])],32)])])])):ge("",!0)]),_:1}))}}),e_={class:"py-6"},t_={class:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8"},n_={class:"md:flex md:items-center md:justify-between"},s_={class:"mt-4 flex md:mt-0 md:ml-4"},r_={class:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8"},o_={class:"mt-6 bg-white shadow rounded-lg"},i_={class:"p-6"},a_={class:"grid grid-cols-1 gap-4 sm:grid-cols-4"},l_=["value"],c_={class:"mt-6 bg-white shadow overflow-hidden sm:rounded-md"},u_={role:"list",class:"divide-y divide-gray-200"},d_={class:"px-4 py-4 flex items-center justify-between hover:bg-gray-50"},f_={class:"flex items-center"},h_={class:"flex-shrink-0 h-10 w-10"},m_={class:"h-10 w-10 rounded-full bg-gradient-to-r from-green-500 to-green-600 flex items-center justify-center"},p_={class:"text-white font-medium text-sm"},g_={class:"ml-4"},v_={class:"flex items-center"},y_={class:"text-sm font-medium text-gray-900"},b_={class:"text-sm text-gray-500"},w_={class:"ml-3"},__={class:"text-sm text-gray-500"},x_={key:0,class:"ml-3"},S_={class:"flex items-center space-x-2"},k_=["onClick"],E_=["onClick"],O_={key:0,class:"h-4 w-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},C_={key:1,class:"h-4 w-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},T_=["onClick"],$_={key:0,class:"mt-6 text-center"},A_={class:"mt-6"},R_={key:0,class:"fixed z-10 inset-0 overflow-y-auto"},P_={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},j_={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},I_={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},M_={class:"sm:flex sm:items-start"},D_={class:"mt-3 text-center sm:mt-0 sm:text-left w-full"},N_={class:"text-lg leading-6 font-medium text-gray-900"},U_={class:"mt-4 space-y-4"},F_=["value"],L_={key:0},B_=["required"],q_={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},H_=["disabled"],W_=at({__name:"FuncionariosView",setup(t){eo();const e=z([]),n=z([]),s=z(""),r=z(""),o=z(""),i=z(!1),a=z(!1),l=z(!1),d=z(null),c=z({nome:"",email:"",cargo:"",organizacao_id:"",role:"operator",senha:""}),f=Me(()=>{let A=e.value;if(s.value){const O=s.value.toLowerCase();A=A.filter(P=>P.nome.toLowerCase().includes(O)||P.email.toLowerCase().includes(O))}return r.value&&(A=A.filter(O=>O.organizacao_id===r.value)),o.value&&(A=A.filter(O=>O.role===o.value)),A}),h=A=>{const O={admin:"bg-red-100 text-red-800",manager:"bg-blue-100 text-blue-800",operator:"bg-gray-100 text-gray-800"};return O[A]||O.operator},p=A=>({admin:"Administrador",manager:"Gerente",operator:"Operador"})[A]||"Operador",m=A=>{const O=n.value.find(P=>P.id===A);return O?O.nome:"Filial não encontrada"},b=A=>Ui(new Date(A),{addSuffix:!0,locale:Hs}),g=async()=>{try{const A=await Wt.getOrganizacoes();A.success&&(n.value=A.organizacoes)}catch(A){console.error("Erro ao carregar filiais:",A)}},_=async()=>{try{console.log("FuncionariosView: Carregando funcionários...");const A=[];for(const O of n.value){const P=await Wt.getFuncionarios(O.id);P.success&&A.push(...P.funcionarios)}e.value=A,console.log("FuncionariosView: Funcionários carregados:",e.value)}catch(A){console.error("FuncionariosView: Erro ao carregar funcionários:",A)}},w=A=>{d.value=A,c.value={nome:A.nome,email:A.email,cargo:A.cargo,organizacao_id:A.organizacao_id,role:A.role,senha:""},a.value=!0},v=async A=>{try{l.value=!0,console.log("Toggle status funcionário:",A.id),A.ativo=!A.ativo}catch(O){console.error("Erro ao alterar status:",O)}finally{l.value=!1}},k=A=>{console.log("Ver atividades do funcionário:",A.id)},M=async()=>{try{l.value=!0,i.value?(await Wt.criarFuncionario(c.value)).success&&(await _(),W()):(console.log("Editar funcionário:",c.value),W())}catch(A){console.error("Erro ao salvar funcionário:",A)}finally{l.value=!1}},W=()=>{i.value=!1,a.value=!1,d.value=null,c.value={nome:"",email:"",cargo:"",organizacao_id:"",role:"operator",senha:""}};return dn(async()=>{await g(),await _()}),(A,O)=>(j(),ke(Pn,null,{default:Je(()=>[u("div",e_,[u("div",t_,[u("div",n_,[O[12]||(O[12]=u("div",{class:"flex-1 min-w-0"},[u("h2",{class:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate"}," Gestão de Funcionários "),u("p",{class:"mt-1 text-sm text-gray-500"}," Gerencie funcionários de todas as filiais ")],-1)),u("div",s_,[u("button",{onClick:O[0]||(O[0]=P=>i.value=!0),class:"ml-3 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},[...O[11]||(O[11]=[u("svg",{class:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})],-1),xe(" Novo Funcionário ",-1)])])])])]),u("div",r_,[u("div",o_,[u("div",i_,[u("div",a_,[u("div",null,[O[13]||(O[13]=u("label",{for:"search",class:"block text-sm font-medium text-gray-700"},"Buscar",-1)),re(u("input",{id:"search","onUpdate:modelValue":O[1]||(O[1]=P=>s.value=P),type:"text",placeholder:"Nome ou email...",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm"},null,512),[[ae,s.value]])]),u("div",null,[O[15]||(O[15]=u("label",{for:"filial",class:"block text-sm font-medium text-gray-700"},"Filial",-1)),re(u("select",{id:"filial","onUpdate:modelValue":O[2]||(O[2]=P=>r.value=P),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm"},[O[14]||(O[14]=u("option",{value:""},"Todas",-1)),(j(!0),F(Se,null,et(n.value,P=>(j(),F("option",{key:P.id,value:P.id},U(P.nome),9,l_))),128))],512),[[vs,r.value]])]),u("div",null,[O[17]||(O[17]=u("label",{for:"role",class:"block text-sm font-medium text-gray-700"},"Função",-1)),re(u("select",{id:"role","onUpdate:modelValue":O[3]||(O[3]=P=>o.value=P),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm"},[...O[16]||(O[16]=[u("option",{value:""},"Todas",-1),u("option",{value:"admin"},"Administrador",-1),u("option",{value:"manager"},"Gerente",-1),u("option",{value:"operator"},"Operador",-1)])],512),[[vs,o.value]])]),u("div",{class:"flex items-end"},[u("button",{onClick:_,class:"w-full inline-flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},[...O[18]||(O[18]=[u("svg",{class:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),xe(" Atualizar ",-1)])])])])])]),u("div",c_,[u("ul",u_,[(j(!0),F(Se,null,et(f.value,P=>(j(),F("li",{key:P.id},[u("div",d_,[u("div",f_,[u("div",h_,[u("div",m_,[u("span",p_,U(P.nome.charAt(0).toUpperCase()),1)])]),u("div",g_,[u("div",v_,[u("div",y_,U(P.nome),1),u("span",{class:De(["ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",h(P.role)])},U(p(P.role)),3),u("span",{class:De(["ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",P.ativo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},U(P.ativo?"Ativo":"Inativo"),3)]),u("div",b_,[u("span",null,"📧 "+U(P.email),1),u("span",w_,"💼 "+U(P.cargo),1)]),u("div",__,[u("span",null,"🏢 "+U(m(P.organizacao_id)),1),P.ultimo_login?(j(),F("span",x_," 🕐 Último login: "+U(b(P.ultimo_login)),1)):ge("",!0)])])]),u("div",S_,[u("button",{onClick:de=>w(P),class:"inline-flex items-center p-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},[...O[19]||(O[19]=[u("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,k_),u("button",{onClick:de=>v(P),class:"inline-flex items-center p-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},[P.ativo?(j(),F("svg",O_,[...O[20]||(O[20]=[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636"},null,-1)])])):(j(),F("svg",C_,[...O[21]||(O[21]=[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])]))],8,E_),u("button",{onClick:de=>k(P),class:"inline-flex items-center p-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},[...O[22]||(O[22]=[u("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])],8,T_)])])]))),128))])]),f.value.length===0?(j(),F("div",$_,[O[24]||(O[24]=u("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})],-1)),O[25]||(O[25]=u("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Nenhum funcionário encontrado",-1)),O[26]||(O[26]=u("p",{class:"mt-1 text-sm text-gray-500"},"Comece criando um novo funcionário.",-1)),u("div",A_,[u("button",{onClick:O[4]||(O[4]=P=>i.value=!0),class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},[...O[23]||(O[23]=[u("svg",{class:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})],-1),xe(" Novo Funcionário ",-1)])])])])):ge("",!0)])]),i.value||a.value?(j(),F("div",R_,[u("div",P_,[O[35]||(O[35]=u("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)),u("div",j_,[u("form",{onSubmit:Tn(M,["prevent"])},[u("div",I_,[u("div",M_,[u("div",D_,[u("h3",N_,U(i.value?"Novo Funcionário":"Editar Funcionário"),1),u("div",U_,[u("div",null,[O[27]||(O[27]=u("label",{for:"nome",class:"block text-sm font-medium text-gray-700"},"Nome Completo *",-1)),re(u("input",{id:"nome","onUpdate:modelValue":O[5]||(O[5]=P=>c.value.nome=P),type:"text",required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm",placeholder:"Nome completo"},null,512),[[ae,c.value.nome]])]),u("div",null,[O[28]||(O[28]=u("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Email *",-1)),re(u("input",{id:"email","onUpdate:modelValue":O[6]||(O[6]=P=>c.value.email=P),type:"email",required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm",placeholder:"email@exemplo.com"},null,512),[[ae,c.value.email]])]),u("div",null,[O[29]||(O[29]=u("label",{for:"cargo",class:"block text-sm font-medium text-gray-700"},"Cargo *",-1)),re(u("input",{id:"cargo","onUpdate:modelValue":O[7]||(O[7]=P=>c.value.cargo=P),type:"text",required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm",placeholder:"Atendente, Analista, Gerente..."},null,512),[[ae,c.value.cargo]])]),u("div",null,[O[31]||(O[31]=u("label",{for:"organizacao_id",class:"block text-sm font-medium text-gray-700"},"Filial *",-1)),re(u("select",{id:"organizacao_id","onUpdate:modelValue":O[8]||(O[8]=P=>c.value.organizacao_id=P),required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm"},[O[30]||(O[30]=u("option",{value:""},"Selecione a filial",-1)),(j(!0),F(Se,null,et(n.value,P=>(j(),F("option",{key:P.id,value:P.id},U(P.nome),9,F_))),128))],512),[[vs,c.value.organizacao_id]])]),u("div",null,[O[33]||(O[33]=u("label",{for:"role",class:"block text-sm font-medium text-gray-700"},"Função *",-1)),re(u("select",{id:"role","onUpdate:modelValue":O[9]||(O[9]=P=>c.value.role=P),required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm"},[...O[32]||(O[32]=[u("option",{value:"operator"},"👤 Operador",-1),u("option",{value:"manager"},"👨‍💼 Gerente",-1),u("option",{value:"admin"},"👑 Administrador",-1)])],512),[[vs,c.value.role]])]),i.value?(j(),F("div",L_,[O[34]||(O[34]=u("label",{for:"senha",class:"block text-sm font-medium text-gray-700"},"Senha *",-1)),re(u("input",{id:"senha","onUpdate:modelValue":O[10]||(O[10]=P=>c.value.senha=P),type:"password",required:i.value,class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm",placeholder:"Mínimo 6 caracteres",minlength:"6"},null,8,B_),[[ae,c.value.senha]])])):ge("",!0)])])])]),u("div",q_,[u("button",{type:"submit",disabled:l.value,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50"},U(l.value?"Salvando...":i.value?"Criar":"Salvar"),9,H_),u("button",{type:"button",onClick:W,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancelar ")])],32)])])])):ge("",!0)]),_:1}))}});function Vu(t,e){return function(){return t.apply(e,arguments)}}const{toString:V_}=Object.prototype,{getPrototypeOf:Fi}=Object,{iterator:io,toStringTag:zu}=Symbol,ao=(t=>e=>{const n=V_.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),xt=t=>(t=t.toLowerCase(),e=>ao(e)===t),lo=t=>e=>typeof e===t,{isArray:as}=Array,ss=lo("undefined");function Zs(t){return t!==null&&!ss(t)&&t.constructor!==null&&!ss(t.constructor)&&tt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Ku=xt("ArrayBuffer");function z_(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Ku(t.buffer),e}const K_=lo("string"),tt=lo("function"),Ju=lo("number"),er=t=>t!==null&&typeof t=="object",J_=t=>t===!0||t===!1,vr=t=>{if(ao(t)!=="object")return!1;const e=Fi(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(zu in t)&&!(io in t)},G_=t=>{if(!er(t)||Zs(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Y_=xt("Date"),X_=xt("File"),Q_=xt("Blob"),Z_=xt("FileList"),e1=t=>er(t)&&tt(t.pipe),t1=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||tt(t.append)&&((e=ao(t))==="formdata"||e==="object"&&tt(t.toString)&&t.toString()==="[object FormData]"))},n1=xt("URLSearchParams"),[s1,r1,o1,i1]=["ReadableStream","Request","Response","Headers"].map(xt),a1=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function tr(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,r;if(typeof t!="object"&&(t=[t]),as(t))for(s=0,r=t.length;s<r;s++)e.call(null,t[s],s,t);else{if(Zs(t))return;const o=n?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let a;for(s=0;s<i;s++)a=o[s],e.call(null,t[a],a,t)}}function Gu(t,e){if(Zs(t))return null;e=e.toLowerCase();const n=Object.keys(t);let s=n.length,r;for(;s-- >0;)if(r=n[s],e===r.toLowerCase())return r;return null}const En=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Yu=t=>!ss(t)&&t!==En;function ui(){const{caseless:t,skipUndefined:e}=Yu(this)&&this||{},n={},s=(r,o)=>{const i=t&&Gu(n,o)||o;vr(n[i])&&vr(r)?n[i]=ui(n[i],r):vr(r)?n[i]=ui({},r):as(r)?n[i]=r.slice():(!e||!ss(r))&&(n[i]=r)};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&tr(arguments[r],s);return n}const l1=(t,e,n,{allOwnKeys:s}={})=>(tr(e,(r,o)=>{n&&tt(r)?t[o]=Vu(r,n):t[o]=r},{allOwnKeys:s}),t),c1=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),u1=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},d1=(t,e,n,s)=>{let r,o,i;const a={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),o=r.length;o-- >0;)i=r[o],(!s||s(i,t,e))&&!a[i]&&(e[i]=t[i],a[i]=!0);t=n!==!1&&Fi(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},f1=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},h1=t=>{if(!t)return null;if(as(t))return t;let e=t.length;if(!Ju(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},m1=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Fi(Uint8Array)),p1=(t,e)=>{const s=(t&&t[io]).call(t);let r;for(;(r=s.next())&&!r.done;){const o=r.value;e.call(t,o[0],o[1])}},g1=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},v1=xt("HTMLFormElement"),y1=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),wl=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),b1=xt("RegExp"),Xu=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};tr(n,(r,o)=>{let i;(i=e(r,o,t))!==!1&&(s[o]=i||r)}),Object.defineProperties(t,s)},w1=t=>{Xu(t,(e,n)=>{if(tt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(tt(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},_1=(t,e)=>{const n={},s=r=>{r.forEach(o=>{n[o]=!0})};return as(t)?s(t):s(String(t).split(e)),n},x1=()=>{},S1=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function k1(t){return!!(t&&tt(t.append)&&t[zu]==="FormData"&&t[io])}const E1=t=>{const e=new Array(10),n=(s,r)=>{if(er(s)){if(e.indexOf(s)>=0)return;if(Zs(s))return s;if(!("toJSON"in s)){e[r]=s;const o=as(s)?[]:{};return tr(s,(i,a)=>{const l=n(i,r+1);!ss(l)&&(o[a]=l)}),e[r]=void 0,o}}return s};return n(t,0)},O1=xt("AsyncFunction"),C1=t=>t&&(er(t)||tt(t))&&tt(t.then)&&tt(t.catch),Qu=((t,e)=>t?setImmediate:e?((n,s)=>(En.addEventListener("message",({source:r,data:o})=>{r===En&&o===n&&s.length&&s.shift()()},!1),r=>{s.push(r),En.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",tt(En.postMessage)),T1=typeof queueMicrotask<"u"?queueMicrotask.bind(En):typeof process<"u"&&process.nextTick||Qu,$1=t=>t!=null&&tt(t[io]),E={isArray:as,isArrayBuffer:Ku,isBuffer:Zs,isFormData:t1,isArrayBufferView:z_,isString:K_,isNumber:Ju,isBoolean:J_,isObject:er,isPlainObject:vr,isEmptyObject:G_,isReadableStream:s1,isRequest:r1,isResponse:o1,isHeaders:i1,isUndefined:ss,isDate:Y_,isFile:X_,isBlob:Q_,isRegExp:b1,isFunction:tt,isStream:e1,isURLSearchParams:n1,isTypedArray:m1,isFileList:Z_,forEach:tr,merge:ui,extend:l1,trim:a1,stripBOM:c1,inherits:u1,toFlatObject:d1,kindOf:ao,kindOfTest:xt,endsWith:f1,toArray:h1,forEachEntry:p1,matchAll:g1,isHTMLForm:v1,hasOwnProperty:wl,hasOwnProp:wl,reduceDescriptors:Xu,freezeMethods:w1,toObjectSet:_1,toCamelCase:y1,noop:x1,toFiniteNumber:S1,findKey:Gu,global:En,isContextDefined:Yu,isSpecCompliantForm:k1,toJSONObject:E1,isAsyncFn:O1,isThenable:C1,setImmediate:Qu,asap:T1,isIterable:$1};function ne(t,e,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}E.inherits(ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:E.toJSONObject(this.config),code:this.code,status:this.status}}});const Zu=ne.prototype,ed={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{ed[t]={value:t}});Object.defineProperties(ne,ed);Object.defineProperty(Zu,"isAxiosError",{value:!0});ne.from=(t,e,n,s,r,o)=>{const i=Object.create(Zu);E.toFlatObject(t,i,function(c){return c!==Error.prototype},d=>d!=="isAxiosError");const a=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return ne.call(i,a,l,n,s,r),t&&i.cause==null&&Object.defineProperty(i,"cause",{value:t,configurable:!0}),i.name=t&&t.name||"Error",o&&Object.assign(i,o),i};const A1=null;function di(t){return E.isPlainObject(t)||E.isArray(t)}function td(t){return E.endsWith(t,"[]")?t.slice(0,-2):t}function _l(t,e,n){return t?t.concat(e).map(function(r,o){return r=td(r),!n&&o?"["+r+"]":r}).join(n?".":""):e}function R1(t){return E.isArray(t)&&!t.some(di)}const P1=E.toFlatObject(E,{},null,function(e){return/^is[A-Z]/.test(e)});function co(t,e,n){if(!E.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=E.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,g){return!E.isUndefined(g[b])});const s=n.metaTokens,r=n.visitor||c,o=n.dots,i=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&E.isSpecCompliantForm(e);if(!E.isFunction(r))throw new TypeError("visitor must be a function");function d(m){if(m===null)return"";if(E.isDate(m))return m.toISOString();if(E.isBoolean(m))return m.toString();if(!l&&E.isBlob(m))throw new ne("Blob is not supported. Use a Buffer instead.");return E.isArrayBuffer(m)||E.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function c(m,b,g){let _=m;if(m&&!g&&typeof m=="object"){if(E.endsWith(b,"{}"))b=s?b:b.slice(0,-2),m=JSON.stringify(m);else if(E.isArray(m)&&R1(m)||(E.isFileList(m)||E.endsWith(b,"[]"))&&(_=E.toArray(m)))return b=td(b),_.forEach(function(v,k){!(E.isUndefined(v)||v===null)&&e.append(i===!0?_l([b],k,o):i===null?b:b+"[]",d(v))}),!1}return di(m)?!0:(e.append(_l(g,b,o),d(m)),!1)}const f=[],h=Object.assign(P1,{defaultVisitor:c,convertValue:d,isVisitable:di});function p(m,b){if(!E.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(m),E.forEach(m,function(_,w){(!(E.isUndefined(_)||_===null)&&r.call(e,_,E.isString(w)?w.trim():w,b,h))===!0&&p(_,b?b.concat(w):[w])}),f.pop()}}if(!E.isObject(t))throw new TypeError("data must be an object");return p(t),e}function xl(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Li(t,e){this._pairs=[],t&&co(t,this,e)}const nd=Li.prototype;nd.append=function(e,n){this._pairs.push([e,n])};nd.toString=function(e){const n=e?function(s){return e.call(this,s,xl)}:xl;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function j1(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function sd(t,e,n){if(!e)return t;const s=n&&n.encode||j1;E.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let o;if(r?o=r(e,n):o=E.isURLSearchParams(e)?e.toString():new Li(e,n).toString(s),o){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Sl{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){E.forEach(this.handlers,function(s){s!==null&&e(s)})}}const rd={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},I1=typeof URLSearchParams<"u"?URLSearchParams:Li,M1=typeof FormData<"u"?FormData:null,D1=typeof Blob<"u"?Blob:null,N1={isBrowser:!0,classes:{URLSearchParams:I1,FormData:M1,Blob:D1},protocols:["http","https","file","blob","url","data"]},Bi=typeof window<"u"&&typeof document<"u",fi=typeof navigator=="object"&&navigator||void 0,U1=Bi&&(!fi||["ReactNative","NativeScript","NS"].indexOf(fi.product)<0),F1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",L1=Bi&&window.location.href||"http://localhost",B1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Bi,hasStandardBrowserEnv:U1,hasStandardBrowserWebWorkerEnv:F1,navigator:fi,origin:L1},Symbol.toStringTag,{value:"Module"})),We={...B1,...N1};function q1(t,e){return co(t,new We.classes.URLSearchParams,{visitor:function(n,s,r,o){return We.isNode&&E.isBuffer(n)?(this.append(s,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function H1(t){return E.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function W1(t){const e={},n=Object.keys(t);let s;const r=n.length;let o;for(s=0;s<r;s++)o=n[s],e[o]=t[o];return e}function od(t){function e(n,s,r,o){let i=n[o++];if(i==="__proto__")return!0;const a=Number.isFinite(+i),l=o>=n.length;return i=!i&&E.isArray(r)?r.length:i,l?(E.hasOwnProp(r,i)?r[i]=[r[i],s]:r[i]=s,!a):((!r[i]||!E.isObject(r[i]))&&(r[i]=[]),e(n,s,r[i],o)&&E.isArray(r[i])&&(r[i]=W1(r[i])),!a)}if(E.isFormData(t)&&E.isFunction(t.entries)){const n={};return E.forEachEntry(t,(s,r)=>{e(H1(s),r,n,0)}),n}return null}function V1(t,e,n){if(E.isString(t))try{return(e||JSON.parse)(t),E.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const nr={transitional:rd,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,o=E.isObject(e);if(o&&E.isHTMLForm(e)&&(e=new FormData(e)),E.isFormData(e))return r?JSON.stringify(od(e)):e;if(E.isArrayBuffer(e)||E.isBuffer(e)||E.isStream(e)||E.isFile(e)||E.isBlob(e)||E.isReadableStream(e))return e;if(E.isArrayBufferView(e))return e.buffer;if(E.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return q1(e,this.formSerializer).toString();if((a=E.isFileList(e))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return co(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||r?(n.setContentType("application/json",!1),V1(e)):e}],transformResponse:[function(e){const n=this.transitional||nr.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(E.isResponse(e)||E.isReadableStream(e))return e;if(e&&E.isString(e)&&(s&&!this.responseType||r)){const i=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(a){if(i)throw a.name==="SyntaxError"?ne.from(a,ne.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:We.classes.FormData,Blob:We.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};E.forEach(["delete","get","head","post","put","patch"],t=>{nr.headers[t]={}});const z1=E.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),K1=t=>{const e={};let n,s,r;return t&&t.split(`
`).forEach(function(i){r=i.indexOf(":"),n=i.substring(0,r).trim().toLowerCase(),s=i.substring(r+1).trim(),!(!n||e[n]&&z1[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},kl=Symbol("internals");function ms(t){return t&&String(t).trim().toLowerCase()}function yr(t){return t===!1||t==null?t:E.isArray(t)?t.map(yr):String(t)}function J1(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const G1=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function jo(t,e,n,s,r){if(E.isFunction(s))return s.call(this,e,n);if(r&&(e=n),!!E.isString(e)){if(E.isString(s))return e.indexOf(s)!==-1;if(E.isRegExp(s))return s.test(e)}}function Y1(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function X1(t,e){const n=E.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(r,o,i){return this[s].call(this,e,r,o,i)},configurable:!0})})}let nt=class{constructor(e){e&&this.set(e)}set(e,n,s){const r=this;function o(a,l,d){const c=ms(l);if(!c)throw new Error("header name must be a non-empty string");const f=E.findKey(r,c);(!f||r[f]===void 0||d===!0||d===void 0&&r[f]!==!1)&&(r[f||l]=yr(a))}const i=(a,l)=>E.forEach(a,(d,c)=>o(d,c,l));if(E.isPlainObject(e)||e instanceof this.constructor)i(e,n);else if(E.isString(e)&&(e=e.trim())&&!G1(e))i(K1(e),n);else if(E.isObject(e)&&E.isIterable(e)){let a={},l,d;for(const c of e){if(!E.isArray(c))throw TypeError("Object iterator must return a key-value pair");a[d=c[0]]=(l=a[d])?E.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}i(a,n)}else e!=null&&o(n,e,s);return this}get(e,n){if(e=ms(e),e){const s=E.findKey(this,e);if(s){const r=this[s];if(!n)return r;if(n===!0)return J1(r);if(E.isFunction(n))return n.call(this,r,s);if(E.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ms(e),e){const s=E.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||jo(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let r=!1;function o(i){if(i=ms(i),i){const a=E.findKey(s,i);a&&(!n||jo(s,s[a],a,n))&&(delete s[a],r=!0)}}return E.isArray(e)?e.forEach(o):o(e),r}clear(e){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const o=n[s];(!e||jo(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const n=this,s={};return E.forEach(this,(r,o)=>{const i=E.findKey(s,o);if(i){n[i]=yr(r),delete n[o];return}const a=e?Y1(o):String(o).trim();a!==o&&delete n[o],n[a]=yr(r),s[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return E.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=e&&E.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[kl]=this[kl]={accessors:{}}).accessors,r=this.prototype;function o(i){const a=ms(i);s[a]||(X1(r,i),s[a]=!0)}return E.isArray(e)?e.forEach(o):o(e),this}};nt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);E.reduceDescriptors(nt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});E.freezeMethods(nt);function Io(t,e){const n=this||nr,s=e||n,r=nt.from(s.headers);let o=s.data;return E.forEach(t,function(a){o=a.call(n,o,r.normalize(),e?e.status:void 0)}),r.normalize(),o}function id(t){return!!(t&&t.__CANCEL__)}function ls(t,e,n){ne.call(this,t??"canceled",ne.ERR_CANCELED,e,n),this.name="CanceledError"}E.inherits(ls,ne,{__CANCEL__:!0});function ad(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new ne("Request failed with status code "+n.status,[ne.ERR_BAD_REQUEST,ne.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Q1(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Z1(t,e){t=t||10;const n=new Array(t),s=new Array(t);let r=0,o=0,i;return e=e!==void 0?e:1e3,function(l){const d=Date.now(),c=s[o];i||(i=d),n[r]=l,s[r]=d;let f=o,h=0;for(;f!==r;)h+=n[f++],f=f%t;if(r=(r+1)%t,r===o&&(o=(o+1)%t),d-i<e)return;const p=c&&d-c;return p?Math.round(h*1e3/p):void 0}}function ex(t,e){let n=0,s=1e3/e,r,o;const i=(d,c=Date.now())=>{n=c,r=null,o&&(clearTimeout(o),o=null),t(...d)};return[(...d)=>{const c=Date.now(),f=c-n;f>=s?i(d,c):(r=d,o||(o=setTimeout(()=>{o=null,i(r)},s-f)))},()=>r&&i(r)]}const Ur=(t,e,n=3)=>{let s=0;const r=Z1(50,250);return ex(o=>{const i=o.loaded,a=o.lengthComputable?o.total:void 0,l=i-s,d=r(l),c=i<=a;s=i;const f={loaded:i,total:a,progress:a?i/a:void 0,bytes:l,rate:d||void 0,estimated:d&&a&&c?(a-i)/d:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},El=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},Ol=t=>(...e)=>E.asap(()=>t(...e)),tx=We.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,We.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(We.origin),We.navigator&&/(msie|trident)/i.test(We.navigator.userAgent)):()=>!0,nx=We.hasStandardBrowserEnv?{write(t,e,n,s,r,o){const i=[t+"="+encodeURIComponent(e)];E.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),E.isString(s)&&i.push("path="+s),E.isString(r)&&i.push("domain="+r),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function sx(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function rx(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function ld(t,e,n){let s=!sx(e);return t&&(s||n==!1)?rx(t,e):e}const Cl=t=>t instanceof nt?{...t}:t;function An(t,e){e=e||{};const n={};function s(d,c,f,h){return E.isPlainObject(d)&&E.isPlainObject(c)?E.merge.call({caseless:h},d,c):E.isPlainObject(c)?E.merge({},c):E.isArray(c)?c.slice():c}function r(d,c,f,h){if(E.isUndefined(c)){if(!E.isUndefined(d))return s(void 0,d,f,h)}else return s(d,c,f,h)}function o(d,c){if(!E.isUndefined(c))return s(void 0,c)}function i(d,c){if(E.isUndefined(c)){if(!E.isUndefined(d))return s(void 0,d)}else return s(void 0,c)}function a(d,c,f){if(f in e)return s(d,c);if(f in t)return s(void 0,d)}const l={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(d,c,f)=>r(Cl(d),Cl(c),f,!0)};return E.forEach(Object.keys({...t,...e}),function(c){const f=l[c]||r,h=f(t[c],e[c],c);E.isUndefined(h)&&f!==a||(n[c]=h)}),n}const cd=t=>{const e=An({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:o,headers:i,auth:a}=e;if(e.headers=i=nt.from(i),e.url=sd(ld(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&i.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),E.isFormData(n)){if(We.hasStandardBrowserEnv||We.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(E.isFunction(n.getHeaders)){const l=n.getHeaders(),d=["content-type","content-length"];Object.entries(l).forEach(([c,f])=>{d.includes(c.toLowerCase())&&i.set(c,f)})}}if(We.hasStandardBrowserEnv&&(s&&E.isFunction(s)&&(s=s(e)),s||s!==!1&&tx(e.url))){const l=r&&o&&nx.read(o);l&&i.set(r,l)}return e},ox=typeof XMLHttpRequest<"u",ix=ox&&function(t){return new Promise(function(n,s){const r=cd(t);let o=r.data;const i=nt.from(r.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:d}=r,c,f,h,p,m;function b(){p&&p(),m&&m(),r.cancelToken&&r.cancelToken.unsubscribe(c),r.signal&&r.signal.removeEventListener("abort",c)}let g=new XMLHttpRequest;g.open(r.method.toUpperCase(),r.url,!0),g.timeout=r.timeout;function _(){if(!g)return;const v=nt.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),M={data:!a||a==="text"||a==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:v,config:t,request:g};ad(function(A){n(A),b()},function(A){s(A),b()},M),g=null}"onloadend"in g?g.onloadend=_:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(_)},g.onabort=function(){g&&(s(new ne("Request aborted",ne.ECONNABORTED,t,g)),g=null)},g.onerror=function(k){const M=k&&k.message?k.message:"Network Error",W=new ne(M,ne.ERR_NETWORK,t,g);W.event=k||null,s(W),g=null},g.ontimeout=function(){let k=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const M=r.transitional||rd;r.timeoutErrorMessage&&(k=r.timeoutErrorMessage),s(new ne(k,M.clarifyTimeoutError?ne.ETIMEDOUT:ne.ECONNABORTED,t,g)),g=null},o===void 0&&i.setContentType(null),"setRequestHeader"in g&&E.forEach(i.toJSON(),function(k,M){g.setRequestHeader(M,k)}),E.isUndefined(r.withCredentials)||(g.withCredentials=!!r.withCredentials),a&&a!=="json"&&(g.responseType=r.responseType),d&&([h,m]=Ur(d,!0),g.addEventListener("progress",h)),l&&g.upload&&([f,p]=Ur(l),g.upload.addEventListener("progress",f),g.upload.addEventListener("loadend",p)),(r.cancelToken||r.signal)&&(c=v=>{g&&(s(!v||v.type?new ls(null,t,g):v),g.abort(),g=null)},r.cancelToken&&r.cancelToken.subscribe(c),r.signal&&(r.signal.aborted?c():r.signal.addEventListener("abort",c)));const w=Q1(r.url);if(w&&We.protocols.indexOf(w)===-1){s(new ne("Unsupported protocol "+w+":",ne.ERR_BAD_REQUEST,t));return}g.send(o||null)})},ax=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,r;const o=function(d){if(!r){r=!0,a();const c=d instanceof Error?d:this.reason;s.abort(c instanceof ne?c:new ls(c instanceof Error?c.message:c))}};let i=e&&setTimeout(()=>{i=null,o(new ne(`timeout ${e} of ms exceeded`,ne.ETIMEDOUT))},e);const a=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o)}),t=null)};t.forEach(d=>d.addEventListener("abort",o));const{signal:l}=s;return l.unsubscribe=()=>E.asap(a),l}},lx=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,r;for(;s<n;)r=s+e,yield t.slice(s,r),s=r},cx=async function*(t,e){for await(const n of ux(t))yield*lx(n,e)},ux=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},Tl=(t,e,n,s)=>{const r=cx(t,e);let o=0,i,a=l=>{i||(i=!0,s&&s(l))};return new ReadableStream({async pull(l){try{const{done:d,value:c}=await r.next();if(d){a(),l.close();return}let f=c.byteLength;if(n){let h=o+=f;n(h)}l.enqueue(new Uint8Array(c))}catch(d){throw a(d),d}},cancel(l){return a(l),r.return()}},{highWaterMark:2})},$l=64*1024,{isFunction:ur}=E,dx=(({Request:t,Response:e})=>({Request:t,Response:e}))(E.global),{ReadableStream:Al,TextEncoder:Rl}=E.global,Pl=(t,...e)=>{try{return!!t(...e)}catch{return!1}},fx=t=>{t=E.merge.call({skipUndefined:!0},dx,t);const{fetch:e,Request:n,Response:s}=t,r=e?ur(e):typeof fetch=="function",o=ur(n),i=ur(s);if(!r)return!1;const a=r&&ur(Al),l=r&&(typeof Rl=="function"?(m=>b=>m.encode(b))(new Rl):async m=>new Uint8Array(await new n(m).arrayBuffer())),d=o&&a&&Pl(()=>{let m=!1;const b=new n(We.origin,{body:new Al,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!b}),c=i&&a&&Pl(()=>E.isReadableStream(new s("").body)),f={stream:c&&(m=>m.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!f[m]&&(f[m]=(b,g)=>{let _=b&&b[m];if(_)return _.call(b);throw new ne(`Response type '${m}' is not supported`,ne.ERR_NOT_SUPPORT,g)})});const h=async m=>{if(m==null)return 0;if(E.isBlob(m))return m.size;if(E.isSpecCompliantForm(m))return(await new n(We.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(E.isArrayBufferView(m)||E.isArrayBuffer(m))return m.byteLength;if(E.isURLSearchParams(m)&&(m=m+""),E.isString(m))return(await l(m)).byteLength},p=async(m,b)=>{const g=E.toFiniteNumber(m.getContentLength());return g??h(b)};return async m=>{let{url:b,method:g,data:_,signal:w,cancelToken:v,timeout:k,onDownloadProgress:M,onUploadProgress:W,responseType:A,headers:O,withCredentials:P="same-origin",fetchOptions:de}=cd(m),Ne=e||fetch;A=A?(A+"").toLowerCase():"text";let Ue=ax([w,v&&v.toAbortSignal()],k),Ae=null;const ze=Ue&&Ue.unsubscribe&&(()=>{Ue.unsubscribe()});let ht;try{if(W&&d&&g!=="get"&&g!=="head"&&(ht=await p(O,_))!==0){let je=new n(b,{method:"POST",body:_,duplex:"half"}),Oe;if(E.isFormData(_)&&(Oe=je.headers.get("content-type"))&&O.setContentType(Oe),je.body){const[kt,mt]=El(ht,Ur(Ol(W)));_=Tl(je.body,$l,kt,mt)}}E.isString(P)||(P=P?"include":"omit");const oe=o&&"credentials"in n.prototype,Z={...de,signal:Ue,method:g.toUpperCase(),headers:O.normalize().toJSON(),body:_,duplex:"half",credentials:oe?P:void 0};Ae=o&&new n(b,Z);let se=await(o?Ne(Ae,de):Ne(b,Z));const lt=c&&(A==="stream"||A==="response");if(c&&(M||lt&&ze)){const je={};["status","statusText","headers"].forEach(hn=>{je[hn]=se[hn]});const Oe=E.toFiniteNumber(se.headers.get("content-length")),[kt,mt]=M&&El(Oe,Ur(Ol(M),!0))||[];se=new s(Tl(se.body,$l,kt,()=>{mt&&mt(),ze&&ze()}),je)}A=A||"text";let St=await f[E.findKey(f,A)||"text"](se,m);return!lt&&ze&&ze(),await new Promise((je,Oe)=>{ad(je,Oe,{data:St,headers:nt.from(se.headers),status:se.status,statusText:se.statusText,config:m,request:Ae})})}catch(oe){throw ze&&ze(),oe&&oe.name==="TypeError"&&/Load failed|fetch/i.test(oe.message)?Object.assign(new ne("Network Error",ne.ERR_NETWORK,m,Ae),{cause:oe.cause||oe}):ne.from(oe,oe&&oe.code,m,Ae)}}},hx=new Map,ud=t=>{let e=t?t.env:{};const{fetch:n,Request:s,Response:r}=e,o=[s,r,n];let i=o.length,a=i,l,d,c=hx;for(;a--;)l=o[a],d=c.get(l),d===void 0&&c.set(l,d=a?new Map:fx(e)),c=d;return d};ud();const hi={http:A1,xhr:ix,fetch:{get:ud}};E.forEach(hi,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const jl=t=>`- ${t}`,mx=t=>E.isFunction(t)||t===null||t===!1,dd={getAdapter:(t,e)=>{t=E.isArray(t)?t:[t];const{length:n}=t;let s,r;const o={};for(let i=0;i<n;i++){s=t[i];let a;if(r=s,!mx(s)&&(r=hi[(a=String(s)).toLowerCase()],r===void 0))throw new ne(`Unknown adapter '${a}'`);if(r&&(E.isFunction(r)||(r=r.get(e))))break;o[a||"#"+i]=r}if(!r){const i=Object.entries(o).map(([l,d])=>`adapter ${l} `+(d===!1?"is not supported by the environment":"is not available in the build"));let a=n?i.length>1?`since :
`+i.map(jl).join(`
`):" "+jl(i[0]):"as no adapter specified";throw new ne("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:hi};function Mo(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ls(null,t)}function Il(t){return Mo(t),t.headers=nt.from(t.headers),t.data=Io.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),dd.getAdapter(t.adapter||nr.adapter,t)(t).then(function(s){return Mo(t),s.data=Io.call(t,t.transformResponse,s),s.headers=nt.from(s.headers),s},function(s){return id(s)||(Mo(t),s&&s.response&&(s.response.data=Io.call(t,t.transformResponse,s.response),s.response.headers=nt.from(s.response.headers))),Promise.reject(s)})}const fd="1.12.2",uo={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{uo[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const Ml={};uo.transitional=function(e,n,s){function r(o,i){return"[Axios v"+fd+"] Transitional option '"+o+"'"+i+(s?". "+s:"")}return(o,i,a)=>{if(e===!1)throw new ne(r(i," has been removed"+(n?" in "+n:"")),ne.ERR_DEPRECATED);return n&&!Ml[i]&&(Ml[i]=!0,console.warn(r(i," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,i,a):!0}};uo.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function px(t,e,n){if(typeof t!="object")throw new ne("options must be an object",ne.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let r=s.length;for(;r-- >0;){const o=s[r],i=e[o];if(i){const a=t[o],l=a===void 0||i(a,o,t);if(l!==!0)throw new ne("option "+o+" must be "+l,ne.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ne("Unknown option "+o,ne.ERR_BAD_OPTION)}}const br={assertOptions:px,validators:uo},$t=br.validators;let $n=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Sl,response:new Sl}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=An(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:o}=n;s!==void 0&&br.assertOptions(s,{silentJSONParsing:$t.transitional($t.boolean),forcedJSONParsing:$t.transitional($t.boolean),clarifyTimeoutError:$t.transitional($t.boolean)},!1),r!=null&&(E.isFunction(r)?n.paramsSerializer={serialize:r}:br.assertOptions(r,{encode:$t.function,serialize:$t.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),br.assertOptions(n,{baseUrl:$t.spelling("baseURL"),withXsrfToken:$t.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&E.merge(o.common,o[n.method]);o&&E.forEach(["delete","get","head","post","put","patch","common"],m=>{delete o[m]}),n.headers=nt.concat(i,o);const a=[];let l=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(l=l&&b.synchronous,a.unshift(b.fulfilled,b.rejected))});const d=[];this.interceptors.response.forEach(function(b){d.push(b.fulfilled,b.rejected)});let c,f=0,h;if(!l){const m=[Il.bind(this),void 0];for(m.unshift(...a),m.push(...d),h=m.length,c=Promise.resolve(n);f<h;)c=c.then(m[f++],m[f++]);return c}h=a.length;let p=n;for(;f<h;){const m=a[f++],b=a[f++];try{p=m(p)}catch(g){b.call(this,g);break}}try{c=Il.call(this,p)}catch(m){return Promise.reject(m)}for(f=0,h=d.length;f<h;)c=c.then(d[f++],d[f++]);return c}getUri(e){e=An(this.defaults,e);const n=ld(e.baseURL,e.url,e.allowAbsoluteUrls);return sd(n,e.params,e.paramsSerializer)}};E.forEach(["delete","get","head","options"],function(e){$n.prototype[e]=function(n,s){return this.request(An(s||{},{method:e,url:n,data:(s||{}).data}))}});E.forEach(["post","put","patch"],function(e){function n(s){return function(o,i,a){return this.request(An(a||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}$n.prototype[e]=n(),$n.prototype[e+"Form"]=n(!0)});let gx=class hd{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const s=this;this.promise.then(r=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](r);s._listeners=null}),this.promise.then=r=>{let o;const i=new Promise(a=>{s.subscribe(a),o=a}).then(r);return i.cancel=function(){s.unsubscribe(o)},i},e(function(o,i,a){s.reason||(s.reason=new ls(o,i,a),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new hd(function(r){e=r}),cancel:e}}};function vx(t){return function(n){return t.apply(null,n)}}function yx(t){return E.isObject(t)&&t.isAxiosError===!0}const mi={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mi).forEach(([t,e])=>{mi[e]=t});function md(t){const e=new $n(t),n=Vu($n.prototype.request,e);return E.extend(n,$n.prototype,e,{allOwnKeys:!0}),E.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return md(An(t,r))},n}const $e=md(nr);$e.Axios=$n;$e.CanceledError=ls;$e.CancelToken=gx;$e.isCancel=id;$e.VERSION=fd;$e.toFormData=co;$e.AxiosError=ne;$e.Cancel=$e.CanceledError;$e.all=function(e){return Promise.all(e)};$e.spread=vx;$e.isAxiosError=yx;$e.mergeConfig=An;$e.AxiosHeaders=nt;$e.formToJSON=t=>od(E.isHTMLForm(t)?new FormData(t):t);$e.getAdapter=dd.getAdapter;$e.HttpStatusCode=mi;$e.default=$e;const{Axios:Nk,AxiosError:Uk,CanceledError:Fk,isCancel:Lk,CancelToken:Bk,VERSION:qk,all:Hk,Cancel:Wk,isAxiosError:Vk,spread:zk,toFormData:Kk,AxiosHeaders:Jk,HttpStatusCode:Gk,formToJSON:Yk,getAdapter:Xk,mergeConfig:Qk}=$e;class bx{constructor(){zi(this,"api");this.api=$e.create({baseURL:"https://api.dnotas.com.br:9999/api",timeout:1e4,headers:{"Content-Type":"application/json"}}),this.api.interceptors.response.use(e=>e,e=>{var n;return((n=e.response)==null?void 0:n.status)===401&&(localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),window.location.href="/login"),Promise.reject(e)})}setAuthToken(e){e?this.api.defaults.headers.common.Authorization=`Bearer ${e}`:delete this.api.defaults.headers.common.Authorization}async login(e,n,s){return(await this.api.post("/auth/admin-login",{email:e,password:n,filial_id:s})).data}async getDashboardStats(){return(await this.api.get("/admin/dashboard-stats")).data.data}async getClients(e){return(await this.api.get(`/admin/clients?filial_id=${e}`)).data.data}async getChatSessions(e){return(await this.api.get(`/admin/chat-sessions?filial_id=${e}`)).data.data}async getMessages(e){return(await this.api.get(`/admin/messages/${e}`)).data.data}async sendMessage(e,n){try{return(await this.api.post("/admin/send-message",{client_cnpj:e,content:n})).data.success}catch(s){return console.error("Error sending message:",s),!1}}async markAsRead(e){try{return(await this.api.post("/admin/mark-read",{client_cnpj:e})).data.success}catch(n){return console.error("Error marking as read:",n),!1}}async getBoletos(e){return(await this.api.get(`/admin/boletos?filial_id=${e}`)).data.data}}const bs=new bx,wx={class:"flex h-full"},_x={class:"w-80 bg-white border-r border-gray-200 flex flex-col"},xx={class:"px-4 py-6 border-b border-gray-200"},Sx={class:"mt-3"},kx={class:"relative"},Ex={class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},Ox={class:"flex-1 overflow-y-auto"},Cx={class:"divide-y divide-gray-200"},Tx=["onClick"],$x={class:"flex items-start space-x-3"},Ax={class:"flex-shrink-0 relative"},Rx={class:"h-10 w-10 rounded-full bg-primary-500 flex items-center justify-center"},Px={class:"text-white text-sm font-medium"},jx={key:0,class:"absolute -bottom-1 -right-1 h-3 w-3 bg-green-400 border-2 border-white rounded-full"},Ix={class:"flex-1 min-w-0"},Mx={class:"flex items-center justify-between"},Dx={class:"text-sm font-medium text-gray-900 truncate"},Nx={class:"flex items-center space-x-1"},Ux={key:0,class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800"},Fx={class:"text-xs text-gray-500"},Lx={class:"text-sm text-gray-500 truncate mt-1"},Bx={class:"flex-1 flex flex-col"},qx={key:0,class:"flex-1 flex items-center justify-center bg-gray-50"},Hx={class:"text-center"},Wx={key:1,class:"flex-1 flex flex-col"},Vx={class:"px-6 py-4 border-b border-gray-200 bg-white"},zx={class:"flex items-center justify-between"},Kx={class:"flex items-center space-x-3"},Jx={class:"flex-shrink-0 relative"},Gx={class:"h-10 w-10 rounded-full bg-primary-500 flex items-center justify-center"},Yx={class:"text-white text-sm font-medium"},Xx={key:0,class:"absolute -bottom-1 -right-1 h-3 w-3 bg-green-400 border-2 border-white rounded-full"},Qx={class:"text-lg font-medium text-gray-900"},Zx={class:"text-sm text-gray-500"},e2={class:"flex items-center space-x-2"},t2={type:"button",class:"p-2 text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 rounded-md"},n2={type:"button",class:"p-2 text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 rounded-md"},s2={class:"text-sm"},r2={key:0,class:"ml-1"},o2={class:"px-6 py-4 bg-white border-t border-gray-200"},i2={class:"flex-1"},a2=["onKeydown"],l2=["disabled"],c2=at({__name:"ChatView",setup(t){const e=Xs(),n=z(""),s=z(null),r=z([]),o=z([]),i=z(""),a=z(!1),l=z(null),d=Me(()=>n.value?r.value.filter(_=>_.client_name.toLowerCase().includes(n.value.toLowerCase())):r.value),c=_=>Ui(new Date(_),{addSuffix:!0,locale:Hs}),f=_=>Wu(new Date(_),"HH:mm",{locale:Hs}),h=async _=>{s.value=_,await p(_.client_cnpj),_.unread_count>0&&(await bs.markAsRead(_.client_cnpj),_.unread_count=0)},p=async _=>{try{o.value=await bs.getMessages(_),await b()}catch(w){console.error("Erro ao carregar mensagens:",w)}},m=async()=>{var v;if(!i.value.trim()||!s.value||a.value)return;a.value=!0;const _=i.value.trim();i.value="";const w={id:Date.now().toString(),content:_,sender_id:"admin",sender_name:((v=e.user)==null?void 0:v.name)||"Suporte",timestamp:new Date().toISOString(),is_from_client:!1,client_cnpj:s.value.client_cnpj,read:!1};o.value.push(w),await b();try{if(await bs.sendMessage(s.value.client_cnpj,_)){s.value.last_message=_,s.value.last_message_time=new Date().toISOString();const M=r.value.findIndex(W=>{var A;return W.client_cnpj===((A=s.value)==null?void 0:A.client_cnpj)});if(M>0){const W=r.value.splice(M,1)[0];r.value.unshift(W)}}}catch(k){console.error("Erro ao enviar mensagem:",k)}finally{a.value=!1}},b=async()=>{await Ks(),l.value&&(l.value.scrollTop=l.value.scrollHeight)},g=async()=>{var _;try{r.value=await bs.getChatSessions(((_=e.user)==null?void 0:_.filial_id)||"matriz")}catch(w){console.error("Erro ao carregar sessões de chat:",w)}};return an(o,()=>{b()},{deep:!0}),dn(()=>{g()}),(_,w)=>(j(),ke(Pn,null,{default:Je(()=>[u("div",wx,[u("div",_x,[u("div",xx,[w[3]||(w[3]=u("h2",{class:"text-lg font-medium text-gray-900"},"Atendimentos",-1)),u("div",Sx,[u("div",kx,[re(u("input",{"onUpdate:modelValue":w[0]||(w[0]=v=>n.value=v),type:"text",class:"block w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Buscar cliente..."},null,512),[[ae,n.value]]),u("div",Ex,[Q(Ee(Nu),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])])])]),u("div",Ox,[u("div",Cx,[(j(!0),F(Se,null,et(d.value,v=>{var k;return j(),F("div",{key:v.client_cnpj,class:De(["px-4 py-4 hover:bg-gray-50 cursor-pointer transition-colors",{"bg-primary-50":((k=s.value)==null?void 0:k.client_cnpj)===v.client_cnpj}]),onClick:M=>h(v)},[u("div",$x,[u("div",Ax,[u("div",Rx,[u("span",Px,U(v.client_name.charAt(0)),1)]),v.is_online?(j(),F("div",jx)):ge("",!0)]),u("div",Ix,[u("div",Mx,[u("p",Dx,U(v.client_name),1),u("div",Nx,[v.unread_count>0?(j(),F("span",Ux,U(v.unread_count),1)):ge("",!0),u("span",Fx,U(c(v.last_message_time)),1)])]),u("p",Lx,U(v.last_message),1)])])],10,Tx)}),128))])])]),u("div",Bx,[s.value?(j(),F("div",Wx,[u("div",Vx,[u("div",zx,[u("div",Kx,[u("div",Jx,[u("div",Gx,[u("span",Yx,U(s.value.client_name.charAt(0)),1)]),s.value.is_online?(j(),F("div",Xx)):ge("",!0)]),u("div",null,[u("h3",Qx,U(s.value.client_name),1),u("p",Zx,U(s.value.is_online?"Online":"Offline"),1)])]),u("div",e2,[u("button",t2,[Q(Ee(W0),{class:"h-5 w-5"})]),u("button",n2,[Q(Ee(L0),{class:"h-5 w-5"})])])])]),u("div",{ref_key:"messagesContainer",ref:l,class:"flex-1 overflow-y-auto p-6 bg-gray-50 space-y-4"},[(j(!0),F(Se,null,et(o.value,v=>(j(),F("div",{key:v.id,class:De(["flex",v.is_from_client?"justify-start":"justify-end"])},[u("div",{class:De(["max-w-xs lg:max-w-md px-4 py-2 rounded-lg",v.is_from_client?"bg-white text-gray-900":"bg-primary-600 text-white"])},[u("p",s2,U(v.content),1),u("p",{class:De(["text-xs mt-1",v.is_from_client?"text-gray-500":"text-primary-100"])},[xe(U(f(v.timestamp))+" ",1),!v.read&&!v.is_from_client?(j(),F("span",r2,"✓")):ge("",!0)],2)],2)],2))),128))],512),u("div",o2,[u("form",{onSubmit:Tn(m,["prevent"]),class:"flex space-x-4"},[u("div",i2,[re(u("textarea",{"onUpdate:modelValue":w[1]||(w[1]=v=>i.value=v),rows:"2",class:"block w-full border border-gray-300 rounded-md resize-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Digite sua mensagem...",onKeydown:[Sa(Tn(m,["exact","prevent"]),["enter"]),w[2]||(w[2]=Sa(Tn(v=>i.value+=`
`,["shift","exact"]),["enter"]))]},null,40,a2),[[ae,i.value]])]),u("button",{type:"submit",disabled:!i.value.trim()||a.value,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed"},[Q(Ee(H0),{class:"h-5 w-5"})],8,l2)],32)])])):(j(),F("div",qx,[u("div",Hx,[Q(Ee(ci),{class:"mx-auto h-12 w-12 text-gray-400"}),w[4]||(w[4]=u("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Selecione um atendimento",-1)),w[5]||(w[5]=u("p",{class:"mt-1 text-sm text-gray-500"}," Escolha uma conversa na lista ao lado para começar o atendimento. ",-1))])]))])])]),_:1}))}}),ps="https://api.dnotas.com.br:9999/api/client-filiais",Ft={async getFiliais(t){try{console.log(`🏢 Buscando filiais do cliente: ${t}`);const e=await fetch(`${ps}/${t}`),n=await e.json();if(!e.ok||!n.success)throw new Error(n.error||"Erro ao buscar filiais");return console.log("✅ Filiais encontradas:",n.data),n.data}catch(e){throw console.error("❌ Erro ao buscar filiais:",e),e}},async adicionarFilial(t){try{console.log("🏢 Adicionando filial:",t);const e=await fetch(ps,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await e.json();if(!e.ok||!n.success)throw new Error(n.error||"Erro ao adicionar filial");return console.log("✅ Filial criada:",n.data),n.data}catch(e){throw console.error("❌ Erro ao adicionar filial:",e),e}},async atualizarFilial(t,e){try{console.log(`🏢 Atualizando filial ${t}:`,e);const n=await fetch(`${ps}/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await n.json();if(!n.ok||!s.success)throw new Error(s.error||"Erro ao atualizar filial");return console.log("✅ Filial atualizada:",s.data),s.data}catch(n){throw console.error("❌ Erro ao atualizar filial:",n),n}},async removerFilial(t){try{console.log(`🏢 Removendo filial: ${t}`);const e=await fetch(`${ps}/${t}`,{method:"DELETE"}),n=await e.json();if(!e.ok||!n.success)throw new Error(n.error||"Erro ao remover filial");console.log("✅ Filial removida com sucesso")}catch(e){throw console.error("❌ Erro ao remover filial:",e),e}},async buscarCnpj(t){try{console.log(`🔍 Verificando CNPJ: ${t}`);const e=await fetch(`${ps}/search/${t}`),n=await e.json();if(!e.ok||!n.success)throw new Error(n.error||"Erro ao buscar CNPJ");return console.log("✅ Resultado da busca:",n),{found:n.found,tipo:n.tipo,dados:n.dados}}catch(e){throw console.error("❌ Erro ao buscar CNPJ:",e),e}},formatarCnpj(t){return t.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5")},limparCnpj(t){return t.replace(/[^\d]/g,"")},validarCnpj(t){const e=this.limparCnpj(t);return e.length===14&&/^\d+$/.test(e)}},u2={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},d2={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},f2={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full"},h2={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},m2={class:"flex items-center justify-between mb-6"},p2={class:"text-lg leading-6 font-medium text-gray-900"},g2={class:"text-sm text-gray-500"},v2={key:0,class:"text-center py-8"},y2={key:1,class:"space-y-6"},b2={class:"bg-gray-50 p-4 rounded-lg"},w2={key:0,class:"mt-1 text-sm text-red-600"},_2={class:"sm:col-span-2"},x2={class:"sm:col-span-2"},S2=["disabled"],k2={key:0,class:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},E2={class:"text-md font-medium text-gray-900 mb-4"},O2={key:0,class:"text-center py-8 text-gray-500"},C2={key:1,class:"space-y-3"},T2={class:"flex items-center justify-between"},$2={class:"flex-1"},A2={class:"flex items-center space-x-3"},R2={class:"flex-shrink-0"},P2={class:"text-sm font-medium text-gray-900"},j2={class:"text-sm text-gray-500"},I2={key:0,class:"flex items-center space-x-2"},M2=["onClick"],D2=["onClick"],N2=at({__name:"FiliaisModal",props:{isOpen:{type:Boolean},cliente:{}},emits:["close","updated"],setup(t,{emit:e}){const n=t,s=e,r=z(!1),o=z(!1),i=z(""),a=z([]),l=z({cnpj:"",nome:"",telefone:"",email:"",endereco:""}),d=w=>Ft.formatarCnpj(w);an(()=>n.isOpen,async w=>{w?await c():g()});const c=async()=>{r.value=!0;try{const w=await Ft.getFiliais(n.cliente.cnpj);a.value=w.filiais||[],console.log("✅ Filiais carregadas:",a.value)}catch(w){console.error("❌ Erro ao carregar filiais:",w)}finally{r.value=!1}},f=w=>{let k=w.target.value.replace(/\D/g,"");k.length<=14&&(k=k.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"),l.value.cnpj=k),i.value=""},h=async w=>{const v=Ft.limparCnpj(w);if(!Ft.validarCnpj(w))return i.value="CNPJ inválido",!1;if(v===Ft.limparCnpj(n.cliente.cnpj))return i.value="CNPJ não pode ser igual ao da matriz",!1;try{const k=await Ft.buscarCnpj(v);if(k.found)return i.value=`CNPJ já cadastrado como ${k.tipo}`,!1}catch(k){console.error("Erro ao validar CNPJ:",k)}return!0},p=async()=>{if(await h(l.value.cnpj)){o.value=!0;try{await Ft.adicionarFilial({matriz_cnpj:Ft.limparCnpj(n.cliente.cnpj),filial_cnpj:Ft.limparCnpj(l.value.cnpj),filial_nome:l.value.nome,endereco:l.value.endereco||void 0,telefone:l.value.telefone||void 0,email:l.value.email||void 0}),await c(),g(),s("updated"),console.log("✅ Filial adicionada com sucesso")}catch(w){console.error("❌ Erro ao adicionar filial:",w)}finally{o.value=!1}}},m=async w=>{console.log("Toggle filial:",w)},b=async w=>{confirm(`Tem certeza que deseja remover a filial "${w.nome}"?`)&&console.log("Remover filial:",w)},g=()=>{l.value={cnpj:"",nome:"",telefone:"",email:"",endereco:""},i.value=""},_=()=>{s("close")};return(w,v)=>t.isOpen?(j(),F("div",u2,[u("div",d2,[u("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:_}),u("div",f2,[u("div",h2,[u("div",m2,[u("div",null,[u("h3",p2," Gerenciar Filiais - "+U(t.cliente.nome_empresa),1),u("p",g2," CNPJ Matriz: "+U(d(t.cliente.cnpj)),1)]),u("button",{onClick:_,class:"text-gray-400 hover:text-gray-600"},[...v[5]||(v[5]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),r.value?(j(),F("div",v2,[...v[6]||(v[6]=[u("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"},null,-1),u("p",{class:"mt-2 text-sm text-gray-500"},"Carregando filiais...",-1)])])):(j(),F("div",y2,[u("div",b2,[v[13]||(v[13]=u("h4",{class:"text-md font-medium text-gray-900 mb-4"},"Adicionar Nova Filial",-1)),u("form",{onSubmit:Tn(p,["prevent"]),class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},[u("div",null,[v[7]||(v[7]=u("label",{class:"block text-sm font-medium text-gray-700"},"CNPJ da Filial *",-1)),re(u("input",{"onUpdate:modelValue":v[0]||(v[0]=k=>l.value.cnpj=k),type:"text",placeholder:"00.000.000/0000-00",maxlength:"18",onInput:f,class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500",required:""},null,544),[[ae,l.value.cnpj]]),i.value?(j(),F("p",w2,U(i.value),1)):ge("",!0)]),u("div",null,[v[8]||(v[8]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nome da Filial *",-1)),re(u("input",{"onUpdate:modelValue":v[1]||(v[1]=k=>l.value.nome=k),type:"text",placeholder:"Ex: Filial Shopping Center",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500",required:""},null,512),[[ae,l.value.nome]])]),u("div",null,[v[9]||(v[9]=u("label",{class:"block text-sm font-medium text-gray-700"},"Telefone",-1)),re(u("input",{"onUpdate:modelValue":v[2]||(v[2]=k=>l.value.telefone=k),type:"text",placeholder:"(11) 99999-9999",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"},null,512),[[ae,l.value.telefone]])]),u("div",null,[v[10]||(v[10]=u("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),re(u("input",{"onUpdate:modelValue":v[3]||(v[3]=k=>l.value.email=k),type:"email",placeholder:"filial@empresa.com",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"},null,512),[[ae,l.value.email]])]),u("div",_2,[v[11]||(v[11]=u("label",{class:"block text-sm font-medium text-gray-700"},"Endereço",-1)),re(u("input",{"onUpdate:modelValue":v[4]||(v[4]=k=>l.value.endereco=k),type:"text",placeholder:"Rua, número, bairro, cidade",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"},null,512),[[ae,l.value.endereco]])]),u("div",x2,[u("button",{type:"submit",disabled:o.value,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50"},[o.value?(j(),F("svg",k2,[...v[12]||(v[12]=[u("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),u("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):ge("",!0),xe(" "+U(o.value?"Adicionando...":"Adicionar Filial"),1)],8,S2)])],32)]),u("div",null,[u("h4",E2," Filiais Cadastradas ("+U(a.value.length)+") ",1),a.value.length===0?(j(),F("div",O2,[...v[14]||(v[14]=[u("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-4m-5 0H9m0 0H5m4 0V9a2 2 0 012-2h2a2 2 0 012 2v12"})],-1),u("p",{class:"mt-2"},"Nenhuma filial cadastrada",-1),u("p",{class:"text-xs"},"Use o formulário acima para adicionar a primeira filial",-1)])])):(j(),F("div",C2,[(j(!0),F(Se,null,et(a.value,k=>(j(),F("div",{key:k.cnpj,class:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50"},[u("div",T2,[u("div",$2,[u("div",A2,[u("div",R2,[u("span",{class:De(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",k.tipo==="matriz"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"])},U(k.tipo==="matriz"?"Matriz":"Filial"),3)]),u("div",null,[u("h5",P2,U(k.nome),1),u("p",j2,U(d(k.cnpj)),1)])])]),k.tipo==="filial"?(j(),F("div",I2,[u("span",{class:De(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",k.ativo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},U(k.ativo?"Ativo":"Inativo"),3),u("button",{onClick:M=>m(k),class:"text-sm text-primary-600 hover:text-primary-900"},U(k.ativo?"Desativar":"Ativar"),9,M2),u("button",{onClick:M=>b(k),class:"text-sm text-red-600 hover:text-red-900"}," Remover ",8,D2)])):ge("",!0)])]))),128))]))])]))]),u("div",{class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},[u("button",{onClick:_,class:"w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Fechar ")])])])])):ge("",!0)}}),U2={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},F2={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},L2={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full"},B2={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},q2={class:"flex items-center justify-between mb-6"},H2={class:"text-lg leading-6 font-medium text-gray-900"},W2={key:0,class:"text-center py-8"},V2={class:"mt-2 text-sm text-gray-500"},z2={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},K2={class:"sm:col-span-2"},J2=["disabled"],G2={key:0,class:"mt-1 text-xs text-gray-500"},Y2=["required","placeholder"],X2={class:"border-t pt-6"},Q2={key:0,class:"text-center py-4 text-gray-500 bg-gray-50 rounded-lg"},Z2={key:1,class:"space-y-3"},eS={class:"grid grid-cols-1 gap-4 sm:grid-cols-3"},tS=["onUpdate:modelValue","onInput"],nS=["onUpdate:modelValue"],sS={class:"flex items-end"},rS=["onClick"],oS={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},iS=["disabled"],aS={key:0,class:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},lS=at({__name:"ClienteModal",props:{isOpen:{type:Boolean},cliente:{}},emits:["close","saved"],setup(t,{emit:e}){const n=t,s=e,r=z(!1),o=z(!1),i=z({nome_empresa:"",cnpj:"",email:"",telefone:"",senha:"",filiais:[]}),a=Me(()=>!!n.cliente);an(()=>n.isOpen,async _=>{_&&(n.cliente?await l():b())});const l=async()=>{if(n.cliente){r.value=!0;try{i.value.nome_empresa=n.cliente.nome_empresa,i.value.cnpj=d(n.cliente.cnpj),i.value.email=n.cliente.email||"",i.value.telefone=n.cliente.telefone||"",i.value.senha="",i.value.filiais=[]}catch(_){console.error("Erro ao carregar dados do cliente:",_)}finally{r.value=!1}}},d=_=>_.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"),c=_=>{let v=_.target.value.replace(/\D/g,"");v.length<=14&&(v=v.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"),i.value.cnpj=v)},f=(_,w)=>{let k=w.target.value.replace(/\D/g,"");k.length<=14&&(k=k.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"),i.value.filiais[_].cnpj=k)},h=()=>{i.value.filiais.push({cnpj:"",nome:""})},p=_=>{i.value.filiais.splice(_,1)},m=async()=>{o.value=!0;try{console.log("Salvando cliente:",i.value),await new Promise(_=>setTimeout(_,1e3)),s("saved"),g()}catch(_){console.error("Erro ao salvar cliente:",_)}finally{o.value=!1}},b=()=>{i.value={nome_empresa:"",cnpj:"",email:"",telefone:"",senha:"",filiais:[]}},g=()=>{s("close")};return(_,w)=>t.isOpen?(j(),F("div",U2,[u("div",F2,[u("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:g}),u("div",L2,[u("div",B2,[u("div",q2,[u("h3",H2,U(a.value?"Editar Cliente":"Novo Cliente"),1),u("button",{onClick:g,class:"text-gray-400 hover:text-gray-600"},[...w[5]||(w[5]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),r.value?(j(),F("div",W2,[w[6]||(w[6]=u("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"},null,-1)),u("p",V2,U(a.value?"Carregando dados...":"Salvando..."),1)])):(j(),F("form",{key:1,onSubmit:Tn(m,["prevent"]),class:"space-y-6"},[u("div",z2,[u("div",K2,[w[7]||(w[7]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nome da Empresa *",-1)),re(u("input",{"onUpdate:modelValue":w[0]||(w[0]=v=>i.value.nome_empresa=v),type:"text",required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"},null,512),[[ae,i.value.nome_empresa]])]),u("div",null,[w[8]||(w[8]=u("label",{class:"block text-sm font-medium text-gray-700"},"CNPJ *",-1)),re(u("input",{"onUpdate:modelValue":w[1]||(w[1]=v=>i.value.cnpj=v),type:"text",placeholder:"00.000.000/0000-00",maxlength:"18",onInput:c,disabled:a.value,required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-100"},null,40,J2),[[ae,i.value.cnpj]]),a.value?(j(),F("p",G2,"CNPJ não pode ser alterado")):ge("",!0)]),u("div",null,[w[9]||(w[9]=u("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),re(u("input",{"onUpdate:modelValue":w[2]||(w[2]=v=>i.value.email=v),type:"email",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"},null,512),[[ae,i.value.email]])]),u("div",null,[w[10]||(w[10]=u("label",{class:"block text-sm font-medium text-gray-700"},"Telefone",-1)),re(u("input",{"onUpdate:modelValue":w[3]||(w[3]=v=>i.value.telefone=v),type:"text",placeholder:"(11) 99999-9999",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"},null,512),[[ae,i.value.telefone]])]),u("div",null,[w[11]||(w[11]=u("label",{class:"block text-sm font-medium text-gray-700"},"Senha *",-1)),re(u("input",{"onUpdate:modelValue":w[4]||(w[4]=v=>i.value.senha=v),type:"password",required:!a.value,placeholder:a.value?"Deixe em branco para manter a senha atual":"Digite a senha",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"},null,8,Y2),[[ae,i.value.senha]])])]),u("div",X2,[u("div",{class:"flex items-center justify-between mb-4"},[w[13]||(w[13]=u("h4",{class:"text-md font-medium text-gray-900"},"Filiais",-1)),u("button",{type:"button",onClick:h,class:"inline-flex items-center px-3 py-1 border border-transparent text-sm leading-4 font-medium rounded-md text-primary-700 bg-primary-100 hover:bg-primary-200"},[...w[12]||(w[12]=[u("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),xe(" Adicionar Filial ",-1)])])]),i.value.filiais.length===0?(j(),F("div",Q2,[...w[14]||(w[14]=[u("p",{class:"text-sm"},"Nenhuma filial cadastrada",-1),u("p",{class:"text-xs"},'Clique em "Adicionar Filial" para incluir filiais',-1)])])):(j(),F("div",Z2,[(j(!0),F(Se,null,et(i.value.filiais,(v,k)=>(j(),F("div",{key:k,class:"border border-gray-200 rounded-lg p-4 bg-gray-50"},[u("div",eS,[u("div",null,[w[15]||(w[15]=u("label",{class:"block text-sm font-medium text-gray-700"},"CNPJ da Filial *",-1)),re(u("input",{"onUpdate:modelValue":M=>v.cnpj=M,type:"text",placeholder:"00.000.000/0000-00",maxlength:"18",onInput:M=>f(k,M),required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"},null,40,tS),[[ae,v.cnpj]])]),u("div",null,[w[16]||(w[16]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nome da Filial *",-1)),re(u("input",{"onUpdate:modelValue":M=>v.nome=M,type:"text",placeholder:"Ex: Filial Shopping",required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"},null,8,nS),[[ae,v.nome]])]),u("div",sS,[u("button",{type:"button",onClick:M=>p(k),class:"w-full inline-flex justify-center items-center px-3 py-2 border border-red-300 text-sm leading-4 font-medium rounded-md text-red-700 bg-red-50 hover:bg-red-100"},[...w[17]||(w[17]=[u("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),xe(" Remover ",-1)])],8,rS)])])]))),128))]))])],32))]),u("div",oS,[u("button",{onClick:m,disabled:o.value,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50"},[o.value?(j(),F("svg",aS,[...w[18]||(w[18]=[u("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),u("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):ge("",!0),xe(" "+U(o.value?"Salvando...":a.value?"Atualizar":"Criar"),1)],8,iS),u("button",{onClick:g,type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancelar ")])])])])):ge("",!0)}}),cS={class:"py-6"},uS={class:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8"},dS={class:"sm:flex sm:items-center"},fS={class:"sm:flex-auto"},hS={class:"mt-2 text-sm text-gray-700"},mS={class:"mt-8 flex flex-col"},pS={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8"},gS={class:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8"},vS={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"},yS={class:"min-w-full divide-y divide-gray-300"},bS={class:"bg-white divide-y divide-gray-200"},wS={class:"px-6 py-4 whitespace-nowrap"},_S={class:"flex items-center"},xS={class:"flex-shrink-0 h-10 w-10"},SS={class:"h-10 w-10 rounded-full bg-primary-500 flex items-center justify-center"},kS={class:"text-white text-sm font-medium"},ES={class:"ml-4"},OS={class:"text-sm font-medium text-gray-900"},CS={class:"text-sm text-gray-500"},TS={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},$S={class:"px-6 py-4 whitespace-nowrap"},AS={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},RS={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},PS={class:"flex items-center justify-end space-x-3"},jS=["onClick"],IS=["onClick"],MS=at({__name:"ClientsView",setup(t){const e=Xs(),n=z([]),s=z(!1),r=z({}),o=z(!1),i=z(null),a=g=>g.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"),l=g=>Wu(new Date(g),"dd/MM/yyyy HH:mm",{locale:Hs}),d=async()=>{var g;try{n.value=await bs.getClients(((g=e.user)==null?void 0:g.filial_id)||"matriz")}catch(_){console.error("Erro ao carregar clientes:",_)}},c=g=>{r.value=g,s.value=!0},f=()=>{s.value=!1,r.value={}},h=()=>{i.value=null,o.value=!0},p=g=>{i.value=g,o.value=!0},m=()=>{o.value=!1,i.value=null},b=()=>{d(),m()};return dn(()=>{d()}),(g,_)=>(j(),ke(Pn,null,{default:Je(()=>{var w;return[u("div",cS,[u("div",uS,[u("div",dS,[u("div",fS,[_[0]||(_[0]=u("h1",{class:"text-xl font-semibold text-gray-900"},"Clientes",-1)),u("p",hS," Lista de todos os clientes da "+U((w=Ee(e).user)==null?void 0:w.filial_id),1)]),u("div",{class:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none"},[u("button",{type:"button",onClick:h,class:"inline-flex items-center justify-center rounded-md border border-transparent bg-primary-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 sm:w-auto"}," Novo Cliente ")])]),u("div",mS,[u("div",pS,[u("div",gS,[u("div",vS,[u("table",yS,[_[1]||(_[1]=u("thead",{class:"bg-gray-50"},[u("tr",null,[u("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Cliente "),u("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," CNPJ "),u("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),u("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Último Login "),u("th",{class:"relative px-6 py-3"},[u("span",{class:"sr-only"},"Ações")])])],-1)),u("tbody",bS,[(j(!0),F(Se,null,et(n.value,v=>(j(),F("tr",{key:v.id},[u("td",wS,[u("div",_S,[u("div",xS,[u("div",SS,[u("span",kS,U(v.nome_empresa.charAt(0)),1)])]),u("div",ES,[u("div",OS,U(v.nome_empresa),1),u("div",CS,U(v.email),1)])])]),u("td",TS,U(a(v.cnpj)),1),u("td",$S,[u("span",{class:De(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",v.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},U(v.is_active?"Ativo":"Inativo"),3)]),u("td",AS,U(v.last_login?l(v.last_login):"Nunca"),1),u("td",RS,[u("div",PS,[u("button",{onClick:k=>c(v),class:"text-blue-600 hover:text-blue-900",title:"Gerenciar Filiais"}," Filiais ",8,jS),u("button",{onClick:k=>p(v),class:"text-primary-600 hover:text-primary-900"}," Editar ",8,IS)])])]))),128))])])])])])])])]),Q(N2,{"is-open":s.value,cliente:r.value,onClose:f,onUpdated:d},null,8,["is-open","cliente"]),Q(lS,{"is-open":o.value,cliente:i.value,onClose:m,onSaved:b},null,8,["is-open","cliente"])]}),_:1}))}}),DS={class:"py-6"},NS={class:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8"},US={class:"mt-6 bg-white shadow rounded-lg"},FS={class:"px-6 py-4 border-b border-gray-200"},LS={class:"flex items-center justify-between"},BS={class:"flex items-center"},qS={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800"},HS={class:"px-6 py-4"},WS={key:0,class:"flex justify-center"},VS={key:1,class:"text-center py-8"},zS={key:2,class:"space-y-4"},KS={class:"flex items-start justify-between"},JS={class:"flex-1"},GS={class:"flex items-center"},YS={class:"text-sm font-medium text-gray-900"},XS={class:"mt-1 text-sm text-gray-500"},QS={key:0},ZS={class:"ml-4 flex-shrink-0"},ek=["onClick"],tk={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},nk={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},sk={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},rk={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},ok={class:"sm:flex sm:items-start"},ik={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},ak={key:0,class:"space-y-4"},lk={class:"bg-gray-50 p-3 rounded"},ck={class:"font-medium text-gray-900 mb-2"},uk={class:"grid grid-cols-3 gap-4"},dk=["onUpdate:modelValue"],fk=["onUpdate:modelValue"],hk=["onUpdate:modelValue"],mk=["onUpdate:modelValue"],pk=["onUpdate:modelValue"],gk=["onUpdate:modelValue"],vk={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},yk=["disabled"],bk={key:0},wk={key:1},Do="https://api.dnotas.com.br:9999",_k=at({__name:"ReportsView",setup(t){const e=z(!1),n=z([]),s=z(!1),r=z(null),o=z([]),i=z(!1);dn(()=>{a()});async function a(){e.value=!0;try{console.log("DEBUG SITE: Carregando solicitações de:",`${Do}/api/admin/solicitacoes/pendentes`);const p=await fetch(`${Do}/api/admin/solicitacoes/pendentes`);console.log("DEBUG SITE: Response status:",p.status);const m=await p.json();console.log("DEBUG SITE: Response data:",m),m.success?(n.value=m.data,console.log("DEBUG SITE: Solicitações carregadas:",m.data.length)):console.error("DEBUG SITE: API retornou success=false:",m)}catch(p){console.error("Erro ao carregar solicitações:",p)}finally{e.value=!1}}function l(p){const m=new Date(p.data_inicio).toLocaleDateString("pt-BR"),b=new Date(p.data_fim).toLocaleDateString("pt-BR");return p.tipo_periodo==="dia_unico"?m:`${m} até ${b}`}function d(p){return new Date(p).toLocaleString("pt-BR")}function c(p){r.value=p,s.value=!0;const m=new Date(p.data_inicio),b=new Date(p.data_fim),g=[],_=new Date(m);for(;_<=b;)g.push({data_relatorio:_.toISOString().split("T")[0],vendas_credito:0,vendas_debito:0,vendas_pix:0,vendas_vale:0,vendas_dinheiro:0,vendas_transferencia:0}),_.setDate(_.getDate()+1);o.value=g}function f(){s.value=!1,r.value=null,o.value=[]}async function h(){if(r.value){i.value=!0;try{const m=await(await fetch(`${Do}/api/admin/relatorios/processar/${r.value.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({relatorios_dados:o.value,processado_por:"Sistema"})})).json();if(m.success)alert("Relatório processado com sucesso!"),f(),a();else throw new Error(m.error)}catch(p){console.error("Erro ao processar relatório:",p),alert("Erro ao processar relatório: "+p.message)}finally{i.value=!1}}}return(p,m)=>(j(),ke(Pn,null,{default:Je(()=>[u("div",DS,[u("div",NS,[m[17]||(m[17]=u("h1",{class:"text-2xl font-semibold text-gray-900"},"Relatórios",-1)),u("div",US,[u("div",FS,[u("div",LS,[m[1]||(m[1]=u("h2",{class:"text-lg font-medium text-gray-900"},"Solicitações Pendentes",-1)),u("div",BS,[u("span",qS,U(n.value.length)+" pendentes ",1),u("button",{onClick:a,class:"ml-3 inline-flex items-center px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"},[...m[0]||(m[0]=[u("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),xe(" Atualizar ",-1)])])])])]),u("div",HS,[e.value?(j(),F("div",WS,[...m[2]||(m[2]=[u("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)])])):n.value.length===0?(j(),F("div",VS,[...m[3]||(m[3]=[u("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),u("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Nenhuma solicitação pendente",-1),u("p",{class:"mt-1 text-sm text-gray-500"},"Todas as solicitações estão processadas.",-1)])])):(j(),F("div",zS,[(j(!0),F(Se,null,et(n.value,b=>(j(),F("div",{key:b.id,class:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50"},[u("div",KS,[u("div",JS,[u("div",GS,[u("h3",YS,U(b.cliente_cnpj),1),u("span",{class:De([{"bg-orange-100 text-orange-800":b.status==="pendente","bg-blue-100 text-blue-800":b.status==="processando"},"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},U(b.status.toUpperCase()),3)]),u("div",XS,[u("p",null,[m[4]||(m[4]=u("strong",null,"Período:",-1)),xe(" "+U(l(b)),1)]),u("p",null,[m[5]||(m[5]=u("strong",null,"Tipo:",-1)),xe(" "+U(b.tipo_periodo==="dia_unico"?"Dia único":"Intervalo"),1)]),u("p",null,[m[6]||(m[6]=u("strong",null,"Solicitado em:",-1)),xe(" "+U(d(b.data_solicitacao)),1)]),b.observacoes?(j(),F("p",QS,[m[7]||(m[7]=u("strong",null,"Observações:",-1)),xe(" "+U(b.observacoes),1)])):ge("",!0)])]),u("div",ZS,[u("button",{onClick:g=>c(b),class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700"}," Processar ",8,ek)])])]))),128))]))])]),s.value?(j(),F("div",tk,[u("div",nk,[u("div",{class:"fixed inset-0 transition-opacity"},[u("div",{class:"absolute inset-0 bg-gray-500 opacity-75",onClick:f})]),u("div",sk,[u("div",rk,[u("div",ok,[u("div",ik,[m[16]||(m[16]=u("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-4"}," Processar Relatório ",-1)),r.value?(j(),F("div",ak,[u("div",lk,[u("p",null,[m[8]||(m[8]=u("strong",null,"Cliente:",-1)),xe(" "+U(r.value.cliente_cnpj),1)]),u("p",null,[m[9]||(m[9]=u("strong",null,"Período:",-1)),xe(" "+U(l(r.value)),1)])]),(j(!0),F(Se,null,et(o.value,(b,g)=>(j(),F("div",{key:g,class:"border border-gray-200 rounded p-3"},[u("h4",ck,U(b.data_relatorio),1),u("div",uk,[u("div",null,[m[10]||(m[10]=u("label",{class:"block text-xs font-medium text-gray-700"},"Crédito",-1)),re(u("input",{"onUpdate:modelValue":_=>b.vendas_credito=_,type:"number",step:"0.01",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm text-sm"},null,8,dk),[[ae,b.vendas_credito,void 0,{number:!0}]])]),u("div",null,[m[11]||(m[11]=u("label",{class:"block text-xs font-medium text-gray-700"},"Débito",-1)),re(u("input",{"onUpdate:modelValue":_=>b.vendas_debito=_,type:"number",step:"0.01",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm text-sm"},null,8,fk),[[ae,b.vendas_debito,void 0,{number:!0}]])]),u("div",null,[m[12]||(m[12]=u("label",{class:"block text-xs font-medium text-gray-700"},"PIX",-1)),re(u("input",{"onUpdate:modelValue":_=>b.vendas_pix=_,type:"number",step:"0.01",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm text-sm"},null,8,hk),[[ae,b.vendas_pix,void 0,{number:!0}]])]),u("div",null,[m[13]||(m[13]=u("label",{class:"block text-xs font-medium text-gray-700"},"Vale",-1)),re(u("input",{"onUpdate:modelValue":_=>b.vendas_vale=_,type:"number",step:"0.01",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm text-sm"},null,8,mk),[[ae,b.vendas_vale,void 0,{number:!0}]])]),u("div",null,[m[14]||(m[14]=u("label",{class:"block text-xs font-medium text-gray-700"},"Dinheiro",-1)),re(u("input",{"onUpdate:modelValue":_=>b.vendas_dinheiro=_,type:"number",step:"0.01",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm text-sm"},null,8,pk),[[ae,b.vendas_dinheiro,void 0,{number:!0}]])]),u("div",null,[m[15]||(m[15]=u("label",{class:"block text-xs font-medium text-gray-700"},"Transferência",-1)),re(u("input",{"onUpdate:modelValue":_=>b.vendas_transferencia=_,type:"number",step:"0.01",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm text-sm"},null,8,gk),[[ae,b.vendas_transferencia,void 0,{number:!0}]])])])]))),128))])):ge("",!0)])])]),u("div",vk,[u("button",{onClick:h,disabled:i.value,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 disabled:opacity-50 sm:ml-3 sm:w-auto sm:text-sm"},[i.value?(j(),F("span",bk,"Processando...")):(j(),F("span",wk,"Salvar Relatório"))],8,yk),u("button",{onClick:f,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancelar ")])])])])):ge("",!0)])])]),_:1}))}}),xk=at({__name:"FinancialView",setup(t){return(e,n)=>(j(),ke(Pn,null,{default:Je(()=>[...n[0]||(n[0]=[u("div",{class:"py-6"},[u("div",{class:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8"},[u("h1",{class:"text-2xl font-semibold text-gray-900"},"Gestão Financeira"),u("div",{class:"mt-6 bg-white shadow rounded-lg p-6"},[u("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Boletos e Cobranças"),u("p",{class:"text-gray-500"},"Sistema de gestão financeira em desenvolvimento...")])])],-1)])]),_:1}))}}),pd=Qm({history:Tm("/APP_Dnotas/"),routes:[{path:"/",redirect:"/dashboard"},{path:"/dashboard",name:"dashboard",component:()=>rs(()=>import("./MatrizDashboard-H7NTdtI6.js"),[])},{path:"/admin/dashboard",name:"admin-dashboard",component:hw,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/admin/filiais",name:"admin-filiais",component:Zw,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/admin/funcionarios",name:"admin-funcionarios",component:W_,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/chat",name:"chat",component:c2,meta:{requiresAuth:!0}},{path:"/clients",name:"clients",component:MS,meta:{requiresAuth:!0}},{path:"/reports",name:"reports",component:_k,meta:{requiresAuth:!0}},{path:"/financial",name:"financial",component:xk,meta:{requiresAuth:!0}}]});pd.beforeEach((t,e,n)=>{n()});const qi=Bh(U0);qi.use(Wh());qi.use(pd);qi.mount("#app");export{Se as F,F as a,u as b,P0 as c,at as d,ge as e,kk as f,et as g,re as h,vs as i,xe as j,j as k,De as n,dn as o,z as r,U as t,ae as v,Tn as w};
//# sourceMappingURL=index-DH7Q32SV.js.map
