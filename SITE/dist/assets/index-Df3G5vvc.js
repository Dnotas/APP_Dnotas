var vd=Object.defineProperty;var yd=(t,e,n)=>e in t?vd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ki=(t,e,n)=>yd(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function pi(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const we={},Kn=[],Mt=()=>{},Ul=()=>!1,Fr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),gi=t=>t.startsWith("onUpdate:"),Ve=Object.assign,vi=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},bd=Object.prototype.hasOwnProperty,he=(t,e)=>bd.call(t,e),X=Array.isArray,Jn=t=>Hs(t)==="[object Map]",Lr=t=>Hs(t)==="[object Set]",Ji=t=>Hs(t)==="[object Date]",ne=t=>typeof t=="function",Re=t=>typeof t=="string",xt=t=>typeof t=="symbol",ke=t=>t!==null&&typeof t=="object",Fl=t=>(ke(t)||ne(t))&&ne(t.then)&&ne(t.catch),Ll=Object.prototype.toString,Hs=t=>Ll.call(t),wd=t=>Hs(t).slice(8,-1),Bl=t=>Hs(t)==="[object Object]",yi=t=>Re(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,bs=pi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Br=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},_d=/-\w/g,pt=Br(t=>t.replace(_d,e=>e.slice(1).toUpperCase())),xd=/\B([A-Z])/g,dn=Br(t=>t.replace(xd,"-$1").toLowerCase()),qr=Br(t=>t.charAt(0).toUpperCase()+t.slice(1)),fo=Br(t=>t?`on${qr(t)}`:""),on=(t,e)=>!Object.is(t,e),dr=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},ql=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},wr=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Gi;const Hr=()=>Gi||(Gi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function bi(t){if(X(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=Re(s)?Od(s):bi(s);if(r)for(const o in r)e[o]=r[o]}return e}else if(Re(t)||ke(t))return t}const kd=/;(?![^(]*\))/g,Sd=/:([^]+)/,Ed=/\/\*[^]*?\*\//g;function Od(t){const e={};return t.replace(Ed,"").split(kd).forEach(n=>{if(n){const s=n.split(Sd);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function be(t){let e="";if(Re(t))e=t;else if(X(t))for(let n=0;n<t.length;n++){const s=be(t[n]);s&&(e+=s+" ")}else if(ke(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Cd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Td=pi(Cd);function Hl(t){return!!t||t===""}function $d(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=Wr(t[s],e[s]);return n}function Wr(t,e){if(t===e)return!0;let n=Ji(t),s=Ji(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=xt(t),s=xt(e),n||s)return t===e;if(n=X(t),s=X(e),n||s)return n&&s?$d(t,e):!1;if(n=ke(t),s=ke(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,o=Object.keys(e).length;if(r!==o)return!1;for(const i in t){const a=t.hasOwnProperty(i),l=e.hasOwnProperty(i);if(a&&!l||!a&&l||!Wr(t[i],e[i]))return!1}}return String(t)===String(e)}function Ad(t,e){return t.findIndex(n=>Wr(n,e))}const Wl=t=>!!(t&&t.__v_isRef===!0),D=t=>Re(t)?t:t==null?"":X(t)||ke(t)&&(t.toString===Ll||!ne(t.toString))?Wl(t)?D(t.value):JSON.stringify(t,zl,2):String(t),zl=(t,e)=>Wl(e)?zl(t,e.value):Jn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],o)=>(n[ho(s,o)+" =>"]=r,n),{})}:Lr(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>ho(n))}:xt(e)?ho(e):ke(e)&&!X(e)&&!Bl(e)?String(e):e,ho=(t,e="")=>{var n;return xt(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let qe;class Vl{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=qe,!e&&qe&&(this.index=(qe.scopes||(qe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=qe;try{return qe=this,e()}finally{qe=n}}}on(){++this._on===1&&(this.prevScope=qe,qe=this)}off(){this._on>0&&--this._on===0&&(qe=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Kl(t){return new Vl(t)}function Jl(){return qe}function Rd(t,e=!1){qe&&qe.cleanups.push(t)}let Oe;const mo=new WeakSet;class Gl{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,qe&&qe.active&&qe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,mo.has(this)&&(mo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Xl(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Yi(this),Ql(this);const e=Oe,n=wt;Oe=this,wt=!0;try{return this.fn()}finally{Zl(this),Oe=e,wt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)xi(e);this.deps=this.depsTail=void 0,Yi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?mo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){No(this)&&this.run()}get dirty(){return No(this)}}let Yl=0,ws,_s;function Xl(t,e=!1){if(t.flags|=8,e){t.next=_s,_s=t;return}t.next=ws,ws=t}function wi(){Yl++}function _i(){if(--Yl>0)return;if(_s){let e=_s;for(_s=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;ws;){let e=ws;for(ws=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function Ql(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Zl(t){let e,n=t.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),xi(s),Pd(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}t.deps=e,t.depsTail=n}function No(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(ec(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function ec(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Rs)||(t.globalVersion=Rs,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!No(t))))return;t.flags|=2;const e=t.dep,n=Oe,s=wt;Oe=t,wt=!0;try{Ql(t);const r=t.fn(t._value);(e.version===0||on(r,t._value))&&(t.flags|=128,t._value=r,e.version++)}catch(r){throw e.version++,r}finally{Oe=n,wt=s,Zl(t),t.flags&=-3}}function xi(t,e=!1){const{dep:n,prevSub:s,nextSub:r}=t;if(s&&(s.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)xi(o,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Pd(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let wt=!0;const tc=[];function Vt(){tc.push(wt),wt=!1}function Kt(){const t=tc.pop();wt=t===void 0?!0:t}function Yi(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Oe;Oe=void 0;try{e()}finally{Oe=n}}}let Rs=0;class jd{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ki{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Oe||!wt||Oe===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Oe)n=this.activeLink=new jd(Oe,this),Oe.deps?(n.prevDep=Oe.depsTail,Oe.depsTail.nextDep=n,Oe.depsTail=n):Oe.deps=Oe.depsTail=n,nc(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Oe.depsTail,n.nextDep=void 0,Oe.depsTail.nextDep=n,Oe.depsTail=n,Oe.deps===n&&(Oe.deps=s)}return n}trigger(e){this.version++,Rs++,this.notify(e)}notify(e){wi();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{_i()}}}function nc(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)nc(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const _r=new WeakMap,On=Symbol(""),Uo=Symbol(""),Ps=Symbol("");function He(t,e,n){if(wt&&Oe){let s=_r.get(t);s||_r.set(t,s=new Map);let r=s.get(n);r||(s.set(n,r=new ki),r.map=s,r.key=n),r.track()}}function Ht(t,e,n,s,r,o){const i=_r.get(t);if(!i){Rs++;return}const a=l=>{l&&l.trigger()};if(wi(),e==="clear")i.forEach(a);else{const l=X(t),d=l&&yi(n);if(l&&n==="length"){const u=Number(s);i.forEach((f,h)=>{(h==="length"||h===Ps||!xt(h)&&h>=u)&&a(f)})}else switch((n!==void 0||i.has(void 0))&&a(i.get(n)),d&&a(i.get(Ps)),e){case"add":l?d&&a(i.get("length")):(a(i.get(On)),Jn(t)&&a(i.get(Uo)));break;case"delete":l||(a(i.get(On)),Jn(t)&&a(i.get(Uo)));break;case"set":Jn(t)&&a(i.get(On));break}}_i()}function Id(t,e){const n=_r.get(t);return n&&n.get(e)}function jn(t){const e=de(t);return e===t?e:(He(e,"iterate",Ps),mt(t)?e:e.map(Le))}function zr(t){return He(t=de(t),"iterate",Ps),t}const Md={__proto__:null,[Symbol.iterator](){return po(this,Symbol.iterator,Le)},concat(...t){return jn(this).concat(...t.map(e=>X(e)?jn(e):e))},entries(){return po(this,"entries",t=>(t[1]=Le(t[1]),t))},every(t,e){return Ut(this,"every",t,e,void 0,arguments)},filter(t,e){return Ut(this,"filter",t,e,n=>n.map(Le),arguments)},find(t,e){return Ut(this,"find",t,e,Le,arguments)},findIndex(t,e){return Ut(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ut(this,"findLast",t,e,Le,arguments)},findLastIndex(t,e){return Ut(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ut(this,"forEach",t,e,void 0,arguments)},includes(...t){return go(this,"includes",t)},indexOf(...t){return go(this,"indexOf",t)},join(t){return jn(this).join(t)},lastIndexOf(...t){return go(this,"lastIndexOf",t)},map(t,e){return Ut(this,"map",t,e,void 0,arguments)},pop(){return ds(this,"pop")},push(...t){return ds(this,"push",t)},reduce(t,...e){return Xi(this,"reduce",t,e)},reduceRight(t,...e){return Xi(this,"reduceRight",t,e)},shift(){return ds(this,"shift")},some(t,e){return Ut(this,"some",t,e,void 0,arguments)},splice(...t){return ds(this,"splice",t)},toReversed(){return jn(this).toReversed()},toSorted(t){return jn(this).toSorted(t)},toSpliced(...t){return jn(this).toSpliced(...t)},unshift(...t){return ds(this,"unshift",t)},values(){return po(this,"values",Le)}};function po(t,e,n){const s=zr(t),r=s[e]();return s!==t&&!mt(t)&&(r._next=r.next,r.next=()=>{const o=r._next();return o.done||(o.value=n(o.value)),o}),r}const Dd=Array.prototype;function Ut(t,e,n,s,r,o){const i=zr(t),a=i!==t&&!mt(t),l=i[e];if(l!==Dd[e]){const f=l.apply(t,o);return a?Le(f):f}let d=n;i!==t&&(a?d=function(f,h){return n.call(this,Le(f),h,t)}:n.length>2&&(d=function(f,h){return n.call(this,f,h,t)}));const u=l.call(i,d,s);return a&&r?r(u):u}function Xi(t,e,n,s){const r=zr(t);let o=n;return r!==t&&(mt(t)?n.length>3&&(o=function(i,a,l){return n.call(this,i,a,l,t)}):o=function(i,a,l){return n.call(this,i,Le(a),l,t)}),r[e](o,...s)}function go(t,e,n){const s=de(t);He(s,"iterate",Ps);const r=s[e](...n);return(r===-1||r===!1)&&Oi(n[0])?(n[0]=de(n[0]),s[e](...n)):r}function ds(t,e,n=[]){Vt(),wi();const s=de(t)[e].apply(t,n);return _i(),Kt(),s}const Nd=pi("__proto__,__v_isRef,__isVue"),sc=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(xt));function Ud(t){xt(t)||(t=String(t));const e=de(this);return He(e,"has",t),e.hasOwnProperty(t)}class rc{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return o;if(n==="__v_raw")return s===(r?o?Jd:lc:o?ac:ic).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const i=X(e);if(!r){let l;if(i&&(l=Md[n]))return l;if(n==="hasOwnProperty")return Ud}const a=Reflect.get(e,n,Ae(e)?e:s);if((xt(n)?sc.has(n):Nd(n))||(r||He(e,"get",n),o))return a;if(Ae(a)){const l=i&&yi(n)?a:a.value;return r&&ke(l)?Lo(l):l}return ke(a)?r?Lo(a):Ws(a):a}}class oc extends rc{constructor(e=!1){super(!1,e)}set(e,n,s,r){let o=e[n];if(!this._isShallow){const l=cn(o);if(!mt(s)&&!cn(s)&&(o=de(o),s=de(s)),!X(e)&&Ae(o)&&!Ae(s))return l||(o.value=s),!0}const i=X(e)&&yi(n)?Number(n)<e.length:he(e,n),a=Reflect.set(e,n,s,Ae(e)?e:r);return e===de(r)&&(i?on(s,o)&&Ht(e,"set",n,s):Ht(e,"add",n,s)),a}deleteProperty(e,n){const s=he(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&Ht(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!xt(n)||!sc.has(n))&&He(e,"has",n),s}ownKeys(e){return He(e,"iterate",X(e)?"length":On),Reflect.ownKeys(e)}}class Fd extends rc{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Ld=new oc,Bd=new Fd,qd=new oc(!0);const Fo=t=>t,nr=t=>Reflect.getPrototypeOf(t);function Hd(t,e,n){return function(...s){const r=this.__v_raw,o=de(r),i=Jn(o),a=t==="entries"||t===Symbol.iterator&&i,l=t==="keys"&&i,d=r[t](...s),u=n?Fo:e?xr:Le;return!e&&He(o,"iterate",l?Uo:On),{next(){const{value:f,done:h}=d.next();return h?{value:f,done:h}:{value:a?[u(f[0]),u(f[1])]:u(f),done:h}},[Symbol.iterator](){return this}}}}function sr(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Wd(t,e){const n={get(r){const o=this.__v_raw,i=de(o),a=de(r);t||(on(r,a)&&He(i,"get",r),He(i,"get",a));const{has:l}=nr(i),d=e?Fo:t?xr:Le;if(l.call(i,r))return d(o.get(r));if(l.call(i,a))return d(o.get(a));o!==i&&o.get(r)},get size(){const r=this.__v_raw;return!t&&He(de(r),"iterate",On),r.size},has(r){const o=this.__v_raw,i=de(o),a=de(r);return t||(on(r,a)&&He(i,"has",r),He(i,"has",a)),r===a?o.has(r):o.has(r)||o.has(a)},forEach(r,o){const i=this,a=i.__v_raw,l=de(a),d=e?Fo:t?xr:Le;return!t&&He(l,"iterate",On),a.forEach((u,f)=>r.call(o,d(u),d(f),i))}};return Ve(n,t?{add:sr("add"),set:sr("set"),delete:sr("delete"),clear:sr("clear")}:{add(r){!e&&!mt(r)&&!cn(r)&&(r=de(r));const o=de(this);return nr(o).has.call(o,r)||(o.add(r),Ht(o,"add",r,r)),this},set(r,o){!e&&!mt(o)&&!cn(o)&&(o=de(o));const i=de(this),{has:a,get:l}=nr(i);let d=a.call(i,r);d||(r=de(r),d=a.call(i,r));const u=l.call(i,r);return i.set(r,o),d?on(o,u)&&Ht(i,"set",r,o):Ht(i,"add",r,o),this},delete(r){const o=de(this),{has:i,get:a}=nr(o);let l=i.call(o,r);l||(r=de(r),l=i.call(o,r)),a&&a.call(o,r);const d=o.delete(r);return l&&Ht(o,"delete",r,void 0),d},clear(){const r=de(this),o=r.size!==0,i=r.clear();return o&&Ht(r,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=Hd(r,t,e)}),n}function Si(t,e){const n=Wd(t,e);return(s,r,o)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(he(n,r)&&r in s?n:s,r,o)}const zd={get:Si(!1,!1)},Vd={get:Si(!1,!0)},Kd={get:Si(!0,!1)};const ic=new WeakMap,ac=new WeakMap,lc=new WeakMap,Jd=new WeakMap;function Gd(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Yd(t){return t.__v_skip||!Object.isExtensible(t)?0:Gd(wd(t))}function Ws(t){return cn(t)?t:Ei(t,!1,Ld,zd,ic)}function cc(t){return Ei(t,!1,qd,Vd,ac)}function Lo(t){return Ei(t,!0,Bd,Kd,lc)}function Ei(t,e,n,s,r){if(!ke(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=Yd(t);if(o===0)return t;const i=r.get(t);if(i)return i;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function an(t){return cn(t)?an(t.__v_raw):!!(t&&t.__v_isReactive)}function cn(t){return!!(t&&t.__v_isReadonly)}function mt(t){return!!(t&&t.__v_isShallow)}function Oi(t){return t?!!t.__v_raw:!1}function de(t){const e=t&&t.__v_raw;return e?de(e):t}function Ci(t){return!he(t,"__v_skip")&&Object.isExtensible(t)&&ql(t,"__v_skip",!0),t}const Le=t=>ke(t)?Ws(t):t,xr=t=>ke(t)?Lo(t):t;function Ae(t){return t?t.__v_isRef===!0:!1}function q(t){return uc(t,!1)}function Xd(t){return uc(t,!0)}function uc(t,e){return Ae(t)?t:new Qd(t,e)}class Qd{constructor(e,n){this.dep=new ki,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:de(e),this._value=n?e:Le(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||mt(e)||cn(e);e=s?e:de(e),on(e,n)&&(this._rawValue=e,this._value=s?e:Le(e),this.dep.trigger())}}function me(t){return Ae(t)?t.value:t}const Zd={get:(t,e,n)=>e==="__v_raw"?t:me(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return Ae(r)&&!Ae(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function dc(t){return an(t)?t:new Proxy(t,Zd)}function ef(t){const e=X(t)?new Array(t.length):{};for(const n in t)e[n]=nf(t,n);return e}class tf{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Id(de(this._object),this._key)}}function nf(t,e,n){const s=t[e];return Ae(s)?s:new tf(t,e,n)}class sf{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new ki(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Rs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Oe!==this)return Xl(this,!0),!0}get value(){const e=this.dep.track();return ec(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function rf(t,e,n=!1){let s,r;return ne(t)?s=t:(s=t.get,r=t.set),new sf(s,r,n)}const rr={},kr=new WeakMap;let yn;function of(t,e=!1,n=yn){if(n){let s=kr.get(n);s||kr.set(n,s=[]),s.push(t)}}function af(t,e,n=we){const{immediate:s,deep:r,once:o,scheduler:i,augmentJob:a,call:l}=n,d=C=>r?C:mt(C)||r===!1||r===0?Wt(C,1):Wt(C);let u,f,h,p,m=!1,y=!1;if(Ae(t)?(f=()=>t.value,m=mt(t)):an(t)?(f=()=>d(t),m=!0):X(t)?(y=!0,m=t.some(C=>an(C)||mt(C)),f=()=>t.map(C=>{if(Ae(C))return C.value;if(an(C))return d(C);if(ne(C))return l?l(C,2):C()})):ne(t)?e?f=l?()=>l(t,2):t:f=()=>{if(h){Vt();try{h()}finally{Kt()}}const C=yn;yn=u;try{return l?l(t,3,[p]):t(p)}finally{yn=C}}:f=Mt,e&&r){const C=f,U=r===!0?1/0:r;f=()=>Wt(C(),U)}const g=Jl(),x=()=>{u.stop(),g&&g.active&&vi(g.effects,u)};if(o&&e){const C=e;e=(...U)=>{C(...U),x()}}let _=y?new Array(t.length).fill(rr):rr;const b=C=>{if(!(!(u.flags&1)||!u.dirty&&!C))if(e){const U=u.run();if(r||m||(y?U.some((z,P)=>on(z,_[P])):on(U,_))){h&&h();const z=yn;yn=u;try{const P=[U,_===rr?void 0:y&&_[0]===rr?[]:_,p];_=U,l?l(e,3,P):e(...P)}finally{yn=z}}}else u.run()};return a&&a(b),u=new Gl(f),u.scheduler=i?()=>i(b,!1):b,p=C=>of(C,!1,u),h=u.onStop=()=>{const C=kr.get(u);if(C){if(l)l(C,4);else for(const U of C)U();kr.delete(u)}},e?s?b(!0):_=u.run():i?i(b.bind(null,!0),!0):u.run(),x.pause=u.pause.bind(u),x.resume=u.resume.bind(u),x.stop=x,x}function Wt(t,e=1/0,n){if(e<=0||!ke(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,Ae(t))Wt(t.value,e,n);else if(X(t))for(let s=0;s<t.length;s++)Wt(t[s],e,n);else if(Lr(t)||Jn(t))t.forEach(s=>{Wt(s,e,n)});else if(Bl(t)){for(const s in t)Wt(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&Wt(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function zs(t,e,n,s){try{return s?t(...s):t()}catch(r){Vr(r,e,n)}}function Dt(t,e,n,s){if(ne(t)){const r=zs(t,e,n,s);return r&&Fl(r)&&r.catch(o=>{Vr(o,e,n)}),r}if(X(t)){const r=[];for(let o=0;o<t.length;o++)r.push(Dt(t[o],e,n,s));return r}}function Vr(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:i}=e&&e.appContext.config||we;if(e){let a=e.parent;const l=e.proxy,d=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,l,d)===!1)return}a=a.parent}if(o){Vt(),zs(o,null,10,[t,l,d]),Kt();return}}lf(t,n,r,s,i)}function lf(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}const Ge=[];let At=-1;const Gn=[];let tn=null,qn=0;const fc=Promise.resolve();let Sr=null;function Vs(t){const e=Sr||fc;return t?e.then(this?t.bind(this):t):e}function cf(t){let e=At+1,n=Ge.length;for(;e<n;){const s=e+n>>>1,r=Ge[s],o=js(r);o<t||o===t&&r.flags&2?e=s+1:n=s}return e}function Ti(t){if(!(t.flags&1)){const e=js(t),n=Ge[Ge.length-1];!n||!(t.flags&2)&&e>=js(n)?Ge.push(t):Ge.splice(cf(e),0,t),t.flags|=1,hc()}}function hc(){Sr||(Sr=fc.then(pc))}function uf(t){X(t)?Gn.push(...t):tn&&t.id===-1?tn.splice(qn+1,0,t):t.flags&1||(Gn.push(t),t.flags|=1),hc()}function Qi(t,e,n=At+1){for(;n<Ge.length;n++){const s=Ge[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Ge.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function mc(t){if(Gn.length){const e=[...new Set(Gn)].sort((n,s)=>js(n)-js(s));if(Gn.length=0,tn){tn.push(...e);return}for(tn=e,qn=0;qn<tn.length;qn++){const n=tn[qn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}tn=null,qn=0}}const js=t=>t.id==null?t.flags&2?-1:1/0:t.id;function pc(t){try{for(At=0;At<Ge.length;At++){const e=Ge[At];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),zs(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;At<Ge.length;At++){const e=Ge[At];e&&(e.flags&=-2)}At=-1,Ge.length=0,mc(),Sr=null,(Ge.length||Gn.length)&&pc()}}let Be=null,gc=null;function Er(t){const e=Be;return Be=t,gc=t&&t.type.__scopeId||null,e}function Je(t,e=Be,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&Tr(-1);const o=Er(e);let i;try{i=t(...r)}finally{Er(o),s._d&&Tr(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function re(t,e){if(Be===null)return t;const n=Yr(Be),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[o,i,a,l=we]=e[r];o&&(ne(o)&&(o={mounted:o,updated:o}),o.deep&&Wt(i),s.push({dir:o,instance:n,value:i,oldValue:void 0,arg:a,modifiers:l}))}return t}function mn(t,e,n,s){const r=t.dirs,o=e&&e.dirs;for(let i=0;i<r.length;i++){const a=r[i];o&&(a.oldValue=o[i].value);let l=a.dir[s];l&&(Vt(),Dt(l,n,8,[t.el,a,t,e]),Kt())}}const df=Symbol("_vte"),ff=t=>t.__isTeleport,hf=Symbol("_leaveCb");function $i(t,e){t.shapeFlag&6&&t.component?(t.transition=e,$i(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ft(t,e){return ne(t)?Ve({name:t.name},e,{setup:t}):t}function vc(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Or=new WeakMap;function xs(t,e,n,s,r=!1){if(X(t)){t.forEach((m,y)=>xs(m,e&&(X(e)?e[y]:e),n,s,r));return}if(Yn(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&xs(t,e,n,s.component.subTree);return}const o=s.shapeFlag&4?Yr(s.component):s.el,i=r?null:o,{i:a,r:l}=t,d=e&&e.r,u=a.refs===we?a.refs={}:a.refs,f=a.setupState,h=de(f),p=f===we?Ul:m=>he(h,m);if(d!=null&&d!==l){if(Zi(e),Re(d))u[d]=null,p(d)&&(f[d]=null);else if(Ae(d)){d.value=null;const m=e;m.k&&(u[m.k]=null)}}if(ne(l))zs(l,a,12,[i,u]);else{const m=Re(l),y=Ae(l);if(m||y){const g=()=>{if(t.f){const x=m?p(l)?f[l]:u[l]:l.value;if(r)X(x)&&vi(x,o);else if(X(x))x.includes(o)||x.push(o);else if(m)u[l]=[o],p(l)&&(f[l]=u[l]);else{const _=[o];l.value=_,t.k&&(u[t.k]=_)}}else m?(u[l]=i,p(l)&&(f[l]=i)):y&&(l.value=i,t.k&&(u[t.k]=i))};if(i){const x=()=>{g(),Or.delete(t)};x.id=-1,Or.set(t,x),ct(x,n)}else Zi(t),g()}}}function Zi(t){const e=Or.get(t);e&&(e.flags|=8,Or.delete(t))}Hr().requestIdleCallback;Hr().cancelIdleCallback;const Yn=t=>!!t.type.__asyncLoader,yc=t=>t.type.__isKeepAlive;function mf(t,e){bc(t,"a",e)}function pf(t,e){bc(t,"da",e)}function bc(t,e,n=We){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Kr(e,s,n),n){let r=n.parent;for(;r&&r.parent;)yc(r.parent.vnode)&&gf(s,e,n,r),r=r.parent}}function gf(t,e,n,s){const r=Kr(e,t,s,!0);Ai(()=>{vi(s[e],r)},n)}function Kr(t,e,n=We,s=!1){if(n){const r=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...i)=>{Vt();const a=Ks(n),l=Dt(e,n,t,i);return a(),Kt(),l});return s?r.unshift(o):r.push(o),o}}const Gt=t=>(e,n=We)=>{(!Ds||t==="sp")&&Kr(t,(...s)=>e(...s),n)},vf=Gt("bm"),fn=Gt("m"),yf=Gt("bu"),bf=Gt("u"),wf=Gt("bum"),Ai=Gt("um"),_f=Gt("sp"),xf=Gt("rtg"),kf=Gt("rtc");function Sf(t,e=We){Kr("ec",t,e)}const wc="components";function _c(t,e){return kc(wc,t,!0,e)||t}const xc=Symbol.for("v-ndc");function Ef(t){return Re(t)?kc(wc,t,!1)||t:t||xc}function kc(t,e,n=!0,s=!1){const r=Be||We;if(r){const o=r.type;{const a=mh(o,!1);if(a&&(a===e||a===pt(e)||a===qr(pt(e))))return o}const i=ea(r[t]||o[t],e)||ea(r.appContext[t],e);return!i&&s?o:i}}function ea(t,e){return t&&(t[e]||t[pt(e)]||t[qr(pt(e))])}function Ye(t,e,n,s){let r;const o=n,i=X(t);if(i||Re(t)){const a=i&&an(t);let l=!1,d=!1;a&&(l=!mt(t),d=cn(t),t=zr(t)),r=new Array(t.length);for(let u=0,f=t.length;u<f;u++)r[u]=e(l?d?xr(Le(t[u])):Le(t[u]):t[u],u,void 0,o)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,o)}else if(ke(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,o));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,d=a.length;l<d;l++){const u=a[l];r[l]=e(t[u],u,l,o)}}else r=[];return r}function Of(t,e,n={},s,r){if(Be.ce||Be.parent&&Yn(Be.parent)&&Be.parent.ce){const d=Object.keys(n).length>0;return A(),ye(_e,null,[K("slot",n,s)],d?-2:64)}let o=t[e];o&&o._c&&(o._d=!1),A();const i=o&&Sc(o(n)),a=n.key||i&&i.key,l=ye(_e,{key:(a&&!xt(a)?a:`_${e}`)+(!i&&s?"_fb":"")},i||[],i&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function Sc(t){return t.some(e=>Ms(e)?!(e.type===Jt||e.type===_e&&!Sc(e.children)):!0)?t:null}const Bo=t=>t?zc(t)?Yr(t):Bo(t.parent):null,ks=Ve(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Bo(t.parent),$root:t=>Bo(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Oc(t),$forceUpdate:t=>t.f||(t.f=()=>{Ti(t.update)}),$nextTick:t=>t.n||(t.n=Vs.bind(t.proxy)),$watch:t=>Jf.bind(t)}),vo=(t,e)=>t!==we&&!t.__isScriptSetup&&he(t,e),Cf={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:o,accessCache:i,type:a,appContext:l}=t;let d;if(e[0]!=="$"){const p=i[e];if(p!==void 0)switch(p){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return o[e]}else{if(vo(s,e))return i[e]=1,s[e];if(r!==we&&he(r,e))return i[e]=2,r[e];if((d=t.propsOptions[0])&&he(d,e))return i[e]=3,o[e];if(n!==we&&he(n,e))return i[e]=4,n[e];qo&&(i[e]=0)}}const u=ks[e];let f,h;if(u)return e==="$attrs"&&He(t.attrs,"get",""),u(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==we&&he(n,e))return i[e]=4,n[e];if(h=l.config.globalProperties,he(h,e))return h[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:o}=t;return vo(r,e)?(r[e]=n,!0):s!==we&&he(s,e)?(s[e]=n,!0):he(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:o,type:i}},a){let l,d;return!!(n[a]||t!==we&&a[0]!=="$"&&he(t,a)||vo(e,a)||(l=o[0])&&he(l,a)||he(s,a)||he(ks,a)||he(r.config.globalProperties,a)||(d=i.__cssModules)&&d[a])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:he(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function ta(t){return X(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let qo=!0;function Tf(t){const e=Oc(t),n=t.proxy,s=t.ctx;qo=!1,e.beforeCreate&&na(e.beforeCreate,t,"bc");const{data:r,computed:o,methods:i,watch:a,provide:l,inject:d,created:u,beforeMount:f,mounted:h,beforeUpdate:p,updated:m,activated:y,deactivated:g,beforeDestroy:x,beforeUnmount:_,destroyed:b,unmounted:C,render:U,renderTracked:z,renderTriggered:P,errorCaptured:T,serverPrefetch:j,expose:ce,inheritAttrs:je,components:Ie,directives:Te,filters:Fe}=e;if(d&&$f(d,s,null),i)for(const Q in i){const Z=i[Q];ne(Z)&&(s[Q]=Z.bind(n))}if(r){const Q=r.call(n,n);ke(Q)&&(t.data=Ws(Q))}if(qo=!0,o)for(const Q in o){const Z=o[Q],Xe=ne(Z)?Z.bind(n,n):ne(Z.get)?Z.get.bind(n,n):Mt,Qe=!ne(Z)&&ne(Z.set)?Z.set.bind(n):Mt,$e=Ne({get:Xe,set:Qe});Object.defineProperty(s,Q,{enumerable:!0,configurable:!0,get:()=>$e.value,set:Ce=>$e.value=Ce})}if(a)for(const Q in a)Ec(a[Q],s,n,Q);if(l){const Q=ne(l)?l.call(n):l;Reflect.ownKeys(Q).forEach(Z=>{fr(Z,Q[Z])})}u&&na(u,t,"c");function oe(Q,Z){X(Z)?Z.forEach(Xe=>Q(Xe.bind(n))):Z&&Q(Z.bind(n))}if(oe(vf,f),oe(fn,h),oe(yf,p),oe(bf,m),oe(mf,y),oe(pf,g),oe(Sf,T),oe(kf,z),oe(xf,P),oe(wf,_),oe(Ai,C),oe(_f,j),X(ce))if(ce.length){const Q=t.exposed||(t.exposed={});ce.forEach(Z=>{Object.defineProperty(Q,Z,{get:()=>n[Z],set:Xe=>n[Z]=Xe,enumerable:!0})})}else t.exposed||(t.exposed={});U&&t.render===Mt&&(t.render=U),je!=null&&(t.inheritAttrs=je),Ie&&(t.components=Ie),Te&&(t.directives=Te),j&&vc(t)}function $f(t,e,n=Mt){X(t)&&(t=Ho(t));for(const s in t){const r=t[s];let o;ke(r)?"default"in r?o=_t(r.from||s,r.default,!0):o=_t(r.from||s):o=_t(r),Ae(o)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):e[s]=o}}function na(t,e,n){Dt(X(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Ec(t,e,n,s){let r=s.includes(".")?Fc(n,s):()=>n[s];if(Re(t)){const o=e[t];ne(o)&&ln(r,o)}else if(ne(t))ln(r,t.bind(n));else if(ke(t))if(X(t))t.forEach(o=>Ec(o,e,n,s));else{const o=ne(t.handler)?t.handler.bind(n):e[t.handler];ne(o)&&ln(r,o,t)}}function Oc(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:o,config:{optionMergeStrategies:i}}=t.appContext,a=o.get(e);let l;return a?l=a:!r.length&&!n&&!s?l=e:(l={},r.length&&r.forEach(d=>Cr(l,d,i,!0)),Cr(l,e,i)),ke(e)&&o.set(e,l),l}function Cr(t,e,n,s=!1){const{mixins:r,extends:o}=e;o&&Cr(t,o,n,!0),r&&r.forEach(i=>Cr(t,i,n,!0));for(const i in e)if(!(s&&i==="expose")){const a=Af[i]||n&&n[i];t[i]=a?a(t[i],e[i]):e[i]}return t}const Af={data:sa,props:ra,emits:ra,methods:vs,computed:vs,beforeCreate:Ke,created:Ke,beforeMount:Ke,mounted:Ke,beforeUpdate:Ke,updated:Ke,beforeDestroy:Ke,beforeUnmount:Ke,destroyed:Ke,unmounted:Ke,activated:Ke,deactivated:Ke,errorCaptured:Ke,serverPrefetch:Ke,components:vs,directives:vs,watch:Pf,provide:sa,inject:Rf};function sa(t,e){return e?t?function(){return Ve(ne(t)?t.call(this,this):t,ne(e)?e.call(this,this):e)}:e:t}function Rf(t,e){return vs(Ho(t),Ho(e))}function Ho(t){if(X(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ke(t,e){return t?[...new Set([].concat(t,e))]:e}function vs(t,e){return t?Ve(Object.create(null),t,e):e}function ra(t,e){return t?X(t)&&X(e)?[...new Set([...t,...e])]:Ve(Object.create(null),ta(t),ta(e??{})):e}function Pf(t,e){if(!t)return e;if(!e)return t;const n=Ve(Object.create(null),t);for(const s in e)n[s]=Ke(t[s],e[s]);return n}function Cc(){return{app:null,config:{isNativeTag:Ul,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let jf=0;function If(t,e){return function(s,r=null){ne(s)||(s=Ve({},s)),r!=null&&!ke(r)&&(r=null);const o=Cc(),i=new WeakSet,a=[];let l=!1;const d=o.app={_uid:jf++,_component:s,_props:r,_container:null,_context:o,_instance:null,version:gh,get config(){return o.config},set config(u){},use(u,...f){return i.has(u)||(u&&ne(u.install)?(i.add(u),u.install(d,...f)):ne(u)&&(i.add(u),u(d,...f))),d},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),d},component(u,f){return f?(o.components[u]=f,d):o.components[u]},directive(u,f){return f?(o.directives[u]=f,d):o.directives[u]},mount(u,f,h){if(!l){const p=d._ceVNode||K(s,r);return p.appContext=o,h===!0?h="svg":h===!1&&(h=void 0),t(p,u,h),l=!0,d._container=u,u.__vue_app__=d,Yr(p.component)}},onUnmount(u){a.push(u)},unmount(){l&&(Dt(a,d._instance,16),t(null,d._container),delete d._container.__vue_app__)},provide(u,f){return o.provides[u]=f,d},runWithContext(u){const f=Cn;Cn=d;try{return u()}finally{Cn=f}}};return d}}let Cn=null;function fr(t,e){if(We){let n=We.provides;const s=We.parent&&We.parent.provides;s===n&&(n=We.provides=Object.create(s)),n[t]=e}}function _t(t,e,n=!1){const s=Wc();if(s||Cn){let r=Cn?Cn._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&ne(e)?e.call(s&&s.proxy):e}}function Mf(){return!!(Wc()||Cn)}const Tc={},$c=()=>Object.create(Tc),Ac=t=>Object.getPrototypeOf(t)===Tc;function Df(t,e,n,s=!1){const r={},o=$c();t.propsDefaults=Object.create(null),Rc(t,e,r,o);for(const i in t.propsOptions[0])i in r||(r[i]=void 0);n?t.props=s?r:cc(r):t.type.props?t.props=r:t.props=o,t.attrs=o}function Nf(t,e,n,s){const{props:r,attrs:o,vnode:{patchFlag:i}}=t,a=de(r),[l]=t.propsOptions;let d=!1;if((s||i>0)&&!(i&16)){if(i&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let h=u[f];if(Jr(t.emitsOptions,h))continue;const p=e[h];if(l)if(he(o,h))p!==o[h]&&(o[h]=p,d=!0);else{const m=pt(h);r[m]=Wo(l,a,m,p,t,!1)}else p!==o[h]&&(o[h]=p,d=!0)}}}else{Rc(t,e,r,o)&&(d=!0);let u;for(const f in a)(!e||!he(e,f)&&((u=dn(f))===f||!he(e,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(r[f]=Wo(l,a,f,void 0,t,!0)):delete r[f]);if(o!==a)for(const f in o)(!e||!he(e,f))&&(delete o[f],d=!0)}d&&Ht(t.attrs,"set","")}function Rc(t,e,n,s){const[r,o]=t.propsOptions;let i=!1,a;if(e)for(let l in e){if(bs(l))continue;const d=e[l];let u;r&&he(r,u=pt(l))?!o||!o.includes(u)?n[u]=d:(a||(a={}))[u]=d:Jr(t.emitsOptions,l)||(!(l in s)||d!==s[l])&&(s[l]=d,i=!0)}if(o){const l=de(n),d=a||we;for(let u=0;u<o.length;u++){const f=o[u];n[f]=Wo(r,l,f,d[f],t,!he(d,f))}}return i}function Wo(t,e,n,s,r,o){const i=t[n];if(i!=null){const a=he(i,"default");if(a&&s===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&ne(l)){const{propsDefaults:d}=r;if(n in d)s=d[n];else{const u=Ks(r);s=d[n]=l.call(null,e),u()}}else s=l;r.ce&&r.ce._setProp(n,s)}i[0]&&(o&&!a?s=!1:i[1]&&(s===""||s===dn(n))&&(s=!0))}return s}const Uf=new WeakMap;function Pc(t,e,n=!1){const s=n?Uf:e.propsCache,r=s.get(t);if(r)return r;const o=t.props,i={},a=[];let l=!1;if(!ne(t)){const u=f=>{l=!0;const[h,p]=Pc(f,e,!0);Ve(i,h),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!o&&!l)return ke(t)&&s.set(t,Kn),Kn;if(X(o))for(let u=0;u<o.length;u++){const f=pt(o[u]);oa(f)&&(i[f]=we)}else if(o)for(const u in o){const f=pt(u);if(oa(f)){const h=o[u],p=i[f]=X(h)||ne(h)?{type:h}:Ve({},h),m=p.type;let y=!1,g=!0;if(X(m))for(let x=0;x<m.length;++x){const _=m[x],b=ne(_)&&_.name;if(b==="Boolean"){y=!0;break}else b==="String"&&(g=!1)}else y=ne(m)&&m.name==="Boolean";p[0]=y,p[1]=g,(y||he(p,"default"))&&a.push(f)}}const d=[i,a];return ke(t)&&s.set(t,d),d}function oa(t){return t[0]!=="$"&&!bs(t)}const Ri=t=>t==="_"||t==="_ctx"||t==="$stable",Pi=t=>X(t)?t.map(Pt):[Pt(t)],Ff=(t,e,n)=>{if(e._n)return e;const s=Je((...r)=>Pi(e(...r)),n);return s._c=!1,s},jc=(t,e,n)=>{const s=t._ctx;for(const r in t){if(Ri(r))continue;const o=t[r];if(ne(o))e[r]=Ff(r,o,s);else if(o!=null){const i=Pi(o);e[r]=()=>i}}},Ic=(t,e)=>{const n=Pi(e);t.slots.default=()=>n},Mc=(t,e,n)=>{for(const s in e)(n||!Ri(s))&&(t[s]=e[s])},Lf=(t,e,n)=>{const s=t.slots=$c();if(t.vnode.shapeFlag&32){const r=e._;r?(Mc(s,e,n),n&&ql(s,"_",r,!0)):jc(e,s)}else e&&Ic(t,e)},Bf=(t,e,n)=>{const{vnode:s,slots:r}=t;let o=!0,i=we;if(s.shapeFlag&32){const a=e._;a?n&&a===1?o=!1:Mc(r,e,n):(o=!e.$stable,jc(e,r)),i=e}else e&&(Ic(t,e),i={default:1});if(o)for(const a in r)!Ri(a)&&i[a]==null&&delete r[a]},ct=nh;function qf(t){return Hf(t)}function Hf(t,e){const n=Hr();n.__VUE__=!0;const{insert:s,remove:r,patchProp:o,createElement:i,createText:a,createComment:l,setText:d,setElementText:u,parentNode:f,nextSibling:h,setScopeId:p=Mt,insertStaticContent:m}=t,y=(v,w,O,E=null,S=null,k=null,I=void 0,F=null,L=!!w.dynamicChildren)=>{if(v===w)return;v&&!fs(v,w)&&(E=R(v),Ce(v,S,k,!0),v=null),w.patchFlag===-2&&(L=!1,w.dynamicChildren=null);const{type:M,ref:Y,shapeFlag:H}=w;switch(M){case Gr:g(v,w,O,E);break;case Jt:x(v,w,O,E);break;case hr:v==null&&_(w,O,E,I);break;case _e:Ie(v,w,O,E,S,k,I,F,L);break;default:H&1?U(v,w,O,E,S,k,I,F,L):H&6?Te(v,w,O,E,S,k,I,F,L):(H&64||H&128)&&M.process(v,w,O,E,S,k,I,F,L,V)}Y!=null&&S?xs(Y,v&&v.ref,k,w||v,!w):Y==null&&v&&v.ref!=null&&xs(v.ref,null,k,v,!0)},g=(v,w,O,E)=>{if(v==null)s(w.el=a(w.children),O,E);else{const S=w.el=v.el;w.children!==v.children&&d(S,w.children)}},x=(v,w,O,E)=>{v==null?s(w.el=l(w.children||""),O,E):w.el=v.el},_=(v,w,O,E)=>{[v.el,v.anchor]=m(v.children,w,O,E,v.el,v.anchor)},b=({el:v,anchor:w},O,E)=>{let S;for(;v&&v!==w;)S=h(v),s(v,O,E),v=S;s(w,O,E)},C=({el:v,anchor:w})=>{let O;for(;v&&v!==w;)O=h(v),r(v),v=O;r(w)},U=(v,w,O,E,S,k,I,F,L)=>{w.type==="svg"?I="svg":w.type==="math"&&(I="mathml"),v==null?z(w,O,E,S,k,I,F,L):j(v,w,S,k,I,F,L)},z=(v,w,O,E,S,k,I,F)=>{let L,M;const{props:Y,shapeFlag:H,transition:J,dirs:ee}=v;if(L=v.el=i(v.type,k,Y&&Y.is,Y),H&8?u(L,v.children):H&16&&T(v.children,L,null,E,S,yo(v,k),I,F),ee&&mn(v,null,E,"created"),P(L,v,v.scopeId,I,E),Y){for(const Se in Y)Se!=="value"&&!bs(Se)&&o(L,Se,null,Y[Se],k,E);"value"in Y&&o(L,"value",null,Y.value,k),(M=Y.onVnodeBeforeMount)&&Tt(M,E,v)}ee&&mn(v,null,E,"beforeMount");const ie=Wf(S,J);ie&&J.beforeEnter(L),s(L,w,O),((M=Y&&Y.onVnodeMounted)||ie||ee)&&ct(()=>{M&&Tt(M,E,v),ie&&J.enter(L),ee&&mn(v,null,E,"mounted")},S)},P=(v,w,O,E,S)=>{if(O&&p(v,O),E)for(let k=0;k<E.length;k++)p(v,E[k]);if(S){let k=S.subTree;if(w===k||Bc(k.type)&&(k.ssContent===w||k.ssFallback===w)){const I=S.vnode;P(v,I,I.scopeId,I.slotScopeIds,S.parent)}}},T=(v,w,O,E,S,k,I,F,L=0)=>{for(let M=L;M<v.length;M++){const Y=v[M]=F?nn(v[M]):Pt(v[M]);y(null,Y,w,O,E,S,k,I,F)}},j=(v,w,O,E,S,k,I)=>{const F=w.el=v.el;let{patchFlag:L,dynamicChildren:M,dirs:Y}=w;L|=v.patchFlag&16;const H=v.props||we,J=w.props||we;let ee;if(O&&pn(O,!1),(ee=J.onVnodeBeforeUpdate)&&Tt(ee,O,w,v),Y&&mn(w,v,O,"beforeUpdate"),O&&pn(O,!0),(H.innerHTML&&J.innerHTML==null||H.textContent&&J.textContent==null)&&u(F,""),M?ce(v.dynamicChildren,M,F,O,E,yo(w,S),k):I||Z(v,w,F,null,O,E,yo(w,S),k,!1),L>0){if(L&16)je(F,H,J,O,S);else if(L&2&&H.class!==J.class&&o(F,"class",null,J.class,S),L&4&&o(F,"style",H.style,J.style,S),L&8){const ie=w.dynamicProps;for(let Se=0;Se<ie.length;Se++){const ge=ie[Se],et=H[ge],tt=J[ge];(tt!==et||ge==="value")&&o(F,ge,et,tt,S,O)}}L&1&&v.children!==w.children&&u(F,w.children)}else!I&&M==null&&je(F,H,J,O,S);((ee=J.onVnodeUpdated)||Y)&&ct(()=>{ee&&Tt(ee,O,w,v),Y&&mn(w,v,O,"updated")},E)},ce=(v,w,O,E,S,k,I)=>{for(let F=0;F<w.length;F++){const L=v[F],M=w[F],Y=L.el&&(L.type===_e||!fs(L,M)||L.shapeFlag&198)?f(L.el):O;y(L,M,Y,null,E,S,k,I,!0)}},je=(v,w,O,E,S)=>{if(w!==O){if(w!==we)for(const k in w)!bs(k)&&!(k in O)&&o(v,k,w[k],null,S,E);for(const k in O){if(bs(k))continue;const I=O[k],F=w[k];I!==F&&k!=="value"&&o(v,k,F,I,S,E)}"value"in O&&o(v,"value",w.value,O.value,S)}},Ie=(v,w,O,E,S,k,I,F,L)=>{const M=w.el=v?v.el:a(""),Y=w.anchor=v?v.anchor:a("");let{patchFlag:H,dynamicChildren:J,slotScopeIds:ee}=w;ee&&(F=F?F.concat(ee):ee),v==null?(s(M,O,E),s(Y,O,E),T(w.children||[],O,Y,S,k,I,F,L)):H>0&&H&64&&J&&v.dynamicChildren?(ce(v.dynamicChildren,J,O,S,k,I,F),(w.key!=null||S&&w===S.subTree)&&Dc(v,w,!0)):Z(v,w,O,Y,S,k,I,F,L)},Te=(v,w,O,E,S,k,I,F,L)=>{w.slotScopeIds=F,v==null?w.shapeFlag&512?S.ctx.activate(w,O,E,I,L):Fe(w,O,E,S,k,I,L):it(v,w,L)},Fe=(v,w,O,E,S,k,I)=>{const F=v.component=ch(v,E,S);if(yc(v)&&(F.ctx.renderer=V),uh(F,!1,I),F.asyncDep){if(S&&S.registerDep(F,oe,I),!v.el){const L=F.subTree=K(Jt);x(null,L,w,O),v.placeholder=L.el}}else oe(F,v,w,O,S,k,I)},it=(v,w,O)=>{const E=w.component=v.component;if(eh(v,w,O))if(E.asyncDep&&!E.asyncResolved){Q(E,w,O);return}else E.next=w,E.update();else w.el=v.el,E.vnode=w},oe=(v,w,O,E,S,k,I)=>{const F=()=>{if(v.isMounted){let{next:H,bu:J,u:ee,parent:ie,vnode:Se}=v;{const Ot=Nc(v);if(Ot){H&&(H.el=Se.el,Q(v,H,I)),Ot.asyncDep.then(()=>{v.isUnmounted||F()});return}}let ge=H,et;pn(v,!1),H?(H.el=Se.el,Q(v,H,I)):H=Se,J&&dr(J),(et=H.props&&H.props.onVnodeBeforeUpdate)&&Tt(et,ie,H,Se),pn(v,!0);const tt=aa(v),Et=v.subTree;v.subTree=tt,y(Et,tt,f(Et.el),R(Et),v,S,k),H.el=tt.el,ge===null&&th(v,tt.el),ee&&ct(ee,S),(et=H.props&&H.props.onVnodeUpdated)&&ct(()=>Tt(et,ie,H,Se),S)}else{let H;const{el:J,props:ee}=w,{bm:ie,m:Se,parent:ge,root:et,type:tt}=v,Et=Yn(w);pn(v,!1),ie&&dr(ie),!Et&&(H=ee&&ee.onVnodeBeforeMount)&&Tt(H,ge,w),pn(v,!0);{et.ce&&et.ce._def.shadowRoot!==!1&&et.ce._injectChildStyle(tt);const Ot=v.subTree=aa(v);y(null,Ot,O,E,v,S,k),w.el=Ot.el}if(Se&&ct(Se,S),!Et&&(H=ee&&ee.onVnodeMounted)){const Ot=w;ct(()=>Tt(H,ge,Ot),S)}(w.shapeFlag&256||ge&&Yn(ge.vnode)&&ge.vnode.shapeFlag&256)&&v.a&&ct(v.a,S),v.isMounted=!0,w=O=E=null}};v.scope.on();const L=v.effect=new Gl(F);v.scope.off();const M=v.update=L.run.bind(L),Y=v.job=L.runIfDirty.bind(L);Y.i=v,Y.id=v.uid,L.scheduler=()=>Ti(Y),pn(v,!0),M()},Q=(v,w,O)=>{w.component=v;const E=v.vnode.props;v.vnode=w,v.next=null,Nf(v,w.props,E,O),Bf(v,w.children,O),Vt(),Qi(v),Kt()},Z=(v,w,O,E,S,k,I,F,L=!1)=>{const M=v&&v.children,Y=v?v.shapeFlag:0,H=w.children,{patchFlag:J,shapeFlag:ee}=w;if(J>0){if(J&128){Qe(M,H,O,E,S,k,I,F,L);return}else if(J&256){Xe(M,H,O,E,S,k,I,F,L);return}}ee&8?(Y&16&&Ze(M,S,k),H!==M&&u(O,H)):Y&16?ee&16?Qe(M,H,O,E,S,k,I,F,L):Ze(M,S,k,!0):(Y&8&&u(O,""),ee&16&&T(H,O,E,S,k,I,F,L))},Xe=(v,w,O,E,S,k,I,F,L)=>{v=v||Kn,w=w||Kn;const M=v.length,Y=w.length,H=Math.min(M,Y);let J;for(J=0;J<H;J++){const ee=w[J]=L?nn(w[J]):Pt(w[J]);y(v[J],ee,O,null,S,k,I,F,L)}M>Y?Ze(v,S,k,!0,!1,H):T(w,O,E,S,k,I,F,L,H)},Qe=(v,w,O,E,S,k,I,F,L)=>{let M=0;const Y=w.length;let H=v.length-1,J=Y-1;for(;M<=H&&M<=J;){const ee=v[M],ie=w[M]=L?nn(w[M]):Pt(w[M]);if(fs(ee,ie))y(ee,ie,O,null,S,k,I,F,L);else break;M++}for(;M<=H&&M<=J;){const ee=v[H],ie=w[J]=L?nn(w[J]):Pt(w[J]);if(fs(ee,ie))y(ee,ie,O,null,S,k,I,F,L);else break;H--,J--}if(M>H){if(M<=J){const ee=J+1,ie=ee<Y?w[ee].el:E;for(;M<=J;)y(null,w[M]=L?nn(w[M]):Pt(w[M]),O,ie,S,k,I,F,L),M++}}else if(M>J)for(;M<=H;)Ce(v[M],S,k,!0),M++;else{const ee=M,ie=M,Se=new Map;for(M=ie;M<=J;M++){const lt=w[M]=L?nn(w[M]):Pt(w[M]);lt.key!=null&&Se.set(lt.key,M)}let ge,et=0;const tt=J-ie+1;let Et=!1,Ot=0;const us=new Array(tt);for(M=0;M<tt;M++)us[M]=0;for(M=ee;M<=H;M++){const lt=v[M];if(et>=tt){Ce(lt,S,k,!0);continue}let Ct;if(lt.key!=null)Ct=Se.get(lt.key);else for(ge=ie;ge<=J;ge++)if(us[ge-ie]===0&&fs(lt,w[ge])){Ct=ge;break}Ct===void 0?Ce(lt,S,k,!0):(us[Ct-ie]=M+1,Ct>=Ot?Ot=Ct:Et=!0,y(lt,w[Ct],O,null,S,k,I,F,L),et++)}const Wi=Et?zf(us):Kn;for(ge=Wi.length-1,M=tt-1;M>=0;M--){const lt=ie+M,Ct=w[lt],zi=w[lt+1],Vi=lt+1<Y?zi.el||zi.placeholder:E;us[M]===0?y(null,Ct,O,Vi,S,k,I,F,L):Et&&(ge<0||M!==Wi[ge]?$e(Ct,O,Vi,2):ge--)}}},$e=(v,w,O,E,S=null)=>{const{el:k,type:I,transition:F,children:L,shapeFlag:M}=v;if(M&6){$e(v.component.subTree,w,O,E);return}if(M&128){v.suspense.move(w,O,E);return}if(M&64){I.move(v,w,O,V);return}if(I===_e){s(k,w,O);for(let H=0;H<L.length;H++)$e(L[H],w,O,E);s(v.anchor,w,O);return}if(I===hr){b(v,w,O);return}if(E!==2&&M&1&&F)if(E===0)F.beforeEnter(k),s(k,w,O),ct(()=>F.enter(k),S);else{const{leave:H,delayLeave:J,afterLeave:ee}=F,ie=()=>{v.ctx.isUnmounted?r(k):s(k,w,O)},Se=()=>{k._isLeaving&&k[hf](!0),H(k,()=>{ie(),ee&&ee()})};J?J(k,ie,Se):Se()}else s(k,w,O)},Ce=(v,w,O,E=!1,S=!1)=>{const{type:k,props:I,ref:F,children:L,dynamicChildren:M,shapeFlag:Y,patchFlag:H,dirs:J,cacheIndex:ee}=v;if(H===-2&&(S=!1),F!=null&&(Vt(),xs(F,null,O,v,!0),Kt()),ee!=null&&(w.renderCache[ee]=void 0),Y&256){w.ctx.deactivate(v);return}const ie=Y&1&&J,Se=!Yn(v);let ge;if(Se&&(ge=I&&I.onVnodeBeforeUnmount)&&Tt(ge,w,v),Y&6)Nt(v.component,O,E);else{if(Y&128){v.suspense.unmount(O,E);return}ie&&mn(v,null,w,"beforeUnmount"),Y&64?v.type.remove(v,w,O,V,E):M&&!M.hasOnce&&(k!==_e||H>0&&H&64)?Ze(M,w,O,!1,!0):(k===_e&&H&384||!S&&Y&16)&&Ze(L,w,O),E&&ht(v)}(Se&&(ge=I&&I.onVnodeUnmounted)||ie)&&ct(()=>{ge&&Tt(ge,w,v),ie&&mn(v,null,w,"unmounted")},O)},ht=v=>{const{type:w,el:O,anchor:E,transition:S}=v;if(w===_e){at(O,E);return}if(w===hr){C(v);return}const k=()=>{r(O),S&&!S.persisted&&S.afterLeave&&S.afterLeave()};if(v.shapeFlag&1&&S&&!S.persisted){const{leave:I,delayLeave:F}=S,L=()=>I(O,k);F?F(v.el,k,L):L()}else k()},at=(v,w)=>{let O;for(;v!==w;)O=h(v),r(v),v=O;r(w)},Nt=(v,w,O)=>{const{bum:E,scope:S,job:k,subTree:I,um:F,m:L,a:M}=v;ia(L),ia(M),E&&dr(E),S.stop(),k&&(k.flags|=8,Ce(I,v,w,O)),F&&ct(F,w),ct(()=>{v.isUnmounted=!0},w)},Ze=(v,w,O,E=!1,S=!1,k=0)=>{for(let I=k;I<v.length;I++)Ce(v[I],w,O,E,S)},R=v=>{if(v.shapeFlag&6)return R(v.component.subTree);if(v.shapeFlag&128)return v.suspense.next();const w=h(v.anchor||v.el),O=w&&w[df];return O?h(O):w};let W=!1;const B=(v,w,O)=>{v==null?w._vnode&&Ce(w._vnode,null,null,!0):y(w._vnode||null,v,w,null,null,null,O),w._vnode=v,W||(W=!0,Qi(),mc(),W=!1)},V={p:y,um:Ce,m:$e,r:ht,mt:Fe,mc:T,pc:Z,pbc:ce,n:R,o:t};return{render:B,hydrate:void 0,createApp:If(B)}}function yo({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function pn({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Wf(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Dc(t,e,n=!1){const s=t.children,r=e.children;if(X(s)&&X(r))for(let o=0;o<s.length;o++){const i=s[o];let a=r[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[o]=nn(r[o]),a.el=i.el),!n&&a.patchFlag!==-2&&Dc(i,a)),a.type===Gr&&a.patchFlag!==-1&&(a.el=i.el),a.type===Jt&&!a.el&&(a.el=i.el)}}function zf(t){const e=t.slice(),n=[0];let s,r,o,i,a;const l=t.length;for(s=0;s<l;s++){const d=t[s];if(d!==0){if(r=n[n.length-1],t[r]<d){e[s]=r,n.push(s);continue}for(o=0,i=n.length-1;o<i;)a=o+i>>1,t[n[a]]<d?o=a+1:i=a;d<t[n[o]]&&(o>0&&(e[s]=n[o-1]),n[o]=s)}}for(o=n.length,i=n[o-1];o-- >0;)n[o]=i,i=e[i];return n}function Nc(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Nc(e)}function ia(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Vf=Symbol.for("v-scx"),Kf=()=>_t(Vf);function ln(t,e,n){return Uc(t,e,n)}function Uc(t,e,n=we){const{immediate:s,deep:r,flush:o,once:i}=n,a=Ve({},n),l=e&&s||!e&&o!=="post";let d;if(Ds){if(o==="sync"){const p=Kf();d=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=Mt,p.resume=Mt,p.pause=Mt,p}}const u=We;a.call=(p,m,y)=>Dt(p,u,m,y);let f=!1;o==="post"?a.scheduler=p=>{ct(p,u&&u.suspense)}:o!=="sync"&&(f=!0,a.scheduler=(p,m)=>{m?p():Ti(p)}),a.augmentJob=p=>{e&&(p.flags|=4),f&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const h=af(t,e,a);return Ds&&(d?d.push(h):l&&h()),h}function Jf(t,e,n){const s=this.proxy,r=Re(t)?t.includes(".")?Fc(s,t):()=>s[t]:t.bind(s,s);let o;ne(e)?o=e:(o=e.handler,n=e);const i=Ks(this),a=Uc(r,o.bind(s),n);return i(),a}function Fc(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const Gf=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${pt(e)}Modifiers`]||t[`${dn(e)}Modifiers`];function Yf(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||we;let r=n;const o=e.startsWith("update:"),i=o&&Gf(s,e.slice(7));i&&(i.trim&&(r=n.map(u=>Re(u)?u.trim():u)),i.number&&(r=n.map(wr)));let a,l=s[a=fo(e)]||s[a=fo(pt(e))];!l&&o&&(l=s[a=fo(dn(e))]),l&&Dt(l,t,6,r);const d=s[a+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Dt(d,t,6,r)}}const Xf=new WeakMap;function Lc(t,e,n=!1){const s=n?Xf:e.emitsCache,r=s.get(t);if(r!==void 0)return r;const o=t.emits;let i={},a=!1;if(!ne(t)){const l=d=>{const u=Lc(d,e,!0);u&&(a=!0,Ve(i,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!a?(ke(t)&&s.set(t,null),null):(X(o)?o.forEach(l=>i[l]=null):Ve(i,o),ke(t)&&s.set(t,i),i)}function Jr(t,e){return!t||!Fr(e)?!1:(e=e.slice(2).replace(/Once$/,""),he(t,e[0].toLowerCase()+e.slice(1))||he(t,dn(e))||he(t,e))}function aa(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[o],slots:i,attrs:a,emit:l,render:d,renderCache:u,props:f,data:h,setupState:p,ctx:m,inheritAttrs:y}=t,g=Er(t);let x,_;try{if(n.shapeFlag&4){const C=r||s,U=C;x=Pt(d.call(U,C,u,f,p,h,m)),_=a}else{const C=e;x=Pt(C.length>1?C(f,{attrs:a,slots:i,emit:l}):C(f,null)),_=e.props?a:Qf(a)}}catch(C){Ss.length=0,Vr(C,t,1),x=K(Jt)}let b=x;if(_&&y!==!1){const C=Object.keys(_),{shapeFlag:U}=b;C.length&&U&7&&(o&&C.some(gi)&&(_=Zf(_,o)),b=es(b,_,!1,!0))}return n.dirs&&(b=es(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&$i(b,n.transition),x=b,Er(g),x}const Qf=t=>{let e;for(const n in t)(n==="class"||n==="style"||Fr(n))&&((e||(e={}))[n]=t[n]);return e},Zf=(t,e)=>{const n={};for(const s in t)(!gi(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function eh(t,e,n){const{props:s,children:r,component:o}=t,{props:i,children:a,patchFlag:l}=e,d=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?la(s,i,d):!!i;if(l&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const h=u[f];if(i[h]!==s[h]&&!Jr(d,h))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===i?!1:s?i?la(s,i,d):!0:!!i;return!1}function la(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const o=s[r];if(e[o]!==t[o]&&!Jr(n,o))return!0}return!1}function th({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Bc=t=>t.__isSuspense;function nh(t,e){e&&e.pendingBranch?X(t)?e.effects.push(...t):e.effects.push(t):uf(t)}const _e=Symbol.for("v-fgt"),Gr=Symbol.for("v-txt"),Jt=Symbol.for("v-cmt"),hr=Symbol.for("v-stc"),Ss=[];let dt=null;function A(t=!1){Ss.push(dt=t?null:[])}function sh(){Ss.pop(),dt=Ss[Ss.length-1]||null}let Is=1;function Tr(t,e=!1){Is+=t,t<0&&dt&&e&&(dt.hasOnce=!0)}function qc(t){return t.dynamicChildren=Is>0?dt||Kn:null,sh(),Is>0&&dt&&dt.push(t),t}function N(t,e,n,s,r,o){return qc(c(t,e,n,s,r,o,!0))}function ye(t,e,n,s,r){return qc(K(t,e,n,s,r,!0))}function Ms(t){return t?t.__v_isVNode===!0:!1}function fs(t,e){return t.type===e.type&&t.key===e.key}const Hc=({key:t})=>t??null,mr=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Re(t)||Ae(t)||ne(t)?{i:Be,r:t,k:e,f:!!n}:t:null);function c(t,e=null,n=null,s=0,r=null,o=t===_e?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Hc(e),ref:e&&mr(e),scopeId:gc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Be};return a?(ji(l,n),o&128&&t.normalize(l)):n&&(l.shapeFlag|=Re(n)?8:16),Is>0&&!i&&dt&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&dt.push(l),l}const K=rh;function rh(t,e=null,n=null,s=0,r=null,o=!1){if((!t||t===xc)&&(t=Jt),Ms(t)){const a=es(t,e,!0);return n&&ji(a,n),Is>0&&!o&&dt&&(a.shapeFlag&6?dt[dt.indexOf(t)]=a:dt.push(a)),a.patchFlag=-2,a}if(ph(t)&&(t=t.__vccOpts),e){e=oh(e);let{class:a,style:l}=e;a&&!Re(a)&&(e.class=be(a)),ke(l)&&(Oi(l)&&!X(l)&&(l=Ve({},l)),e.style=bi(l))}const i=Re(t)?1:Bc(t)?128:ff(t)?64:ke(t)?4:ne(t)?2:0;return c(t,e,n,s,r,i,o,!0)}function oh(t){return t?Oi(t)||Ac(t)?Ve({},t):t:null}function es(t,e,n=!1,s=!1){const{props:r,ref:o,patchFlag:i,children:a,transition:l}=t,d=e?ih(r||{},e):r,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:d,key:d&&Hc(d),ref:e&&e.ref?n&&o?X(o)?o.concat(mr(e)):[o,mr(e)]:mr(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==_e?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&es(t.ssContent),ssFallback:t.ssFallback&&es(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&$i(u,l.clone(u)),u}function pe(t=" ",e=0){return K(Gr,null,t,e)}function JS(t,e){const n=K(hr,null,t);return n.staticCount=e,n}function ae(t="",e=!1){return e?(A(),ye(Jt,null,t)):K(Jt,null,t)}function Pt(t){return t==null||typeof t=="boolean"?K(Jt):X(t)?K(_e,null,t.slice()):Ms(t)?nn(t):K(Gr,null,String(t))}function nn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:es(t)}function ji(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(X(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),ji(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!Ac(e)?e._ctx=Be:r===3&&Be&&(Be.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ne(e)?(e={default:e,_ctx:Be},n=32):(e=String(e),s&64?(n=16,e=[pe(e)]):n=8);t.children=e,t.shapeFlag|=n}function ih(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=be([e.class,s.class]));else if(r==="style")e.style=bi([e.style,s.style]);else if(Fr(r)){const o=e[r],i=s[r];i&&o!==i&&!(X(o)&&o.includes(i))&&(e[r]=o?[].concat(o,i):i)}else r!==""&&(e[r]=s[r])}return e}function Tt(t,e,n,s=null){Dt(t,e,7,[n,s])}const ah=Cc();let lh=0;function ch(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||ah,o={uid:lh++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Vl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Pc(s,r),emitsOptions:Lc(s,r),emit:null,emitted:null,propsDefaults:we,inheritAttrs:s.inheritAttrs,ctx:we,data:we,props:we,attrs:we,slots:we,refs:we,setupState:we,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=Yf.bind(null,o),t.ce&&t.ce(o),o}let We=null;const Wc=()=>We||Be;let $r,zo;{const t=Hr(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),o=>{r.length>1?r.forEach(i=>i(o)):r[0](o)}};$r=e("__VUE_INSTANCE_SETTERS__",n=>We=n),zo=e("__VUE_SSR_SETTERS__",n=>Ds=n)}const Ks=t=>{const e=We;return $r(t),t.scope.on(),()=>{t.scope.off(),$r(e)}},ca=()=>{We&&We.scope.off(),$r(null)};function zc(t){return t.vnode.shapeFlag&4}let Ds=!1;function uh(t,e=!1,n=!1){e&&zo(e);const{props:s,children:r}=t.vnode,o=zc(t);Df(t,s,o,e),Lf(t,r,n||e);const i=o?dh(t,e):void 0;return e&&zo(!1),i}function dh(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Cf);const{setup:s}=n;if(s){Vt();const r=t.setupContext=s.length>1?hh(t):null,o=Ks(t),i=zs(s,t,0,[t.props,r]),a=Fl(i);if(Kt(),o(),(a||t.sp)&&!Yn(t)&&vc(t),a){if(i.then(ca,ca),e)return i.then(l=>{ua(t,l)}).catch(l=>{Vr(l,t,0)});t.asyncDep=i}else ua(t,i)}else Vc(t)}function ua(t,e,n){ne(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ke(e)&&(t.setupState=dc(e)),Vc(t)}function Vc(t,e,n){const s=t.type;t.render||(t.render=s.render||Mt);{const r=Ks(t);Vt();try{Tf(t)}finally{Kt(),r()}}}const fh={get(t,e){return He(t,"get",""),t[e]}};function hh(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,fh),slots:t.slots,emit:t.emit,expose:e}}function Yr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(dc(Ci(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ks)return ks[n](t)},has(e,n){return n in e||n in ks}})):t.proxy}function mh(t,e=!0){return ne(t)?t.displayName||t.name:t.name||e&&t.__name}function ph(t){return ne(t)&&"__vccOpts"in t}const Ne=(t,e)=>rf(t,e,Ds);function Kc(t,e,n){try{Tr(-1);const s=arguments.length;return s===2?ke(e)&&!X(e)?Ms(e)?K(t,null,[e]):K(t,e):K(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Ms(n)&&(n=[n]),K(t,e,n))}finally{Tr(1)}}const gh="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Vo;const da=typeof window<"u"&&window.trustedTypes;if(da)try{Vo=da.createPolicy("vue",{createHTML:t=>t})}catch{}const Jc=Vo?t=>Vo.createHTML(t):t=>t,vh="http://www.w3.org/2000/svg",yh="http://www.w3.org/1998/Math/MathML",Bt=typeof document<"u"?document:null,fa=Bt&&Bt.createElement("template"),bh={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?Bt.createElementNS(vh,t):e==="mathml"?Bt.createElementNS(yh,t):n?Bt.createElement(t,{is:n}):Bt.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>Bt.createTextNode(t),createComment:t=>Bt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Bt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,o){const i=n?n.previousSibling:e.lastChild;if(r&&(r===o||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{fa.innerHTML=Jc(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=fa.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[i?i.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},wh=Symbol("_vtc");function _h(t,e,n){const s=t[wh];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const ha=Symbol("_vod"),xh=Symbol("_vsh"),kh=Symbol(""),Sh=/(?:^|;)\s*display\s*:/;function Eh(t,e,n){const s=t.style,r=Re(n);let o=!1;if(n&&!r){if(e)if(Re(e))for(const i of e.split(";")){const a=i.slice(0,i.indexOf(":")).trim();n[a]==null&&pr(s,a,"")}else for(const i in e)n[i]==null&&pr(s,i,"");for(const i in n)i==="display"&&(o=!0),pr(s,i,n[i])}else if(r){if(e!==n){const i=s[kh];i&&(n+=";"+i),s.cssText=n,o=Sh.test(n)}}else e&&t.removeAttribute("style");ha in t&&(t[ha]=o?s.display:"",t[xh]&&(s.display="none"))}const ma=/\s*!important$/;function pr(t,e,n){if(X(n))n.forEach(s=>pr(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=Oh(t,e);ma.test(n)?t.setProperty(dn(s),n.replace(ma,""),"important"):t[s]=n}}const pa=["Webkit","Moz","ms"],bo={};function Oh(t,e){const n=bo[e];if(n)return n;let s=pt(e);if(s!=="filter"&&s in t)return bo[e]=s;s=qr(s);for(let r=0;r<pa.length;r++){const o=pa[r]+s;if(o in t)return bo[e]=o}return e}const ga="http://www.w3.org/1999/xlink";function va(t,e,n,s,r,o=Td(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(ga,e.slice(6,e.length)):t.setAttributeNS(ga,e,n):n==null||o&&!Hl(n)?t.removeAttribute(e):t.setAttribute(e,o?"":xt(n)?String(n):n)}function ya(t,e,n,s,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Jc(n):n);return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let i=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Hl(n):n==null&&a==="string"?(n="",i=!0):a==="number"&&(n=0,i=!0)}try{t[e]=n}catch{}i&&t.removeAttribute(r||e)}function _n(t,e,n,s){t.addEventListener(e,n,s)}function Ch(t,e,n,s){t.removeEventListener(e,n,s)}const ba=Symbol("_vei");function Th(t,e,n,s,r=null){const o=t[ba]||(t[ba]={}),i=o[e];if(s&&i)i.value=s;else{const[a,l]=$h(e);if(s){const d=o[e]=Ph(s,r);_n(t,a,d,l)}else i&&(Ch(t,a,i,l),o[e]=void 0)}}const wa=/(?:Once|Passive|Capture)$/;function $h(t){let e;if(wa.test(t)){e={};let s;for(;s=t.match(wa);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):dn(t.slice(2)),e]}let wo=0;const Ah=Promise.resolve(),Rh=()=>wo||(Ah.then(()=>wo=0),wo=Date.now());function Ph(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Dt(jh(s,n.value),e,5,[s])};return n.value=t,n.attached=Rh(),n}function jh(t,e){if(X(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const _a=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Ih=(t,e,n,s,r,o)=>{const i=r==="svg";e==="class"?_h(t,s,i):e==="style"?Eh(t,n,s):Fr(e)?gi(e)||Th(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Mh(t,e,s,i))?(ya(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&va(t,e,s,i,o,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Re(s))?ya(t,pt(e),s,o,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),va(t,e,s,i))};function Mh(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&_a(e)&&ne(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return _a(e)&&Re(n)?!1:e in t}const Ar=t=>{const e=t.props["onUpdate:modelValue"]||!1;return X(e)?n=>dr(e,n):e};function Dh(t){t.target.composing=!0}function xa(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Xn=Symbol("_assign"),le={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[Xn]=Ar(r);const o=s||r.props&&r.props.type==="number";_n(t,e?"change":"input",i=>{if(i.target.composing)return;let a=t.value;n&&(a=a.trim()),o&&(a=wr(a)),t[Xn](a)}),n&&_n(t,"change",()=>{t.value=t.value.trim()}),e||(_n(t,"compositionstart",Dh),_n(t,"compositionend",xa),_n(t,"change",xa))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:r,number:o}},i){if(t[Xn]=Ar(i),t.composing)return;const a=(o||t.type==="number")&&!/^0\d/.test(t.value)?wr(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||r&&t.value.trim()===l)||(t.value=l))}},Vn={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const r=Lr(e);_n(t,"change",()=>{const o=Array.prototype.filter.call(t.options,i=>i.selected).map(i=>n?wr(Rr(i)):Rr(i));t[Xn](t.multiple?r?new Set(o):o:o[0]),t._assigning=!0,Vs(()=>{t._assigning=!1})}),t[Xn]=Ar(s)},mounted(t,{value:e}){ka(t,e)},beforeUpdate(t,e,n){t[Xn]=Ar(n)},updated(t,{value:e}){t._assigning||ka(t,e)}};function ka(t,e){const n=t.multiple,s=X(e);if(!(n&&!s&&!Lr(e))){for(let r=0,o=t.options.length;r<o;r++){const i=t.options[r],a=Rr(i);if(n)if(s){const l=typeof a;l==="string"||l==="number"?i.selected=e.some(d=>String(d)===String(a)):i.selected=Ad(e,a)>-1}else i.selected=e.has(a);else if(Wr(Rr(i),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Rr(t){return"_value"in t?t._value:t.value}const Nh=["ctrl","shift","alt","meta"],Uh={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Nh.some(n=>t[`${n}Key`]&&!e.includes(n))},Tn=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(r,...o)=>{for(let i=0;i<e.length;i++){const a=Uh[e[i]];if(a&&a(r,e))return}return t(r,...o)})},Fh={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Sa=(t,e)=>{const n=t._withKeys||(t._withKeys={}),s=e.join(".");return n[s]||(n[s]=r=>{if(!("key"in r))return;const o=dn(r.key);if(e.some(i=>i===o||Fh[i]===o))return t(r)})},Lh=Ve({patchProp:Ih},bh);let Ea;function Bh(){return Ea||(Ea=qf(Lh))}const qh=(...t)=>{const e=Bh().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=Wh(s);if(!r)return;const o=e._component;!ne(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const i=n(r,!1,Hh(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},e};function Hh(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Wh(t){return Re(t)?document.querySelector(t):t}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Gc;const Xr=t=>Gc=t,Yc=Symbol();function Ko(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Es;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Es||(Es={}));function zh(){const t=Kl(!0),e=t.run(()=>q({}));let n=[],s=[];const r=Ci({install(o){Xr(r),r._a=o,o.provide(Yc,r),o.config.globalProperties.$pinia=r,s.forEach(i=>n.push(i)),s=[]},use(o){return this._a?n.push(o):s.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const Xc=()=>{};function Oa(t,e,n,s=Xc){t.push(e);const r=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),s())};return!n&&Jl()&&Rd(r),r}function In(t,...e){t.slice().forEach(n=>{n(...e)})}const Vh=t=>t(),Ca=Symbol(),_o=Symbol();function Jo(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],r=t[n];Ko(r)&&Ko(s)&&t.hasOwnProperty(n)&&!Ae(s)&&!an(s)?t[n]=Jo(r,s):t[n]=s}return t}const Kh=Symbol();function Jh(t){return!Ko(t)||!t.hasOwnProperty(Kh)}const{assign:Zt}=Object;function Gh(t){return!!(Ae(t)&&t.effect)}function Yh(t,e,n,s){const{state:r,actions:o,getters:i}=e,a=n.state.value[t];let l;function d(){a||(n.state.value[t]=r?r():{});const u=ef(n.state.value[t]);return Zt(u,o,Object.keys(i||{}).reduce((f,h)=>(f[h]=Ci(Ne(()=>{Xr(n);const p=n._s.get(t);return i[h].call(p,p)})),f),{}))}return l=Qc(t,d,e,n,s,!0),l}function Qc(t,e,n={},s,r,o){let i;const a=Zt({actions:{}},n),l={deep:!0};let d,u,f=[],h=[],p;const m=s.state.value[t];!o&&!m&&(s.state.value[t]={}),q({});let y;function g(T){let j;d=u=!1,typeof T=="function"?(T(s.state.value[t]),j={type:Es.patchFunction,storeId:t,events:p}):(Jo(s.state.value[t],T),j={type:Es.patchObject,payload:T,storeId:t,events:p});const ce=y=Symbol();Vs().then(()=>{y===ce&&(d=!0)}),u=!0,In(f,j,s.state.value[t])}const x=o?function(){const{state:j}=n,ce=j?j():{};this.$patch(je=>{Zt(je,ce)})}:Xc;function _(){i.stop(),f=[],h=[],s._s.delete(t)}const b=(T,j="")=>{if(Ca in T)return T[_o]=j,T;const ce=function(){Xr(s);const je=Array.from(arguments),Ie=[],Te=[];function Fe(Q){Ie.push(Q)}function it(Q){Te.push(Q)}In(h,{args:je,name:ce[_o],store:U,after:Fe,onError:it});let oe;try{oe=T.apply(this&&this.$id===t?this:U,je)}catch(Q){throw In(Te,Q),Q}return oe instanceof Promise?oe.then(Q=>(In(Ie,Q),Q)).catch(Q=>(In(Te,Q),Promise.reject(Q))):(In(Ie,oe),oe)};return ce[Ca]=!0,ce[_o]=j,ce},C={_p:s,$id:t,$onAction:Oa.bind(null,h),$patch:g,$reset:x,$subscribe(T,j={}){const ce=Oa(f,T,j.detached,()=>je()),je=i.run(()=>ln(()=>s.state.value[t],Ie=>{(j.flush==="sync"?u:d)&&T({storeId:t,type:Es.direct,events:p},Ie)},Zt({},l,j)));return ce},$dispose:_},U=Ws(C);s._s.set(t,U);const P=(s._a&&s._a.runWithContext||Vh)(()=>s._e.run(()=>(i=Kl()).run(()=>e({action:b}))));for(const T in P){const j=P[T];if(Ae(j)&&!Gh(j)||an(j))o||(m&&Jh(j)&&(Ae(j)?j.value=m[T]:Jo(j,m[T])),s.state.value[t][T]=j);else if(typeof j=="function"){const ce=b(j,T);P[T]=ce,a.actions[T]=j}}return Zt(U,P),Zt(de(U),P),Object.defineProperty(U,"$state",{get:()=>s.state.value[t],set:T=>{g(j=>{Zt(j,T)})}}),s._p.forEach(T=>{Zt(U,i.run(()=>T({store:U,app:s._a,pinia:s,options:a})))}),m&&o&&n.hydrate&&n.hydrate(U.$state,m),d=!0,u=!0,U}/*! #__NO_SIDE_EFFECTS__ */function Xh(t,e,n){let s,r;const o=typeof e=="function";s=t,r=o?n:e;function i(a,l){const d=Mf();return a=a||(d?_t(Yc,null):null),a&&Xr(a),a=Gc,a._s.has(s)||(o?Qc(s,e,r,a):Yh(s,r,a)),a._s.get(s)}return i.$id=s,i}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Hn=typeof document<"u";function Zc(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Qh(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Zc(t.default)}const fe=Object.assign;function xo(t,e){const n={};for(const s in e){const r=e[s];n[s]=kt(r)?r.map(t):t(r)}return n}const Os=()=>{},kt=Array.isArray,eu=/#/g,Zh=/&/g,em=/\//g,tm=/=/g,nm=/\?/g,tu=/\+/g,sm=/%5B/g,rm=/%5D/g,nu=/%5E/g,om=/%60/g,su=/%7B/g,im=/%7C/g,ru=/%7D/g,am=/%20/g;function Ii(t){return encodeURI(""+t).replace(im,"|").replace(sm,"[").replace(rm,"]")}function lm(t){return Ii(t).replace(su,"{").replace(ru,"}").replace(nu,"^")}function Go(t){return Ii(t).replace(tu,"%2B").replace(am,"+").replace(eu,"%23").replace(Zh,"%26").replace(om,"`").replace(su,"{").replace(ru,"}").replace(nu,"^")}function cm(t){return Go(t).replace(tm,"%3D")}function um(t){return Ii(t).replace(eu,"%23").replace(nm,"%3F")}function dm(t){return t==null?"":um(t).replace(em,"%2F")}function Ns(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const fm=/\/$/,hm=t=>t.replace(fm,"");function ko(t,e,n="/"){let s,r={},o="",i="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),o=e.slice(l+1,a>-1?a:e.length),r=t(o)),a>-1&&(s=s||e.slice(0,a),i=e.slice(a,e.length)),s=vm(s??e,n),{fullPath:s+(o&&"?")+o+i,path:s,query:r,hash:Ns(i)}}function mm(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Ta(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function pm(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&ts(e.matched[s],n.matched[r])&&ou(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ts(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function ou(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!gm(t[n],e[n]))return!1;return!0}function gm(t,e){return kt(t)?$a(t,e):kt(e)?$a(e,t):t===e}function $a(t,e){return kt(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function vm(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let o=n.length-1,i,a;for(i=0;i<s.length;i++)if(a=s[i],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+s.slice(i).join("/")}const Yt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Us;(function(t){t.pop="pop",t.push="push"})(Us||(Us={}));var Cs;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Cs||(Cs={}));function ym(t){if(!t)if(Hn){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),hm(t)}const bm=/^[^#]+#/;function wm(t,e){return t.replace(bm,"#")+e}function _m(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Qr=()=>({left:window.scrollX,top:window.scrollY});function xm(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=_m(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Aa(t,e){return(history.state?history.state.position-e:-1)+t}const Yo=new Map;function km(t,e){Yo.set(t,e)}function Sm(t){const e=Yo.get(t);return Yo.delete(t),e}let Em=()=>location.protocol+"//"+location.host;function iu(t,e){const{pathname:n,search:s,hash:r}=e,o=t.indexOf("#");if(o>-1){let a=r.includes(t.slice(o))?t.slice(o).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Ta(l,"")}return Ta(n,t)+s+r}function Om(t,e,n,s){let r=[],o=[],i=null;const a=({state:h})=>{const p=iu(t,location),m=n.value,y=e.value;let g=0;if(h){if(n.value=p,e.value=h,i&&i===m){i=null;return}g=y?h.position-y.position:0}else s(p);r.forEach(x=>{x(n.value,m,{delta:g,type:Us.pop,direction:g?g>0?Cs.forward:Cs.back:Cs.unknown})})};function l(){i=n.value}function d(h){r.push(h);const p=()=>{const m=r.indexOf(h);m>-1&&r.splice(m,1)};return o.push(p),p}function u(){const{history:h}=window;h.state&&h.replaceState(fe({},h.state,{scroll:Qr()}),"")}function f(){for(const h of o)h();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:d,destroy:f}}function Ra(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?Qr():null}}function Cm(t){const{history:e,location:n}=window,s={value:iu(t,n)},r={value:e.state};r.value||o(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(l,d,u){const f=t.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+l:Em()+t+l;try{e[u?"replaceState":"pushState"](d,"",h),r.value=d}catch(p){console.error(p),n[u?"replace":"assign"](h)}}function i(l,d){const u=fe({},e.state,Ra(r.value.back,l,r.value.forward,!0),d,{position:r.value.position});o(l,u,!0),s.value=l}function a(l,d){const u=fe({},r.value,e.state,{forward:l,scroll:Qr()});o(u.current,u,!0);const f=fe({},Ra(s.value,l,null),{position:u.position+1},d);o(l,f,!1),s.value=l}return{location:s,state:r,push:a,replace:i}}function Tm(t){t=ym(t);const e=Cm(t),n=Om(t,e.state,e.location,e.replace);function s(o,i=!0){i||n.pauseListeners(),history.go(o)}const r=fe({location:"",base:t,go:s,createHref:wm.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function $m(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),Tm(t)}function Am(t){return typeof t=="string"||t&&typeof t=="object"}function au(t){return typeof t=="string"||typeof t=="symbol"}const lu=Symbol("");var Pa;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Pa||(Pa={}));function ns(t,e){return fe(new Error,{type:t,[lu]:!0},e)}function Ft(t,e){return t instanceof Error&&lu in t&&(e==null||!!(t.type&e))}const ja="[^/]+?",Rm={sensitive:!1,strict:!1,start:!0,end:!0},Pm=/[.+*?^${}()[\]/\\]/g;function jm(t,e){const n=fe({},Rm,e),s=[];let r=n.start?"^":"";const o=[];for(const d of t){const u=d.length?[]:[90];n.strict&&!d.length&&(r+="/");for(let f=0;f<d.length;f++){const h=d[f];let p=40+(n.sensitive?.25:0);if(h.type===0)f||(r+="/"),r+=h.value.replace(Pm,"\\$&"),p+=40;else if(h.type===1){const{value:m,repeatable:y,optional:g,regexp:x}=h;o.push({name:m,repeatable:y,optional:g});const _=x||ja;if(_!==ja){p+=10;try{new RegExp(`(${_})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${m}" (${_}): `+C.message)}}let b=y?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;f||(b=g&&d.length<2?`(?:/${b})`:"/"+b),g&&(b+="?"),r+=b,p+=20,g&&(p+=-8),y&&(p+=-20),_===".*"&&(p+=-50)}u.push(p)}s.push(u)}if(n.strict&&n.end){const d=s.length-1;s[d][s[d].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const i=new RegExp(r,n.sensitive?"":"i");function a(d){const u=d.match(i),f={};if(!u)return null;for(let h=1;h<u.length;h++){const p=u[h]||"",m=o[h-1];f[m.name]=p&&m.repeatable?p.split("/"):p}return f}function l(d){let u="",f=!1;for(const h of t){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const p of h)if(p.type===0)u+=p.value;else if(p.type===1){const{value:m,repeatable:y,optional:g}=p,x=m in d?d[m]:"";if(kt(x)&&!y)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const _=kt(x)?x.join("/"):x;if(!_)if(g)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${m}"`);u+=_}}return u||"/"}return{re:i,score:s,keys:o,parse:a,stringify:l}}function Im(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function cu(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const o=Im(s[n],r[n]);if(o)return o;n++}if(Math.abs(r.length-s.length)===1){if(Ia(s))return 1;if(Ia(r))return-1}return r.length-s.length}function Ia(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Mm={type:0,value:""},Dm=/[a-zA-Z0-9_]/;function Nm(t){if(!t)return[[]];if(t==="/")return[[Mm]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${d}": ${p}`)}let n=0,s=n;const r=[];let o;function i(){o&&r.push(o),o=[]}let a=0,l,d="",u="";function f(){d&&(n===0?o.push({type:0,value:d}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:d,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),d="")}function h(){d+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(d&&f(),i()):l===":"?(f(),n=1):h();break;case 4:h(),n=s;break;case 1:l==="("?n=2:Dm.test(l)?h():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${d}"`),f(),i(),r}function Um(t,e,n){const s=jm(Nm(t.path),n),r=fe(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function Fm(t,e){const n=[],s=new Map;e=Ua({strict:!1,end:!0,sensitive:!1},e);function r(f){return s.get(f)}function o(f,h,p){const m=!p,y=Da(f);y.aliasOf=p&&p.record;const g=Ua(e,f),x=[y];if("alias"in f){const C=typeof f.alias=="string"?[f.alias]:f.alias;for(const U of C)x.push(Da(fe({},y,{components:p?p.record.components:y.components,path:U,aliasOf:p?p.record:y})))}let _,b;for(const C of x){const{path:U}=C;if(h&&U[0]!=="/"){const z=h.record.path,P=z[z.length-1]==="/"?"":"/";C.path=h.record.path+(U&&P+U)}if(_=Um(C,h,g),p?p.alias.push(_):(b=b||_,b!==_&&b.alias.push(_),m&&f.name&&!Na(_)&&i(f.name)),uu(_)&&l(_),y.children){const z=y.children;for(let P=0;P<z.length;P++)o(z[P],_,p&&p.children[P])}p=p||_}return b?()=>{i(b)}:Os}function i(f){if(au(f)){const h=s.get(f);h&&(s.delete(f),n.splice(n.indexOf(h),1),h.children.forEach(i),h.alias.forEach(i))}else{const h=n.indexOf(f);h>-1&&(n.splice(h,1),f.record.name&&s.delete(f.record.name),f.children.forEach(i),f.alias.forEach(i))}}function a(){return n}function l(f){const h=qm(f,n);n.splice(h,0,f),f.record.name&&!Na(f)&&s.set(f.record.name,f)}function d(f,h){let p,m={},y,g;if("name"in f&&f.name){if(p=s.get(f.name),!p)throw ns(1,{location:f});g=p.record.name,m=fe(Ma(h.params,p.keys.filter(b=>!b.optional).concat(p.parent?p.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),f.params&&Ma(f.params,p.keys.map(b=>b.name))),y=p.stringify(m)}else if(f.path!=null)y=f.path,p=n.find(b=>b.re.test(y)),p&&(m=p.parse(y),g=p.record.name);else{if(p=h.name?s.get(h.name):n.find(b=>b.re.test(h.path)),!p)throw ns(1,{location:f,currentLocation:h});g=p.record.name,m=fe({},h.params,f.params),y=p.stringify(m)}const x=[];let _=p;for(;_;)x.unshift(_.record),_=_.parent;return{name:g,path:y,params:m,matched:x,meta:Bm(x)}}t.forEach(f=>o(f));function u(){n.length=0,s.clear()}return{addRoute:o,resolve:d,removeRoute:i,clearRoutes:u,getRoutes:a,getRecordMatcher:r}}function Ma(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function Da(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Lm(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Lm(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function Na(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Bm(t){return t.reduce((e,n)=>fe(e,n.meta),{})}function Ua(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function qm(t,e){let n=0,s=e.length;for(;n!==s;){const o=n+s>>1;cu(t,e[o])<0?s=o:n=o+1}const r=Hm(t);return r&&(s=e.lastIndexOf(r,s-1)),s}function Hm(t){let e=t;for(;e=e.parent;)if(uu(e)&&cu(t,e)===0)return e}function uu({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Wm(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const o=s[r].replace(tu," "),i=o.indexOf("="),a=Ns(i<0?o:o.slice(0,i)),l=i<0?null:Ns(o.slice(i+1));if(a in e){let d=e[a];kt(d)||(d=e[a]=[d]),d.push(l)}else e[a]=l}return e}function Fa(t){let e="";for(let n in t){const s=t[n];if(n=cm(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(kt(s)?s.map(o=>o&&Go(o)):[s&&Go(s)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function zm(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=kt(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const Vm=Symbol(""),La=Symbol(""),Zr=Symbol(""),du=Symbol(""),Xo=Symbol("");function hs(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function sn(t,e,n,s,r,o=i=>i()){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const d=h=>{h===!1?l(ns(4,{from:n,to:e})):h instanceof Error?l(h):Am(h)?l(ns(2,{from:e,to:h})):(i&&s.enterCallbacks[r]===i&&typeof h=="function"&&i.push(h),a())},u=o(()=>t.call(s&&s.instances[r],e,n,d));let f=Promise.resolve(u);t.length<3&&(f=f.then(d)),f.catch(h=>l(h))})}function So(t,e,n,s,r=o=>o()){const o=[];for(const i of t)for(const a in i.components){let l=i.components[a];if(!(e!=="beforeRouteEnter"&&!i.instances[a]))if(Zc(l)){const u=(l.__vccOpts||l)[e];u&&o.push(sn(u,n,s,i,a,r))}else{let d=l();o.push(()=>d.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${i.path}"`);const f=Qh(u)?u.default:u;i.mods[a]=u,i.components[a]=f;const p=(f.__vccOpts||f)[e];return p&&sn(p,n,s,i,a,r)()}))}}return o}function Ba(t){const e=_t(Zr),n=_t(du),s=Ne(()=>{const l=me(t.to);return e.resolve(l)}),r=Ne(()=>{const{matched:l}=s.value,{length:d}=l,u=l[d-1],f=n.matched;if(!u||!f.length)return-1;const h=f.findIndex(ts.bind(null,u));if(h>-1)return h;const p=qa(l[d-2]);return d>1&&qa(u)===p&&f[f.length-1].path!==p?f.findIndex(ts.bind(null,l[d-2])):h}),o=Ne(()=>r.value>-1&&Xm(n.params,s.value.params)),i=Ne(()=>r.value>-1&&r.value===n.matched.length-1&&ou(n.params,s.value.params));function a(l={}){if(Ym(l)){const d=e[me(t.replace)?"replace":"push"](me(t.to)).catch(Os);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:s,href:Ne(()=>s.value.href),isActive:o,isExactActive:i,navigate:a}}function Km(t){return t.length===1?t[0]:t}const Jm=ft({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Ba,setup(t,{slots:e}){const n=Ws(Ba(t)),{options:s}=_t(Zr),r=Ne(()=>({[Ha(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Ha(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&Km(e.default(n));return t.custom?o:Kc("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},o)}}}),Gm=Jm;function Ym(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Xm(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!kt(r)||r.length!==s.length||s.some((o,i)=>o!==r[i]))return!1}return!0}function qa(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Ha=(t,e,n)=>t??e??n,Qm=ft({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=_t(Xo),r=Ne(()=>t.route||s.value),o=_t(La,0),i=Ne(()=>{let d=me(o);const{matched:u}=r.value;let f;for(;(f=u[d])&&!f.components;)d++;return d}),a=Ne(()=>r.value.matched[i.value]);fr(La,Ne(()=>i.value+1)),fr(Vm,a),fr(Xo,r);const l=q();return ln(()=>[l.value,a.value,t.name],([d,u,f],[h,p,m])=>{u&&(u.instances[f]=d,p&&p!==u&&d&&d===h&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),d&&u&&(!p||!ts(u,p)||!h)&&(u.enterCallbacks[f]||[]).forEach(y=>y(d))},{flush:"post"}),()=>{const d=r.value,u=t.name,f=a.value,h=f&&f.components[u];if(!h)return Wa(n.default,{Component:h,route:d});const p=f.props[u],m=p?p===!0?d.params:typeof p=="function"?p(d):p:null,g=Kc(h,fe({},m,e,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return Wa(n.default,{Component:g,route:d})||g}}});function Wa(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const fu=Qm;function Zm(t){const e=Fm(t.routes,t),n=t.parseQuery||Wm,s=t.stringifyQuery||Fa,r=t.history,o=hs(),i=hs(),a=hs(),l=Xd(Yt);let d=Yt;Hn&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=xo.bind(null,R=>""+R),f=xo.bind(null,dm),h=xo.bind(null,Ns);function p(R,W){let B,V;return au(R)?(B=e.getRecordMatcher(R),V=W):V=R,e.addRoute(V,B)}function m(R){const W=e.getRecordMatcher(R);W&&e.removeRoute(W)}function y(){return e.getRoutes().map(R=>R.record)}function g(R){return!!e.getRecordMatcher(R)}function x(R,W){if(W=fe({},W||l.value),typeof R=="string"){const O=ko(n,R,W.path),E=e.resolve({path:O.path},W),S=r.createHref(O.fullPath);return fe(O,E,{params:h(E.params),hash:Ns(O.hash),redirectedFrom:void 0,href:S})}let B;if(R.path!=null)B=fe({},R,{path:ko(n,R.path,W.path).path});else{const O=fe({},R.params);for(const E in O)O[E]==null&&delete O[E];B=fe({},R,{params:f(O)}),W.params=f(W.params)}const V=e.resolve(B,W),ue=R.hash||"";V.params=u(h(V.params));const v=mm(s,fe({},R,{hash:lm(ue),path:V.path})),w=r.createHref(v);return fe({fullPath:v,hash:ue,query:s===Fa?zm(R.query):R.query||{}},V,{redirectedFrom:void 0,href:w})}function _(R){return typeof R=="string"?ko(n,R,l.value.path):fe({},R)}function b(R,W){if(d!==R)return ns(8,{from:W,to:R})}function C(R){return P(R)}function U(R){return C(fe(_(R),{replace:!0}))}function z(R){const W=R.matched[R.matched.length-1];if(W&&W.redirect){const{redirect:B}=W;let V=typeof B=="function"?B(R):B;return typeof V=="string"&&(V=V.includes("?")||V.includes("#")?V=_(V):{path:V},V.params={}),fe({query:R.query,hash:R.hash,params:V.path!=null?{}:R.params},V)}}function P(R,W){const B=d=x(R),V=l.value,ue=R.state,v=R.force,w=R.replace===!0,O=z(B);if(O)return P(fe(_(O),{state:typeof O=="object"?fe({},ue,O.state):ue,force:v,replace:w}),W||B);const E=B;E.redirectedFrom=W;let S;return!v&&pm(s,V,B)&&(S=ns(16,{to:E,from:V}),$e(V,V,!0,!1)),(S?Promise.resolve(S):ce(E,V)).catch(k=>Ft(k)?Ft(k,2)?k:Qe(k):Z(k,E,V)).then(k=>{if(k){if(Ft(k,2))return P(fe({replace:w},_(k.to),{state:typeof k.to=="object"?fe({},ue,k.to.state):ue,force:v}),W||E)}else k=Ie(E,V,!0,w,ue);return je(E,V,k),k})}function T(R,W){const B=b(R,W);return B?Promise.reject(B):Promise.resolve()}function j(R){const W=at.values().next().value;return W&&typeof W.runWithContext=="function"?W.runWithContext(R):R()}function ce(R,W){let B;const[V,ue,v]=ep(R,W);B=So(V.reverse(),"beforeRouteLeave",R,W);for(const O of V)O.leaveGuards.forEach(E=>{B.push(sn(E,R,W))});const w=T.bind(null,R,W);return B.push(w),Ze(B).then(()=>{B=[];for(const O of o.list())B.push(sn(O,R,W));return B.push(w),Ze(B)}).then(()=>{B=So(ue,"beforeRouteUpdate",R,W);for(const O of ue)O.updateGuards.forEach(E=>{B.push(sn(E,R,W))});return B.push(w),Ze(B)}).then(()=>{B=[];for(const O of v)if(O.beforeEnter)if(kt(O.beforeEnter))for(const E of O.beforeEnter)B.push(sn(E,R,W));else B.push(sn(O.beforeEnter,R,W));return B.push(w),Ze(B)}).then(()=>(R.matched.forEach(O=>O.enterCallbacks={}),B=So(v,"beforeRouteEnter",R,W,j),B.push(w),Ze(B))).then(()=>{B=[];for(const O of i.list())B.push(sn(O,R,W));return B.push(w),Ze(B)}).catch(O=>Ft(O,8)?O:Promise.reject(O))}function je(R,W,B){a.list().forEach(V=>j(()=>V(R,W,B)))}function Ie(R,W,B,V,ue){const v=b(R,W);if(v)return v;const w=W===Yt,O=Hn?history.state:{};B&&(V||w?r.replace(R.fullPath,fe({scroll:w&&O&&O.scroll},ue)):r.push(R.fullPath,ue)),l.value=R,$e(R,W,B,w),Qe()}let Te;function Fe(){Te||(Te=r.listen((R,W,B)=>{if(!Nt.listening)return;const V=x(R),ue=z(V);if(ue){P(fe(ue,{replace:!0,force:!0}),V).catch(Os);return}d=V;const v=l.value;Hn&&km(Aa(v.fullPath,B.delta),Qr()),ce(V,v).catch(w=>Ft(w,12)?w:Ft(w,2)?(P(fe(_(w.to),{force:!0}),V).then(O=>{Ft(O,20)&&!B.delta&&B.type===Us.pop&&r.go(-1,!1)}).catch(Os),Promise.reject()):(B.delta&&r.go(-B.delta,!1),Z(w,V,v))).then(w=>{w=w||Ie(V,v,!1),w&&(B.delta&&!Ft(w,8)?r.go(-B.delta,!1):B.type===Us.pop&&Ft(w,20)&&r.go(-1,!1)),je(V,v,w)}).catch(Os)}))}let it=hs(),oe=hs(),Q;function Z(R,W,B){Qe(R);const V=oe.list();return V.length?V.forEach(ue=>ue(R,W,B)):console.error(R),Promise.reject(R)}function Xe(){return Q&&l.value!==Yt?Promise.resolve():new Promise((R,W)=>{it.add([R,W])})}function Qe(R){return Q||(Q=!R,Fe(),it.list().forEach(([W,B])=>R?B(R):W()),it.reset()),R}function $e(R,W,B,V){const{scrollBehavior:ue}=t;if(!Hn||!ue)return Promise.resolve();const v=!B&&Sm(Aa(R.fullPath,0))||(V||!B)&&history.state&&history.state.scroll||null;return Vs().then(()=>ue(R,W,v)).then(w=>w&&xm(w)).catch(w=>Z(w,R,W))}const Ce=R=>r.go(R);let ht;const at=new Set,Nt={currentRoute:l,listening:!0,addRoute:p,removeRoute:m,clearRoutes:e.clearRoutes,hasRoute:g,getRoutes:y,resolve:x,options:t,push:C,replace:U,go:Ce,back:()=>Ce(-1),forward:()=>Ce(1),beforeEach:o.add,beforeResolve:i.add,afterEach:a.add,onError:oe.add,isReady:Xe,install(R){const W=this;R.component("RouterLink",Gm),R.component("RouterView",fu),R.config.globalProperties.$router=W,Object.defineProperty(R.config.globalProperties,"$route",{enumerable:!0,get:()=>me(l)}),Hn&&!ht&&l.value===Yt&&(ht=!0,C(r.location).catch(ue=>{}));const B={};for(const ue in Yt)Object.defineProperty(B,ue,{get:()=>l.value[ue],enumerable:!0});R.provide(Zr,W),R.provide(du,cc(B)),R.provide(Xo,l);const V=R.unmount;at.add(R),R.unmount=function(){at.delete(R),at.size<1&&(d=Yt,Te&&Te(),Te=null,l.value=Yt,ht=!1,Q=!1),V()}}};function Ze(R){return R.reduce((W,B)=>W.then(()=>j(B)),Promise.resolve())}return Nt}function ep(t,e){const n=[],s=[],r=[],o=Math.max(e.matched.length,t.matched.length);for(let i=0;i<o;i++){const a=e.matched[i];a&&(t.matched.find(d=>ts(d,a))?s.push(a):n.push(a));const l=t.matched[i];l&&(e.matched.find(d=>ts(d,l))||r.push(l))}return[n,s,r]}function eo(){return _t(Zr)}const tp="modulepreload",np=function(t){return"/APP_Dnotas/"+t},za={},os=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=np(l),l in za)return;za[l]=!0;const d=l.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":tp,d||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),d)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})},sp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>os(async()=>{const{default:s}=await Promise.resolve().then(()=>is);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)};class Mi extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class Va extends Mi{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ka extends Mi{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ja extends Mi{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Qo;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Qo||(Qo={}));var rp=function(t,e,n,s){function r(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{d(s.next(u))}catch(f){i(f)}}function l(u){try{d(s.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):r(u.value).then(a,l)}d((s=s.apply(t,e||[])).next())})};class op{constructor(e,{headers:n={},customFetch:s,region:r=Qo.Any}={}){this.url=e,this.headers=n,this.region=r,this.fetch=sp(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return rp(this,arguments,void 0,function*(n,s={}){var r;try{const{headers:o,method:i,body:a,signal:l}=s;let d={},{region:u}=s;u||(u=this.region);const f=new URL(`${this.url}/${n}`);u&&u!=="any"&&(d["x-region"]=u,f.searchParams.set("forceFunctionRegion",u));let h;a&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",h=a):typeof a=="string"?(d["Content-Type"]="text/plain",h=a):typeof FormData<"u"&&a instanceof FormData?h=a:(d["Content-Type"]="application/json",h=JSON.stringify(a)));const p=yield this.fetch(f.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),o),body:h,signal:l}).catch(x=>{throw x.name==="AbortError"?x:new Va(x)}),m=p.headers.get("x-relay-error");if(m&&m==="true")throw new Ka(p);if(!p.ok)throw new Ja(p);let y=((r=p.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return y==="application/json"?g=yield p.json():y==="application/octet-stream"?g=yield p.blob():y==="text/event-stream"?g=p:y==="multipart/form-data"?g=yield p.formData():g=yield p.text(),{data:g,error:null,response:p}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new Va(o)}:{data:null,error:o,response:o instanceof Ja||o instanceof Ka?o.context:void 0}}})}}var gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ip(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var r=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:function(){return t[s]}})}),n}var st={},Di={},to={},Js={},no={},so={},ap=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ss=ap();const lp=ss.fetch,hu=ss.fetch.bind(ss),mu=ss.Headers,cp=ss.Request,up=ss.Response,is=Object.freeze(Object.defineProperty({__proto__:null,Headers:mu,Request:cp,Response:up,default:hu,fetch:lp},Symbol.toStringTag,{value:"Module"})),dp=ip(is);var ro={};Object.defineProperty(ro,"__esModule",{value:!0});let fp=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ro.default=fp;var pu=gt&&gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(so,"__esModule",{value:!0});const hp=pu(dp),mp=pu(ro);let pp=class{constructor(e){var n,s;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(s=e.isMaybeSingle)!==null&&s!==void 0?s:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=hp.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let r=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,a,l,d;let u=null,f=null,h=null,p=o.status,m=o.statusText;if(o.ok){if(this.method!=="HEAD"){const _=await o.text();_===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((i=this.headers.get("Accept"))===null||i===void 0)&&i.includes("application/vnd.pgrst.plan+text"))?f=_:f=JSON.parse(_))}const g=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),x=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,p=406,m="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const g=await o.text();try{u=JSON.parse(g),Array.isArray(u)&&o.status===404&&(f=[],u=null,p=200,m="OK")}catch{o.status===404&&g===""?(p=204,m="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((d=u==null?void 0:u.details)===null||d===void 0)&&d.includes("0 rows"))&&(u=null,p=200,m="OK"),u&&this.shouldThrowOnError)throw new mp.default(u)}return{error:u,data:f,count:h,status:p,statusText:m}});return this.shouldThrowOnError||(r=r.catch(o=>{var i,a,l;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o==null?void 0:o.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,n)}returns(){return this}overrideTypes(){return this}};so.default=pp;var gp=gt&&gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(no,"__esModule",{value:!0});const vp=gp(so);let yp=class extends vp.default{select(e){let n=!1;const s=(e??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:s,foreignTable:r,referencedTable:o=r}={}){const i=o?`${o}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:s=n}={}){const r=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,n,{foreignTable:s,referencedTable:r=s}={}){const o=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(i,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:s=!1,buffers:r=!1,wal:o=!1,format:i="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,s?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),d=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${d}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};no.default=yp;var bp=gt&&gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Js,"__esModule",{value:!0});const wp=bp(no);let _p=class extends wp.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const s=Array.from(new Set(n)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:s,type:r}={}){let o="";r==="plain"?o="pl":r==="phrase"?o="ph":r==="websearch"&&(o="w");const i=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${o}fts${i}.${n}`),this}match(e){return Object.entries(e).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(e,n,s){return this.url.searchParams.append(e,`not.${n}.${s}`),this}or(e,{foreignTable:n,referencedTable:s=n}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,n,s){return this.url.searchParams.append(e,`${n}.${s}`),this}};Js.default=_p;var xp=gt&&gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(to,"__esModule",{value:!0});const ms=xp(Js);let kp=class{constructor(e,{headers:n={},schema:s,fetch:r}){this.url=e,this.headers=new Headers(n),this.schema=s,this.fetch=r}select(e,n){const{head:s=!1,count:r}=n??{},o=s?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new ms.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:s=!0}={}){var r;const o="POST";if(n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(i.length>0){const a=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ms.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:s=!1,count:r,defaultToNull:o=!0}={}){var i;const a="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),r&&this.headers.append("Prefer",`count=${r}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(l.length>0){const d=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new ms.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:n}={}){var s;const r="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new ms.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:e}={}){var n;const s="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new ms.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};to.default=kp;var gu=gt&&gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Di,"__esModule",{value:!0});const Sp=gu(to),Ep=gu(Js);let Op=class vu{constructor(e,{headers:n={},schema:s,fetch:r}={}){this.url=e,this.headers=new Headers(n),this.schemaName=s,this.fetch=r}from(e){const n=new URL(`${this.url}/${e}`);return new Sp.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new vu(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:s=!1,get:r=!1,count:o}={}){var i;let a;const l=new URL(`${this.url}/rpc/${e}`);let d;s||r?(a=s?"HEAD":"GET",Object.entries(n).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{l.searchParams.append(f,h)})):(a="POST",d=n);const u=new Headers(this.headers);return o&&u.set("Prefer",`count=${o}`),new Ep.default({method:a,url:l,headers:u,schema:this.schemaName,body:d,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};Di.default=Op;var as=gt&&gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(st,"__esModule",{value:!0});st.PostgrestError=st.PostgrestBuilder=st.PostgrestTransformBuilder=st.PostgrestFilterBuilder=st.PostgrestQueryBuilder=st.PostgrestClient=void 0;const yu=as(Di);st.PostgrestClient=yu.default;const bu=as(to);st.PostgrestQueryBuilder=bu.default;const wu=as(Js);st.PostgrestFilterBuilder=wu.default;const _u=as(no);st.PostgrestTransformBuilder=_u.default;const xu=as(so);st.PostgrestBuilder=xu.default;const ku=as(ro);st.PostgrestError=ku.default;var Cp=st.default={PostgrestClient:yu.default,PostgrestQueryBuilder:bu.default,PostgrestFilterBuilder:wu.default,PostgrestTransformBuilder:_u.default,PostgrestBuilder:xu.default,PostgrestError:ku.default};const{PostgrestClient:Tp,PostgrestQueryBuilder:eE,PostgrestFilterBuilder:tE,PostgrestTransformBuilder:nE,PostgrestBuilder:sE,PostgrestError:rE}=Cp;class $p{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,r=parseInt(s.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Ap="2.75.0",Rp=`realtime-js/${Ap}`,Pp="1.0.0",Zo=1e4,jp=1e3,Ip=100;var Ts;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ts||(Ts={}));var Ue;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ue||(Ue={}));var bt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(bt||(bt={}));var ei;(function(t){t.websocket="websocket"})(ei||(ei={}));var xn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(xn||(xn={}));class Mp{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,n,s)}_decodeBroadcast(e,n,s){const r=n.getUint8(1),o=n.getUint8(2);let i=this.HEADER_LENGTH+2;const a=s.decode(e.slice(i,i+r));i=i+r;const l=s.decode(e.slice(i,i+o));i=i+o;const d=JSON.parse(s.decode(e.slice(i,e.byteLength)));return{ref:null,topic:a,event:l,payload:d}}}class Su{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ee;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ee||(Ee={}));const Ga=(t,e,n={})=>{var s;const r=(s=n.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((o,i)=>(o[i]=Dp(i,t,e,r),o),{}):{}},Dp=(t,e,n,s)=>{const r=e.find(a=>a.name===t),o=r==null?void 0:r.type,i=n[t];return o&&!s.includes(o)?Eu(o,i):ti(i)},Eu=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Lp(e,n)}switch(t){case Ee.bool:return Np(e);case Ee.float4:case Ee.float8:case Ee.int2:case Ee.int4:case Ee.int8:case Ee.numeric:case Ee.oid:return Up(e);case Ee.json:case Ee.jsonb:return Fp(e);case Ee.timestamp:return Bp(e);case Ee.abstime:case Ee.date:case Ee.daterange:case Ee.int4range:case Ee.int8range:case Ee.money:case Ee.reltime:case Ee.text:case Ee.time:case Ee.timestamptz:case Ee.timetz:case Ee.tsrange:case Ee.tstzrange:return ti(e);default:return ti(e)}},ti=t=>t,Np=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Up=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Fp=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Lp=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let o;const i=t.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>Eu(e,a))}return t},Bp=t=>typeof t=="string"?t.replace(" ","T"):t,Ou=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Eo{constructor(e,n,s={},r=Zo){this.channel=e,this.event=n,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ya;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ya||(Ya={}));class $s{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$s.syncState(this.state,r,o,i),this.pendingDiffs.forEach(l=>{this.state=$s.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},r=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=$s.syncDiff(this.state,r,o,i),a())}),this.onJoin((r,o,i)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:o,newPresences:i})}),this.onLeave((r,o,i)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,r){const o=this.cloneDeep(e),i=this.transformState(n),a={},l={};return this.map(o,(d,u)=>{i[d]||(l[d]=u)}),this.map(i,(d,u)=>{const f=o[d];if(f){const h=u.map(g=>g.presence_ref),p=f.map(g=>g.presence_ref),m=u.filter(g=>p.indexOf(g.presence_ref)<0),y=f.filter(g=>h.indexOf(g.presence_ref)<0);m.length>0&&(a[d]=m),y.length>0&&(l[d]=y)}else a[d]=u}),this.syncDiff(o,{joins:a,leaves:l},s,r)}static syncDiff(e,n,s,r){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(o,(a,l)=>{var d;const u=(d=e[a])!==null&&d!==void 0?d:[];if(e[a]=this.cloneDeep(l),u.length>0){const f=e[a].map(p=>p.presence_ref),h=u.filter(p=>f.indexOf(p.presence_ref)<0);e[a].unshift(...h)}s(a,u,l)}),this.map(i,(a,l)=>{let d=e[a];if(!d)return;const u=l.map(f=>f.presence_ref);d=d.filter(f=>u.indexOf(f.presence_ref)<0),e[a]=d,r(a,d,l),d.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const r=e[s];return"metas"in r?n[s]=r.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[s]=r,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Xa;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Xa||(Xa={}));var As;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(As||(As={}));var qt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(qt||(qt={}));class Ni{constructor(e,n={config:{}},s){var r,o;if(this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=Ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Eo(this,bt.join,this.params,this.timeout),this.rejoinTimer=new Su(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ue.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bt.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new $s(this),this.broadcastEndpointURL=Ou(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var s,r,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ue.closed){const{config:{broadcast:i,presence:a,private:l}}=this.params,d=(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(p=>p.filter))!==null&&r!==void 0?r:[],u=!!this.bindings[As.PRESENCE]&&this.bindings[As.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},h={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:d,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(qt.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(qt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket.setAuth(),p===void 0){e==null||e(qt.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,g=(m=y==null?void 0:y.length)!==null&&m!==void 0?m:0,x=[];for(let _=0;_<g;_++){const b=y[_],{filter:{event:C,schema:U,table:z,filter:P}}=b,T=p&&p[_];if(T&&T.event===C&&T.schema===U&&T.table===z&&T.filter===P)x.push(Object.assign(Object.assign({},b),{id:T.id}));else{this.unsubscribe(),this.state=Ue.errored,e==null||e(qt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(qt.SUBSCRIBED);return}}).receive("error",p=>{this.state=Ue.errored,e==null||e(qt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(qt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===Ue.joined&&e===As.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,s)}async send(e,n={}){var s,r;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:i}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((r=d.body)===null||r===void 0?void 0:r.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,l;const d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ue.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bt.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(r=>{s=new Eo(this,bt.leave,{},e),s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ue.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const r=new AbortController,o=setTimeout(()=>r.abort(),s),i=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(o),i}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Eo(this,e,n,s);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Ip){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var r,o;const i=e.toLocaleLowerCase(),{close:a,error:l,leave:d,join:u}=bt;if(s&&[a,l,d,u].indexOf(i)>=0&&s!==this._joinRef())return;let h=this._onMessage(i,n,s);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(p=>{var m,y,g;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((g=(y=p.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===i}).map(p=>p.callback(h,s)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var m,y,g,x,_,b;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const C=p.id,U=(m=p.filter)===null||m===void 0?void 0:m.event;return C&&((y=n.ids)===null||y===void 0?void 0:y.includes(C))&&(U==="*"||(U==null?void 0:U.toLocaleLowerCase())===((g=n.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const C=(_=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return C==="*"||C===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:y,table:g,commit_timestamp:x,type:_,errors:b}=m;h=Object.assign(Object.assign({},{schema:y,table:g,commit_timestamp:x,eventType:_,new:{},old:{},errors:b}),this._getPayloadRecords(m))}p.callback(h,s)})}_isClosed(){return this.state===Ue.closed}_isJoined(){return this.state===Ue.joined}_isJoining(){return this.state===Ue.joining}_isLeaving(){return this.state===Ue.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const r=e.toLocaleLowerCase(),o={type:r,filter:n,callback:s};return this.bindings[r]?this.bindings[r].push(o):this.bindings[r]=[o],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(r=>{var o;return!(((o=r.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===s&&Ni.isEqual(r.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(bt.close,{},e)}_onError(e){this._on(bt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ue.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Ga(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Ga(e.columns,e.old_record)),n}}const Oo=()=>{},or={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},qp=[1e3,2e3,5e3,1e4],Hp=1e4,Wp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zp{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zo,this.transport=null,this.heartbeatIntervalMs=or.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Oo,this.ref=0,this.reconnectTimer=null,this.logger=Oo,this.conn=null,this.sendBuffer=[],this.serializer=new Mp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>{let o;return r?o=r:typeof fetch>"u"?o=(...i)=>os(async()=>{const{default:a}=await Promise.resolve().then(()=>is);return{default:a}},void 0).then(({default:a})=>a(...i)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...i)=>o(...i)},!(!((s=n==null?void 0:n.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${ei.websocket}`,this.httpEndpoint=Ou(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=$p.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Pp}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Ts.connecting:return xn.Connecting;case Ts.open:return xn.Open;case Ts.closing:return xn.Closing;default:return xn.Closed}}isConnected(){return this.connectionState()===xn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,r=this.getChannels().find(o=>o.topic===s);if(r)return r;{const o=new Ni(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:s,payload:r,ref:o}=e,i=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${s} (${o})`,r),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(jp,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},or.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:r,payload:o,ref:i}=n,a=i?`(${i})`:"",l=o.status||"";this.log("receive",`${l} ${s} ${r} ${a}`.trim(),o),this.channels.filter(d=>d._isMember(s)).forEach(d=>d._trigger(r,o,i)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(bt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${e}${s}${r}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([Wp],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const r={access_token:n,version:Rp};n&&s.updateJoinPayload(r),s.joinedOnce&&s._isJoined()&&s._push(bt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Su(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},or.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,r,o,i,a,l,d,u;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:Zo,this.heartbeatIntervalMs=(r=e==null?void 0:e.heartbeatIntervalMs)!==null&&r!==void 0?r:or.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=e==null?void 0:e.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Oo,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:f=>qp[f-1]||Hp,this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(f,h)=>h(JSON.stringify(f)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Ui extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function De(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Vp extends Ui{constructor(e,n,s){super(e),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ni extends Ui{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Kp=function(t,e,n,s){function r(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{d(s.next(u))}catch(f){i(f)}}function l(u){try{d(s.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):r(u.value).then(a,l)}d((s=s.apply(t,e||[])).next())})};const Cu=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>os(async()=>{const{default:s}=await Promise.resolve().then(()=>is);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},Jp=()=>Kp(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield os(()=>Promise.resolve().then(()=>is),void 0)).Response:Response}),si=t=>{if(Array.isArray(t))return t.map(n=>si(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const r=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[r]=si(s)}),e},Gp=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Rn=function(t,e,n,s){function r(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{d(s.next(u))}catch(f){i(f)}}function l(u){try{d(s.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):r(u.value).then(a,l)}d((s=s.apply(t,e||[])).next())})};const Co=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Yp=(t,e,n)=>Rn(void 0,void 0,void 0,function*(){const s=yield Jp();t instanceof s&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const o=t.status||500,i=(r==null?void 0:r.statusCode)||o+"";e(new Vp(Co(r),o,i))}).catch(r=>{e(new ni(Co(r),r))}):e(new ni(Co(t),t))}),Xp=(t,e,n,s)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!s?r:(Gp(s)?(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(s)):r.body=s,e!=null&&e.duplex&&(r.duplex=e.duplex),Object.assign(Object.assign({},r),n))};function Gs(t,e,n,s,r,o){return Rn(this,void 0,void 0,function*(){return new Promise((i,a)=>{t(n,Xp(e,s,r,o)).then(l=>{if(!l.ok)throw l;return s!=null&&s.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>Yp(l,a,s))})})}function Pr(t,e,n,s){return Rn(this,void 0,void 0,function*(){return Gs(t,"GET",e,n,s)})}function Rt(t,e,n,s,r){return Rn(this,void 0,void 0,function*(){return Gs(t,"POST",e,s,r,n)})}function ri(t,e,n,s,r){return Rn(this,void 0,void 0,function*(){return Gs(t,"PUT",e,s,r,n)})}function Qp(t,e,n,s){return Rn(this,void 0,void 0,function*(){return Gs(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function Tu(t,e,n,s,r){return Rn(this,void 0,void 0,function*(){return Gs(t,"DELETE",e,s,r,n)})}var Zp=function(t,e,n,s){function r(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{d(s.next(u))}catch(f){i(f)}}function l(u){try{d(s.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):r(u.value).then(a,l)}d((s=s.apply(t,e||[])).next())})};class eg{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return Zp(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(De(e))return{data:null,error:e};throw e}})}}var tg=function(t,e,n,s){function r(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{d(s.next(u))}catch(f){i(f)}}function l(u){try{d(s.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):r(u.value).then(a,l)}d((s=s.apply(t,e||[])).next())})};class ng{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new eg(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return tg(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(De(e))return{data:null,error:e};throw e}})}}var nt=function(t,e,n,s){function r(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{d(s.next(u))}catch(f){i(f)}}function l(u){try{d(s.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):r(u.value).then(a,l)}d((s=s.apply(t,e||[])).next())})};const sg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qa={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class rg{constructor(e,n={},s,r){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=s,this.fetch=Cu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,s,r){return nt(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Qa),r);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&s instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",s)):typeof FormData<"u"&&s instanceof FormData?(o=s,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=s,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r!=null&&r.headers&&(a=Object.assign(Object.assign({},a),r.headers));const d=this._removeEmptyFolders(n),u=this._getFinalPath(d),f=yield(e=="PUT"?ri:Rt)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:d,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(De(o))return{data:null,error:o};throw o}})}upload(e,n,s){return nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,s)})}uploadToSignedUrl(e,n,s,r){return nt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",n);try{let l;const d=Object.assign({upsert:Qa.upsert},r),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",d.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",d.cacheControl)):(l=s,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const f=yield ri(this.fetch,a.toString(),l,{headers:u});return{data:{path:o,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(De(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return nt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const r=Object.assign({},this.headers);n!=null&&n.upsert&&(r["x-upsert"]="true");const o=yield Rt(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:r}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new Ui("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:a},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(De(s))return{data:null,error:s};throw s}})}update(e,n,s){return nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,s)})}move(e,n,s){return nt(this,void 0,void 0,function*(){try{return{data:yield Rt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}copy(e,n,s){return nt(this,void 0,void 0,function*(){try{return{data:{path:(yield Rt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,s){return nt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),o=yield Rt(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}createSignedUrls(e,n,s){return nt(this,void 0,void 0,function*(){try{const r=yield Rt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:r.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}download(e,n){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=o?`?${o}`:"",a=this._getFinalPath(e),l=()=>Pr(this.fetch,`${this.url}/${r}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new ng(l,this.shouldThrowOnError)}info(e){return nt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const s=yield Pr(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:si(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(De(s))return{data:null,error:s};throw s}})}exists(e){return nt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Qp(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(De(s)&&s instanceof ni){const r=s.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,n){const s=this._getFinalPath(e),r=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&r.push(o);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&r.push(l);let d=r.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${d}`)}}}remove(e){return nt(this,void 0,void 0,function*(){try{return{data:yield Tu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}})}list(e,n,s){return nt(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},sg),n),{prefix:e||""});return{data:yield Rt(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}listV2(e,n){return nt(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield Rt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(De(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const og="2.75.0",ig={"X-Client-Info":`storage-js/${og}`};var Mn=function(t,e,n,s){function r(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{d(s.next(u))}catch(f){i(f)}}function l(u){try{d(s.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):r(u.value).then(a,l)}d((s=s.apply(t,e||[])).next())})};class ag{constructor(e,n={},s,r){this.shouldThrowOnError=!1;const o=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ig),n),this.fetch=Cu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Mn(this,void 0,void 0,function*(){try{return{data:yield Pr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(De(e))return{data:null,error:e};throw e}})}getBucket(e){return Mn(this,void 0,void 0,function*(){try{return{data:yield Pr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}})}createBucket(e){return Mn(this,arguments,void 0,function*(n,s={public:!1}){try{return{data:yield Rt(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Mn(this,void 0,void 0,function*(){try{return{data:yield ri(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(De(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Mn(this,void 0,void 0,function*(){try{return{data:yield Rt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Mn(this,void 0,void 0,function*(){try{return{data:yield Tu(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}})}}class lg extends ag{constructor(e,n={},s,r){super(e,n,s,r)}from(e){return new rg(this.url,this.headers,e,this.fetch)}}const cg="2.75.0";let ys="";typeof Deno<"u"?ys="deno":typeof document<"u"?ys="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ys="react-native":ys="node";const ug={"X-Client-Info":`supabase-js-${ys}/${cg}`},dg={headers:ug},fg={schema:"public"},hg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mg={};var pg=function(t,e,n,s){function r(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{d(s.next(u))}catch(f){i(f)}}function l(u){try{d(s.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):r(u.value).then(a,l)}d((s=s.apply(t,e||[])).next())})};const gg=t=>{let e;return t?e=t:typeof fetch>"u"?e=hu:e=fetch,(...n)=>e(...n)},vg=()=>typeof Headers>"u"?mu:Headers,yg=(t,e,n)=>{const s=gg(n),r=vg();return(o,i)=>pg(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let d=new r(i==null?void 0:i.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${l}`),s(o,Object.assign(Object.assign({},i),{headers:d}))})};var bg=function(t,e,n,s){function r(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{d(s.next(u))}catch(f){i(f)}}function l(u){try{d(s.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):r(u.value).then(a,l)}d((s=s.apply(t,e||[])).next())})};function wg(t){return t.endsWith("/")?t:t+"/"}function _g(t,e){var n,s;const{db:r,auth:o,realtime:i,global:a}=t,{db:l,auth:d,realtime:u,global:f}=e,h={db:Object.assign(Object.assign({},l),r),auth:Object.assign(Object.assign({},d),o),realtime:Object.assign(Object.assign({},u),i),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(s=a==null?void 0:a.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>bg(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function xg(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(wg(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const $u="2.75.0",Wn=30*1e3,oi=3,To=oi*Wn,kg="http://localhost:9999",Sg="supabase.auth.token",Eg={"X-Client-Info":`gotrue-js/${$u}`},ii="X-Supabase-Api-Version",Au={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Og=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Cg=10*60*1e3;class Fs extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function G(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Tg extends Fs{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function $g(t){return G(t)&&t.name==="AuthApiError"}class kn extends Fs{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class hn extends Fs{constructor(e,n,s,r){super(e,s,r),this.name=n,this.status=s}}class en extends hn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ag(t){return G(t)&&t.name==="AuthSessionMissingError"}class Dn extends hn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ir extends hn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ar extends hn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Rg(t){return G(t)&&t.name==="AuthImplicitGrantRedirectError"}class Za extends hn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ai extends hn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function $o(t){return G(t)&&t.name==="AuthRetryableFetchError"}class el extends hn{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class li extends hn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const jr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),tl=` 	
\r=`.split(""),Pg=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<tl.length;e+=1)t[tl[e].charCodeAt(0)]=-2;for(let e=0;e<jr.length;e+=1)t[jr[e].charCodeAt(0)]=e;return t})();function nl(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(jr[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(jr[s]),e.queuedBits-=6}}function Ru(t,e,n){const s=Pg[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function sl(t){const e=[],n=i=>{e.push(String.fromCodePoint(i))},s={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},o=i=>{Mg(i,s,n)};for(let i=0;i<t.length;i+=1)Ru(t.charCodeAt(i),r,o);return e.join("")}function jg(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Ig(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const r=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}jg(s,e)}}function Mg(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if(!(t>>7-s&1)){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Qn(t){const e=[],n={queue:0,queuedBits:0},s=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)Ru(t.charCodeAt(r),n,s);return new Uint8Array(e)}function Dg(t){const e=[];return Ig(t,n=>e.push(n)),new Uint8Array(e)}function Sn(t){const e=[],n={queue:0,queuedBits:0},s=r=>{e.push(r)};return t.forEach(r=>nl(r,n,s)),nl(null,n,s),e.join("")}function Ng(t){return Math.round(Date.now()/1e3)+t}function Ug(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ut=()=>typeof window<"u"&&typeof document<"u",gn={tested:!1,writable:!1},Pu=()=>{if(!ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gn.tested)return gn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),gn.tested=!0,gn.writable=!0}catch{gn.tested=!0,gn.writable=!1}return gn.writable};function Fg(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,o)=>{e[o]=r})}catch{}return n.searchParams.forEach((s,r)=>{e[r]=s}),e}const ju=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>os(async()=>{const{default:s}=await Promise.resolve().then(()=>is);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},Lg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",zn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},vn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Xt=async(t,e)=>{await t.removeItem(e)};class oo{constructor(){this.promise=new oo.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}oo.promiseConstructor=Promise;function Ao(t){const e=t.split(".");if(e.length!==3)throw new li("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!Og.test(e[s]))throw new li("JWT not in base64url format");return{header:JSON.parse(sl(e[0])),payload:JSON.parse(sl(e[1])),signature:Qn(e[2]),raw:{header:e[0],payload:e[1]}}}async function Bg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function qg(t,e){return new Promise((s,r)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await t(o);if(!e(o,null,i)){s(i);return}}catch(i){if(!e(o,i)){r(i);return}}})()})}function Hg(t){return("0"+t.toString(16)).substr(-2)}function Wg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let r="";for(let o=0;o<56;o++)r+=n.charAt(Math.floor(Math.random()*s));return r}return crypto.getRandomValues(e),Array.from(e,Hg).join("")}async function zg(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(s);return Array.from(r).map(o=>String.fromCharCode(o)).join("")}async function Vg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await zg(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Nn(t,e,n=!1){const s=Wg();let r=s;n&&(r+="/PASSWORD_RECOVERY"),await zn(t,`${e}-code-verifier`,r);const o=await Vg(s);return[o,s===o?"plain":"s256"]}const Kg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Jg(t){const e=t.headers.get(ii);if(!e||!e.match(Kg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Gg(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Yg(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Xg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Un(t){if(!Xg.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ro(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function rl(t){return JSON.parse(JSON.stringify(t))}var Qg=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};const bn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Zg=[502,503,504];async function ol(t){var e;if(!Lg(t))throw new ai(bn(t),0);if(Zg.includes(t.status))throw new ai(bn(t),t.status);let n;try{n=await t.json()}catch(o){throw new kn(bn(o),o)}let s;const r=Jg(t);if(r&&r.getTime()>=Au["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new el(bn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new en}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new el(bn(n),t.status,n.weak_password.reasons);throw new Tg(bn(n),t.status||500,s)}const e0=(t,e,n,s)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),n))};async function te(t,e,n,s){var r;const o=Object.assign({},s==null?void 0:s.headers);o[ii]||(o[ii]=Au["2024-01-01"].name),s!=null&&s.jwt&&(o.Authorization=`Bearer ${s.jwt}`);const i=(r=s==null?void 0:s.query)!==null&&r!==void 0?r:{};s!=null&&s.redirectTo&&(i.redirect_to=s.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await t0(t,e,n+a,{headers:o,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function t0(t,e,n,s,r,o){const i=e0(e,s,r,o);let a;try{a=await t(n,Object.assign({},i))}catch(l){throw console.error(l),new ai(bn(l),0)}if(a.ok||await ol(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(l){await ol(l)}}function yt(t){var e;let n=null;r0(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Ng(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function il(t){const e=yt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function rn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function n0(t){return{data:t,error:null}}function s0(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:r,verification_type:o}=t,i=Qg(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:s,redirect_to:r,verification_type:o},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function al(t){return t}function r0(t){return t.access_token&&t.refresh_token&&t.expires_in}const Po=["global","local","others"];var o0=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};class i0{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=ju(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Po[0]){if(Po.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Po.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(G(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:rn})}catch(s){if(G(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=o0(e,["options"]),r=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(r.new_email=s==null?void 0:s.newEmail,delete r.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:s0,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(G(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:rn})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,r,o,i,a,l;try{const d={nextPage:null,lastPage:0,total:0},u=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(o=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:""},xform:al});if(u.error)throw u.error;const f=await u.json(),h=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(m.split(";")[1].split("=")[1]);d[`${g}Page`]=y}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(G(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){Un(e);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:rn})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Un(e);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:rn})}catch(s){if(G(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){Un(e);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:rn})}catch(s){if(G(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Un(e.userId);try{const{data:n,error:s}=await te(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:s}}catch(n){if(G(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Un(e.userId),Un(e.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(G(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,s,r,o,i,a,l;try{const d={nextPage:null,lastPage:0,total:0},u=await te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(o=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:""},xform:al});if(u.error)throw u.error;const f=await u.json(),h=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(m.split(";")[1].split("=")[1]);d[`${g}Page`]=y}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(G(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(G(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(G(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(G(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(G(n))return{data:null,error:n};throw n}}}function ll(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Fn={debug:!!(globalThis&&Pu()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Iu extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class a0 extends Iu{}async function l0(t,e,n){Fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Fn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async r=>{if(r){Fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await n()}finally{Fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw Fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new a0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Fn.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function c0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Mu(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function u0(t){return parseInt(t,16)}function d0(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function f0(t){var e;const{chainId:n,domain:s,expirationTime:r,issuedAt:o=new Date,nonce:i,notBefore:a,requestId:l,resources:d,scheme:u,uri:f,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=Mu(t.address),m=u?`${u}://${s}`:s,y=t.statement?`${t.statement}
`:"",g=`${m} wants you to sign in with your Ethereum account:
${p}

${y}`;let x=`URI: ${f}
Version: ${h}
Chain ID: ${n}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(r&&(x+=`
Expiration Time: ${r.toISOString()}`),a&&(x+=`
Not Before: ${a.toISOString()}`),l&&(x+=`
Request ID: ${l}`),d){let _=`
Resources:`;for(const b of d){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);_+=`
- ${b}`}x+=_}return`${g}
${x}`}class Me extends Error{constructor({message:e,code:n,cause:s,name:r}){var o;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(o=r??(s instanceof Error?s.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Ir extends Me{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function h0({error:t,options:e}){var n,s,r;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Me({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Me({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Me({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Me({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Me({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Me({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Me({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Me({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(Nu(i)){if(o.rp.id!==i)return new Me({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Me({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Me({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function m0({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Me({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Me({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(Nu(s)){if(n.rpId!==s)return new Me({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Me({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var Du=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};class p0{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const g0=new p0;function v0(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:s}=t,r=Du(t,["challenge","user","excludeCredentials"]),o=Qn(e).buffer,i=Object.assign(Object.assign({},n),{id:Qn(n.id).buffer}),a=Object.assign(Object.assign({},r),{challenge:o,user:i});if(s&&s.length>0){a.excludeCredentials=new Array(s.length);for(let l=0;l<s.length;l++){const d=s[l];a.excludeCredentials[l]=Object.assign(Object.assign({},d),{id:Qn(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return a}function y0(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,s=Du(t,["challenge","allowCredentials"]),r=Qn(e).buffer,o=Object.assign(Object.assign({},s),{challenge:r});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let i=0;i<n.length;i++){const a=n[i];o.allowCredentials[i]=Object.assign(Object.assign({},a),{id:Qn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function b0(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Sn(new Uint8Array(t.response.attestationObject)),clientDataJSON:Sn(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function w0(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,s=t.getClientExtensionResults(),r=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Sn(new Uint8Array(r.authenticatorData)),clientDataJSON:Sn(new Uint8Array(r.clientDataJSON)),signature:Sn(new Uint8Array(r.signature)),userHandle:r.userHandle?Sn(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Nu(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function cl(){var t,e;return!!(ut()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function _0(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ir("Browser returned unexpected credential type",e)}:{data:null,error:new Ir("Empty credential response",e)}}catch(e){return{data:null,error:h0({error:e,options:t})}}}async function x0(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ir("Browser returned unexpected credential type",e)}:{data:null,error:new Ir("Empty credential response",e)}}catch(e){return{data:null,error:m0({error:e,options:t})}}}const k0={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},S0={userVerification:"preferred",hints:["security-key"]};function Mr(...t){const e=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),n=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),s={};for(const r of t)if(r)for(const o in r){const i=r[o];if(i!==void 0)if(Array.isArray(i))s[o]=i;else if(n(i))s[o]=i;else if(e(i)){const a=s[o];e(a)?s[o]=Mr(a,i):s[o]=Mr(i)}else s[o]=i}return s}function E0(t,e){return Mr(k0,t,e||{})}function O0(t,e){return Mr(S0,t,e||{})}class C0{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:s,signal:r},o){try{const{data:i,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!i)return{data:null,error:a};const l=r??g0.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:d}=i.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${s}`),d.displayName||(d.displayName=d.name)}switch(i.webauthn.type){case"create":{const d=E0(i.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:u,error:f}=await _0({publicKey:d,signal:l});return u?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}case"request":{const d=O0(i.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:u,error:f}=await x0(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:d,signal:l}));return u?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}}}catch(i){return G(i)?{data:null,error:i}:{data:null,error:new kn("Unexpected error in challenge",i)}}}async _verify({challengeId:e,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:r}},o){if(!n)return{data:null,error:new Fs("rpId is required for WebAuthn authentication")};try{if(!cl())return{data:null,error:new kn("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:s},signal:r},{request:o});if(!i)return{data:null,error:a};const{webauthn:l}=i;return this._verify({factorId:e,challengeId:i.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:s,credential_response:l.credential_response}})}catch(i){return G(i)?{data:null,error:i}:{data:null,error:new kn("Unexpected error in authenticate",i)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:r},o){if(!n)return{data:null,error:new Fs("rpId is required for WebAuthn registration")};try{if(!cl())return{data:null,error:new kn("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this._enroll({friendlyName:e});if(!i)return await this.client.mfa.listFactors().then(u=>{var f;return(f=u.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:a};const{data:l,error:d}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:r},{create:o});return l?this._verify({factorId:i.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:s,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:d}}catch(i){return G(i)?{data:null,error:i}:{data:null,error:new kn("Unexpected error in register",i)}}}}c0();const T0={url:kg,storageKey:Sg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Eg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ul(t,e,n){return await n()}const Ln={};class Ls{get jwks(){var e,n;return(n=(e=Ln[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Ln[this.storageKey]=Object.assign(Object.assign({},Ln[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Ln[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ln[this.storageKey]=Object.assign(Object.assign({},Ln[this.storageKey]),{cachedAt:e})}constructor(e){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ls.nextInstanceID,Ls.nextInstanceID+=1,this.instanceID>0&&ut()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},T0),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new i0({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=ju(r.fetch),this.lock=r.lock||ul,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:ut()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=l0:this.lock=ul,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new C0(this)},this.persistSession?(r.storage?this.storage=r.storage:Pu()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ll(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=ll(this.memoryStorage)),ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$u}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Fg(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),ut()&&this.detectSessionInUrl&&s!=="none"){const{data:r,error:o}=await this._getSessionFromURL(n,s);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Rg(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return G(n)?{error:n}:{error:new kn("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,r;try{const o=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:yt}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(o){if(G(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var n,s,r;try{let o;if("email"in e){const{email:u,password:f,options:h}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Nn(this.storage,this.storageKey)),o=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:yt})}else if("phone"in e){const{phone:u,password:f,options:h}=e;o=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},channel:(r=h==null?void 0:h.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:yt})}else throw new ir("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(o){if(G(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:i,options:a}=e;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:il})}else if("phone"in e){const{phone:o,password:i,options:a}=e;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:il})}else throw new ir("You must provide either an email or phone number and a password");const{data:s,error:r}=n;return r?{data:{user:null,session:null},error:r}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Dn}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(n){if(G(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,s,r,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,r,o,i,a,l,d,u,f,h;let p,m;if("message"in e)p=e.message,m=e.signature;else{const{chain:y,wallet:g,statement:x,options:_}=e;let b;if(ut())if(typeof g=="object")b=g;else{const j=window;if("ethereum"in j&&typeof j.ethereum=="object"&&"request"in j.ethereum&&typeof j.ethereum.request=="function")b=j.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=g}const C=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href),U=await b.request({method:"eth_requestAccounts"}).then(j=>j).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!U||U.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const z=Mu(U[0]);let P=(s=_==null?void 0:_.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!P){const j=await b.request({method:"eth_chainId"});P=u0(j)}const T={domain:C.host,address:z,statement:x,uri:C.href,version:"1",chainId:P,nonce:(r=_==null?void 0:_.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(i=(o=_==null?void 0:_.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(a=_==null?void 0:_.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=_==null?void 0:_.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(d=_==null?void 0:_.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=_==null?void 0:_.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=f0(T),m=await b.request({method:"personal_sign",params:[d0(p),z]})}try{const{data:y,error:g}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:m},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:yt});if(g)throw g;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Dn}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:g})}catch(y){if(G(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(e){var n,s,r,o,i,a,l,d,u,f,h,p;let m,y;if("message"in e)m=e.message,y=e.signature;else{const{chain:g,wallet:x,statement:_,options:b}=e;let C;if(ut())if(typeof x=="object")C=x;else{const z=window;if("solana"in z&&typeof z.solana=="object"&&("signIn"in z.solana&&typeof z.solana.signIn=="function"||"signMessage"in z.solana&&typeof z.solana.signMessage=="function"))C=z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=x}const U=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const z=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),_?{statement:_}:null));let P;if(Array.isArray(z)&&z[0]&&typeof z[0]=="object")P=z[0];else if(z&&typeof z=="object"&&"signedMessage"in z&&"signature"in z)P=z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)m=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),y=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${U.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(r=(s=b==null?void 0:b.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((d=b==null?void 0:b.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const z=await C.signMessage(new TextEncoder().encode(m),"utf8");if(!z||!(z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=z}}try{const{data:g,error:x}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:Sn(y)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:yt});if(x)throw x;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new Dn}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:x})}catch(g){if(G(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(e){const n=await vn(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(n??"").split("/");try{const{data:o,error:i}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:yt});if(await Xt(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Dn}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:r??null}),error:i})}catch(o){if(G(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:n,provider:s,token:r,access_token:o,nonce:i}=e,a=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:yt}),{data:l,error:d}=a;return d?{data:{user:null,session:null},error:d}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Dn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:d})}catch(n){if(G(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,s,r,o,i;try{if("email"in e){const{email:a,options:l}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Nn(this.storage,this.storageKey));const{error:f}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:l}=e,{data:d,error:u}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new ir("You must provide either an email or phone number.")}catch(a){if(G(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,s;try{let r,o;"options"in e&&(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:i,error:a}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:r,xform:yt});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,d=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(r){if(G(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var n,s,r;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await Nn(this.storage,this.storageKey)),await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:n0})}catch(o){if(G(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new en;const{error:r}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(G(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:r,options:o}=e,{error:i}=await te(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:s,type:r,options:o}=e,{data:i,error:a}=await te(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new ir("You must provide either an email or phone number and a type")}catch(n){if(G(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await vn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<To:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const i=await vn(this.userStorage,this.storageKey+"-user");i!=null&&i.user?e.user=i.user:e.user=Ro()}if(this.storage.isServer&&e.user){let i=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,d,u)=>(!i&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,d,u))})}return{data:{session:e},error:null}}const{data:r,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:rn}):await this._useSession(async n=>{var s,r,o;const{data:i,error:a}=n;if(a)throw a;return!(!((s=i.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new en}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0,xform:rn})})}catch(n){if(G(n))return Ag(n)&&(await this._removeSession(),await Xt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:r,error:o}=s;if(o)throw o;if(!r.session)throw new en;const i=r.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Nn(this.storage,this.storageKey));const{data:d,error:u}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:rn});if(u)throw u;return i.user=d.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(s){if(G(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new en;const n=Date.now()/1e3;let s=n,r=!0,o=null;const{payload:i}=Ao(e.access_token);if(i.exp&&(s=i.exp,r=s<=n),r){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(G(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:i,error:a}=n;if(a)throw a;e=(s=i.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new en;const{data:r,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(G(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ut())throw new ar("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ar(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Za("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ar("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Za("No code detected.");const{data:_,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:o,refresh_token:i,expires_in:a,expires_at:l,token_type:d}=e;if(!o||!a||!i||!d)throw new ar("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(a);let h=u+f;l&&(h=parseInt(l));const p=h-u;p*1e3<=Wn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,u);const{data:y,error:g}=await this._getUser(o);if(g)throw g;const x={provider_token:s,provider_refresh_token:r,access_token:o,expires_in:f,expires_at:h,refresh_token:i,token_type:d,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(s){if(G(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await vn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:r,error:o}=n;if(o)return{error:o};const i=(s=r.session)===null||s===void 0?void 0:s.access_token;if(i){const{error:a}=await this.admin.signOut(i,e);if(a&&!($g(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Xt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Ug(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,r;try{const{data:{session:o},error:i}=n;if(i)throw i;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let s=null,r=null;this.flowType==="pkce"&&([s,r]=await Nn(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(G(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(G(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:s,error:r}=await this._useSession(async o=>{var i,a,l,d,u;const{data:f,error:h}=o;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(r)throw r;return ut()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(G(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var s;try{const{error:r,data:{session:o}}=n;if(r)throw r;const{options:i,provider:a,token:l,access_token:d,nonce:u}=e,f=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=o==null?void 0:o.access_token)!==null&&s!==void 0?s:void 0,body:{provider:a,id_token:l,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:yt}),{data:h,error:p}=f;return p?{data:{user:null,session:null},error:p}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Dn}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:p})}catch(r){if(G(r))return{data:{user:null,session:null},error:r};throw r}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,r;const{data:o,error:i}=n;if(i)throw i;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(G(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await qg(async r=>(r>0&&await Bg(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:yt})),(r,o)=>{const i=200*Math.pow(2,r);return o&&$o(o)&&Date.now()+i-s<Wn})}catch(s){if(this._debug(n,"error",s),G(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),ut()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await vn(this.storage,this.storageKey);if(r&&this.userStorage){let i=await vn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:r.user},await zn(this.userStorage,this.storageKey+"-user",i)),r.user=(e=i==null?void 0:i.user)!==null&&e!==void 0?e:Ro()}else if(r&&!r.user&&!r.user){const i=await vn(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(r.user=i.user,await Xt(this.storage,this.storageKey+"-user"),await zn(this.storage,this.storageKey,r)):r.user=Ro()}if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const o=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<To;if(this._debug(s,`session has${o?"":" not"} expired with margin of ${To}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),$o(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(r.access_token);!a&&(i!=null&&i.user)?(r.user=i.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(s,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new en;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new oo;const{data:o,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!o.session)throw new en;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={data:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(r,"error",o),G(o)){const i={data:null,error:o};return $o(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(o),o}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,n,s=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){o.push(l)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await zn(this.userStorage,this.storageKey+"-user",{user:n.user});const r=Object.assign({},n);delete r.user;const o=rl(r);await zn(this.storage,this.storageKey,o)}else{const r=rl(n);await zn(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await Xt(this.storage,this.storageKey),await Xt(this.storage,this.storageKey+"-code-verifier"),await Xt(this.storage,this.storageKey+"-user"),this.userStorage&&await Xt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ut()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Wn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((s.expires_at*1e3-e)/Wn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Wn}ms, refresh threshold is ${oi} ticks`),r<=oi&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Iu)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ut()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const r=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[o,i]=await Nn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});r.push(a.toString())}if(s!=null&&s.queryParams){const o=new URLSearchParams(s.queryParams);r.push(o.toString())}return s!=null&&s.skipBrowserRedirect&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:r,error:o}=n;return o?{data:null,error:o}:await te(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(G(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,r;const{data:o,error:i}=n;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:d}=await te(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&l.type==="totp"&&(!((r=l==null?void 0:l.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(G(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:o}=n;if(o)return{data:null,error:o};const i=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?b0(e.webauthn.credential_response):w0(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:i,headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(G(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:o}=n;if(o)return{data:null,error:o};const i=await te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});if(i.error)return i;const{data:a}=i;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:v0(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:y0(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(G(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const r={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])r.all.push(o),o.status==="verified"&&r[o.factor_type].push(o);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,s;const{data:{session:r},error:o}=e;if(o)return{data:null,error:o};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Ao(r.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((s=(n=r.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(a=>a.kid===e);if(s)return s;const r=Date.now();if(s=this.jwks.keys.find(a=>a.kid===e),s&&this.jwks_cached_at+Cg>r)return s;const{data:o,error:i}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=r,s=o.keys.find(a=>a.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};s=p.session.access_token}const{header:r,payload:o,signature:i,raw:{header:a,payload:l}}=Ao(s);n!=null&&n.allowExpired||Gg(o.exp);const d=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:p}=await this.getUser(s);if(p)throw p;return{data:{claims:o,header:r,signature:i},error:null}}const u=Yg(r.alg),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,i,Dg(`${a}.${l}`)))throw new li("Invalid JWT signature");return{data:{claims:o,header:r,signature:i},error:null}}catch(s){if(G(s))return{data:null,error:s};throw s}}}Ls.nextInstanceID=0;const $0=Ls;class A0 extends $0{constructor(e){super(e)}}var R0=function(t,e,n,s){function r(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{d(s.next(u))}catch(f){i(f)}}function l(u){try{d(s.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):r(u.value).then(a,l)}d((s=s.apply(t,e||[])).next())})};class P0{constructor(e,n,s){var r,o,i;this.supabaseUrl=e,this.supabaseKey=n;const a=xg(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,d={db:fg,realtime:mg,auth:Object.assign(Object.assign({},hg),{storageKey:l}),global:dg},u=_g(s??{},d);this.storageKey=(r=u.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=u.auth)!==null&&i!==void 0?i:{},this.headers,u.global.fetch),this.fetch=yg(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Tp(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new lg(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new op(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,s)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return R0(this,void 0,void 0,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:r,userStorage:o,storageKey:i,flowType:a,lock:l,debug:d},u,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new A0({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:r,userStorage:o,flowType:a,lock:l,debug:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new zp(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,n,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const j0=(t,e,n)=>new P0(t,e,n);function I0(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}I0()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const M0="https://cqqeylhspmpilzgmqfiu.supabase.co",D0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxcWV5bGhzcG1waWx6Z21xZml1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk1MTgxNTcsImV4cCI6MjA3NTA5NDE1N30.sPk51xxT7KBFp0_KC674PS62nwXNtBpo7UCKRm6ZEeY",vt=j0(M0,D0);class N0{async login(e,n){try{console.log("OrganizacoesService: Tentando login com Supabase Auth:",e);const{data:s,error:r}=await vt.auth.signInWithPassword({email:e,password:n});if(console.log("OrganizacoesService: Resposta Supabase Auth:",{authData:s,authError:r}),r||!s.user)return{success:!1,error:"Credenciais inválidas"};const{data:o,error:i}=await vt.from("funcionarios").select(`
          id, nome, email, cargo, role, ativo, ultimo_login,
          organizacao_id
        `).eq("auth_user_id",s.user.id).eq("ativo",!0).single();if(console.log("OrganizacoesService: Dados funcionário:",{funcionarioData:o,funcionarioError:i}),i||!o)return{success:!1,error:"Funcionário não encontrado"};let a="Organização",l="matriz";if(o.organizacao_id){const{data:d}=await vt.from("organizacoes").select("nome, tipo").eq("id",o.organizacao_id).single();d&&(a=d.nome,l=d.tipo)}return await vt.from("funcionarios").update({ultimo_login:new Date().toISOString()}).eq("id",o.id),{success:!0,funcionario:{...o,auth_user_id:s.user.id,organizacao_nome:a,organizacao_tipo:l}}}catch(s){return console.error("Erro no login:",s),{success:!1,error:"Erro interno do servidor"}}}async logout(){try{return await vt.auth.signOut(),{success:!0}}catch(e){return console.error("Erro no logout:",e),{success:!1}}}async getOrganizacoes(){try{console.log("OrganizacoesService: Buscando organizações...");const{data:e,error:n}=await vt.from("organizacoes").select("*").eq("ativo",!0).order("tipo, nome");if(console.log("OrganizacoesService: Resposta organizações:",{data:e,error:n}),n)throw n;return{success:!0,organizacoes:e}}catch(e){return console.error("Erro ao buscar organizações:",e),{success:!1,error:"Erro ao buscar organizações"}}}async getFiliais(){try{console.log("OrganizacoesService: Buscando filiais...");const{data:e,error:n}=await vt.from("organizacoes").select("*").eq("tipo","filial").eq("ativo",!0).order("nome");if(console.log("OrganizacoesService: Resposta filiais:",{data:e,error:n}),n)throw n;return{success:!0,filiais:e}}catch(e){return console.error("Erro ao buscar filiais:",e),{success:!1,error:"Erro ao buscar filiais"}}}async criarFilial(e){try{console.log("OrganizacoesService: Criando filial:",e);const{data:n,error:s}=await vt.from("organizacoes").insert([{...e,tipo:"filial",matriz_id:"matriz",ativo:!0}]).select().single();if(console.log("OrganizacoesService: Resposta criar filial:",{data:n,error:s}),s)throw s;return{success:!0,filial:n}}catch(n){return console.error("Erro ao criar filial:",n),{success:!1,error:"Erro ao criar filial"}}}async getFuncionarios(e){try{console.log("OrganizacoesService: Buscando funcionários de:",e);const{data:n,error:s}=await vt.from("funcionarios").select(`
          id, nome, email, cargo, role, ativo, ultimo_login, created_at,
          organizacoes(nome)
        `).eq("organizacao_id",e).order("nome");if(console.log("OrganizacoesService: Resposta funcionários:",{data:n,error:s}),s)throw s;return{success:!0,funcionarios:n}}catch(n){return console.error("Erro ao buscar funcionários:",n),{success:!1,error:"Erro ao buscar funcionários"}}}async criarFuncionario(e){try{console.log("OrganizacoesService: Criando funcionário:",e);const{data:n,error:s}=await vt.from("funcionarios").insert([{...e,ativo:!0}]).select().single();if(console.log("OrganizacoesService: Resposta criar funcionário:",{data:n,error:s}),s)throw s;return{success:!0,funcionario:n}}catch(n){return console.error("Erro ao criar funcionário:",n),{success:!1,error:"Erro ao criar funcionário"}}}async registrarAtividade(e,n,s,r={}){try{const{error:o}=await vt.from("atividades_funcionarios").insert([{funcionario_id:e,tipo_atividade:n,descricao:s,dados_extras:r,resultado:"success"}]);if(o)throw o;return{success:!0}}catch(o){return console.error("Erro ao registrar atividade:",o),{success:!1}}}}const zt=new N0,Ys=Xh("auth",()=>{const t=q(null),e=q(!1),n=q(null),s=Ne(()=>!!t.value);return{user:t,isLoading:e,error:n,isAuthenticated:s,initializeAuth:()=>{const l=localStorage.getItem("auth_user");l&&(t.value=JSON.parse(l))},login:async(l,d)=>{try{e.value=!0,n.value=null,console.log("AuthStore: Tentando login com Supabase:",l);const u=await zt.login(l,d);return console.log("AuthStore: Resposta do login:",u),u.success&&u.funcionario?(t.value=u.funcionario,localStorage.setItem("auth_user",JSON.stringify(u.funcionario)),console.log("AuthStore: Login realizado com sucesso:",u.funcionario),!0):(n.value=u.error||"Erro ao fazer login",console.error("AuthStore: Erro no login:",u.error),!1)}catch(u){return n.value="Erro de conexão",console.error("AuthStore: Erro de conexão:",u),!1}finally{e.value=!1}},logout:async()=>{await zt.logout(),t.value=null,n.value=null,localStorage.removeItem("auth_user")},clearError:()=>{n.value=null}}}),U0={id:"app",class:"min-h-screen bg-gray-950 text-white font-inter"},F0=ft({__name:"App",setup(t){const e=Ys();return fn(()=>{e.initializeAuth()}),(n,s)=>(A(),N("div",U0,[K(me(fu))]))}});function L0(t,e){return A(),ye("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[K("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})])}function ci(t,e){return A(),ye("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[K("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})])}function B0(t,e){return A(),ye("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[K("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"})])}function dl(t,e){return A(),ye("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[K("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function fl(t,e){return A(),ye("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[K("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])}function q0(t,e){return A(),ye("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[K("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})])}function hl(t,e){return A(),ye("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[K("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})])}function H0(t,e){return A(),ye("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[K("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 6h16M4 12h16M4 18h16"})])}function W0(t,e){return A(),ye("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[K("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})])}function z0(t,e){return A(),ye("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[K("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})])}function lr(t,e){return A(),ye("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[K("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})])}function Uu(t,e){return A(),ye("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[K("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])}function V0(t,e){return A(),ye("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[K("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"})])}function K0(t,e){return A(),ye("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[K("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})])}function J0(t,e){return A(),ye("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[K("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])}function ml(t,e){return A(),ye("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[K("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])}function pl(t,e){return A(),ye("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[K("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])}const G0={class:"flex h-screen bg-gray-950"},Y0={class:"hidden md:flex md:w-72 md:flex-col"},X0={class:"flex flex-col flex-grow pt-6 pb-4 overflow-y-auto bg-gray-900/50 backdrop-blur-xl border-r border-gray-800/50"},Q0={class:"flex-grow flex flex-col"},Z0={class:"flex-1 px-4 space-y-2"},ev={class:"font-medium"},tv={class:"flex-shrink-0 border-t border-gray-800/50 p-4"},nv={class:"flex items-center p-3 bg-gray-800/30 rounded-xl border border-gray-700/50"},sv={class:"flex-shrink-0"},rv={class:"h-10 w-10 rounded-xl bg-gradient-to-r from-blue-500 to-blue-600 flex items-center justify-center shadow-lg"},ov={class:"text-white text-sm font-bold"},iv={class:"ml-3 flex-1"},av={class:"text-sm font-medium text-white"},lv={class:"text-xs text-gray-400 capitalize"},cv={class:"flex flex-col w-0 flex-1 overflow-hidden"},uv={class:"relative z-10 flex-shrink-0 flex h-16 bg-gray-900/80 backdrop-blur-xl border-b border-gray-800/50"},dv={class:"flex-1 px-6 flex justify-between items-center"},fv={class:"flex-1 max-w-lg"},hv={class:"relative"},mv={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},pv={class:"ml-6 flex items-center space-x-4"},gv={type:"button",class:"relative p-2 text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-xl transition-colors hover:bg-gray-800/50"},vv={key:0,class:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 rounded-full flex items-center justify-center text-white text-xs font-bold border-2 border-gray-900"},yv={class:"flex-1 relative overflow-y-auto focus:outline-none bg-gray-950"},Pn=ft({__name:"AppLayout",setup(t){const e=eo(),n=Ys(),s=q(!1);q(!1);const r=q(""),o=q(5),i=Ne(()=>{const d=n.user;return(d==null?void 0:d.organizacao_tipo)==="matriz"&&(d==null?void 0:d.role)==="admin"?[{name:"admin-dashboard",label:"Dashboard Admin",href:"/admin/dashboard",icon:hl},{name:"admin-filiais",label:"Gestão de Filiais",href:"/admin/filiais",icon:W0},{name:"admin-funcionarios",label:"Funcionários",href:"/admin/funcionarios",icon:J0},{name:"clients",label:"Clientes",href:"/clients",icon:ml},{name:"reports",label:"Relatórios",href:"/reports",icon:fl},{name:"financial",label:"Financeiro",href:"/financial",icon:dl},{name:"chat",label:"Atendimento",href:"/chat",icon:ci,badge:3,badgeClass:"bg-red-100 text-red-800"}]:[{name:"dashboard",label:"Dashboard",href:"/dashboard",icon:hl},{name:"chat",label:"Atendimento",href:"/chat",icon:ci,badge:3,badgeClass:"bg-red-100 text-red-800"},{name:"clients",label:"Clientes",href:"/clients",icon:ml},{name:"reports",label:"Relatórios",href:"/reports",icon:fl},{name:"financial",label:"Financeiro",href:"/financial",icon:dl}]}),a=Ne(()=>{var u;return(((u=n.user)==null?void 0:u.nome)||"Admin").split(" ").map(f=>f[0]).join("").toUpperCase()}),l=()=>{n.logout(),e.push("/login")};return(d,u)=>{var h,p;const f=_c("router-link");return A(),N("div",G0,[c("div",Y0,[c("div",X0,[u[3]||(u[3]=c("div",{class:"flex items-center flex-shrink-0 px-6 mb-8"},[c("div",{class:"h-10 w-20 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg"},[c("span",{class:"text-white font-bold text-sm tracking-wider"},"DNOTAS")])],-1)),c("div",Q0,[c("nav",Z0,[(A(!0),N(_e,null,Ye(i.value,m=>(A(),ye(f,{key:m.name,to:m.href,class:be(["sidebar-item group",{active:d.$route.name===m.name}])},{default:Je(()=>[(A(),ye(Ef(m.icon),{class:"mr-3 flex-shrink-0 h-5 w-5","aria-hidden":"true"})),c("span",ev,D(m.label),1),m.badge?(A(),N("span",{key:0,class:be(["ml-auto inline-flex items-center px-2 py-1 text-xs font-bold rounded-full",m.badgeClass||"bg-red-500/20 text-red-400 border border-red-500/30"])},D(m.badge),3)):ae("",!0)]),_:2},1032,["to","class"]))),128))])]),c("div",tv,[c("div",nv,[c("div",sv,[c("div",rv,[c("span",ov,D(a.value),1)])]),c("div",iv,[c("p",av,D(((h=me(n).user)==null?void 0:h.nome)||"Usuário"),1),c("p",lv,D(((p=me(n).user)==null?void 0:p.organizacao_nome)||"DNOTAS"),1)]),c("button",{onClick:l,class:"ml-2 p-2 text-gray-400 hover:text-red-400 transition-colors rounded-lg hover:bg-gray-800/50",title:"Sair"},[...u[2]||(u[2]=[c("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1)])])])])])]),c("div",cv,[c("div",uv,[c("button",{type:"button",class:"px-4 border-r border-gray-800/50 text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 md:hidden transition-colors",onClick:u[0]||(u[0]=m=>s.value=!0)},[u[4]||(u[4]=c("span",{class:"sr-only"},"Open sidebar",-1)),K(me(H0),{class:"h-6 w-6","aria-hidden":"true"})]),c("div",dv,[c("div",fv,[c("div",hv,[c("div",mv,[K(me(Uu),{class:"h-5 w-5 text-gray-500","aria-hidden":"true"})]),re(c("input",{"onUpdate:modelValue":u[1]||(u[1]=m=>r.value=m),class:"block w-full pl-10 pr-3 py-2 bg-gray-800/50 border border-gray-700/50 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Buscar clientes, mensagens...",type:"search"},null,512),[[le,r.value]])])]),c("div",pv,[c("button",gv,[u[5]||(u[5]=c("span",{class:"sr-only"},"View notifications",-1)),K(me(L0),{class:"h-6 w-6","aria-hidden":"true"}),o.value>0?(A(),N("span",vv,D(o.value),1)):ae("",!0)]),u[6]||(u[6]=c("div",{class:"flex items-center space-x-2 px-3 py-2 bg-green-500/10 border border-green-500/20 rounded-xl"},[c("div",{class:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),c("span",{class:"text-green-400 text-sm font-medium"},"Online")],-1))])])]),c("main",yv,[Of(d.$slots,"default")])])])}}});function xe(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function un(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Fu=6048e5,bv=864e5,cr=43200,gl=1440;let wv={};function Xs(){return wv}function Bs(t,e){var a,l,d,u;const n=Xs(),s=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,r=xe(t),o=r.getDay(),i=(o<s?7:0)+o-s;return r.setDate(r.getDate()-i),r.setHours(0,0,0,0),r}function Dr(t){return Bs(t,{weekStartsOn:1})}function Lu(t){const e=xe(t),n=e.getFullYear(),s=un(t,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const r=Dr(s),o=un(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const i=Dr(o);return e.getTime()>=r.getTime()?n+1:e.getTime()>=i.getTime()?n:n-1}function vl(t){const e=xe(t);return e.setHours(0,0,0,0),e}function Nr(t){const e=xe(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function _v(t,e){const n=vl(t),s=vl(e),r=+n-Nr(n),o=+s-Nr(s);return Math.round((r-o)/bv)}function xv(t){const e=Lu(t),n=un(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Dr(n)}function gr(t,e){const n=xe(t),s=xe(e),r=n.getTime()-s.getTime();return r<0?-1:r>0?1:r}function kv(t){return un(t,Date.now())}function Sv(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Ev(t){if(!Sv(t)&&typeof t!="number")return!1;const e=xe(t);return!isNaN(Number(e))}function Ov(t,e){const n=xe(t),s=xe(e),r=n.getFullYear()-s.getFullYear(),o=n.getMonth()-s.getMonth();return r*12+o}function Cv(t){return e=>{const s=(t?Math[t]:Math.trunc)(e);return s===0?0:s}}function Tv(t,e){return+xe(t)-+xe(e)}function $v(t){const e=xe(t);return e.setHours(23,59,59,999),e}function Av(t){const e=xe(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Rv(t){const e=xe(t);return+$v(e)==+Av(e)}function Pv(t,e){const n=xe(t),s=xe(e),r=gr(n,s),o=Math.abs(Ov(n,s));let i;if(o<1)i=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-r*o);let a=gr(n,s)===-r;Rv(xe(t))&&o===1&&gr(t,s)===1&&(a=!1),i=r*(o-Number(a))}return i===0?0:i}function jv(t,e,n){const s=Tv(t,e)/1e3;return Cv(n==null?void 0:n.roundingMethod)(s)}function Iv(t){const e=xe(t),n=un(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Mv={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Dv=(t,e,n)=>{let s;const r=Mv[t];return typeof r=="string"?s=r:e===1?s=r.one:s=r.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Zn(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Nv={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Uv={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Fv={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Lv={date:Zn({formats:Nv,defaultWidth:"full"}),time:Zn({formats:Uv,defaultWidth:"full"}),dateTime:Zn({formats:Fv,defaultWidth:"full"})},Bv={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},qv=(t,e,n,s)=>Bv[t];function jt(t){return(e,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let r;if(s==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):i;r=t.formattingValues[a]||t.formattingValues[i]}else{const i=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;r=t.values[a]||t.values[i]}const o=t.argumentCallback?t.argumentCallback(e):e;return r[o]}}const Hv={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Wv={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},zv={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Vv={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Kv={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Jv={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Gv=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Yv={ordinalNumber:Gv,era:jt({values:Hv,defaultWidth:"wide"}),quarter:jt({values:Wv,defaultWidth:"wide",argumentCallback:t=>t-1}),month:jt({values:zv,defaultWidth:"wide"}),day:jt({values:Vv,defaultWidth:"wide"}),dayPeriod:jt({values:Kv,defaultWidth:"wide",formattingValues:Jv,defaultFormattingWidth:"wide"})};function It(t){return(e,n={})=>{const s=n.width,r=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],o=e.match(r);if(!o)return null;const i=o[0],a=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Qv(a,f=>f.test(i)):Xv(a,f=>f.test(i));let d;d=t.valueCallback?t.valueCallback(l):l,d=n.valueCallback?n.valueCallback(d):d;const u=e.slice(i.length);return{value:d,rest:u}}}function Xv(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Qv(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Bu(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const r=s[0],o=e.match(t.parsePattern);if(!o)return null;let i=t.valueCallback?t.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;const a=e.slice(r.length);return{value:i,rest:a}}}const Zv=/^(\d+)(th|st|nd|rd)?/i,ey=/\d+/i,ty={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ny={any:[/^b/i,/^(a|c)/i]},sy={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ry={any:[/1/i,/2/i,/3/i,/4/i]},oy={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},iy={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ay={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ly={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},cy={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},uy={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dy={ordinalNumber:Bu({matchPattern:Zv,parsePattern:ey,valueCallback:t=>parseInt(t,10)}),era:It({matchPatterns:ty,defaultMatchWidth:"wide",parsePatterns:ny,defaultParseWidth:"any"}),quarter:It({matchPatterns:sy,defaultMatchWidth:"wide",parsePatterns:ry,defaultParseWidth:"any",valueCallback:t=>t+1}),month:It({matchPatterns:oy,defaultMatchWidth:"wide",parsePatterns:iy,defaultParseWidth:"any"}),day:It({matchPatterns:ay,defaultMatchWidth:"wide",parsePatterns:ly,defaultParseWidth:"any"}),dayPeriod:It({matchPatterns:cy,defaultMatchWidth:"any",parsePatterns:uy,defaultParseWidth:"any"})},qu={code:"en-US",formatDistance:Dv,formatLong:Lv,formatRelative:qv,localize:Yv,match:dy,options:{weekStartsOn:0,firstWeekContainsDate:1}};function fy(t){const e=xe(t);return _v(e,Iv(e))+1}function hy(t){const e=xe(t),n=+Dr(e)-+xv(e);return Math.round(n/Fu)+1}function Hu(t,e){var u,f,h,p;const n=xe(t),s=n.getFullYear(),r=Xs(),o=(e==null?void 0:e.firstWeekContainsDate)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,i=un(t,0);i.setFullYear(s+1,0,o),i.setHours(0,0,0,0);const a=Bs(i,e),l=un(t,0);l.setFullYear(s,0,o),l.setHours(0,0,0,0);const d=Bs(l,e);return n.getTime()>=a.getTime()?s+1:n.getTime()>=d.getTime()?s:s-1}function my(t,e){var a,l,d,u;const n=Xs(),s=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,r=Hu(t,e),o=un(t,0);return o.setFullYear(r,0,s),o.setHours(0,0,0,0),Bs(o,e)}function py(t,e){const n=xe(t),s=+Bs(n,e)-+my(n,e);return Math.round(s/Fu)+1}function ve(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const Qt={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return ve(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ve(n+1,2)},d(t,e){return ve(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ve(t.getHours()%12||12,e.length)},H(t,e){return ve(t.getHours(),e.length)},m(t,e){return ve(t.getMinutes(),e.length)},s(t,e){return ve(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),r=Math.trunc(s*Math.pow(10,n-3));return ve(r,e.length)}},Bn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},yl={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),r=s>0?s:1-s;return n.ordinalNumber(r,{unit:"year"})}return Qt.y(t,e)},Y:function(t,e,n,s){const r=Hu(t,s),o=r>0?r:1-r;if(e==="YY"){const i=o%100;return ve(i,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):ve(o,e.length)},R:function(t,e){const n=Lu(t);return ve(n,e.length)},u:function(t,e){const n=t.getFullYear();return ve(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return ve(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return ve(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return Qt.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return ve(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const r=py(t,s);return e==="wo"?n.ordinalNumber(r,{unit:"week"}):ve(r,e.length)},I:function(t,e,n){const s=hy(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):ve(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Qt.d(t,e)},D:function(t,e,n){const s=fy(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):ve(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const r=t.getDay(),o=(r-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return ve(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const r=t.getDay(),o=(r-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return ve(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),r=s===0?7:s;switch(e){case"i":return String(r);case"ii":return ve(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let r;switch(s===12?r=Bn.noon:s===0?r=Bn.midnight:r=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let r;switch(s>=17?r=Bn.evening:s>=12?r=Bn.afternoon:s>=4?r=Bn.morning:r=Bn.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Qt.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Qt.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):ve(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):ve(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Qt.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Qt.s(t,e)},S:function(t,e){return Qt.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return wl(s);case"XXXX":case"XX":return wn(s);case"XXXXX":case"XXX":default:return wn(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return wl(s);case"xxxx":case"xx":return wn(s);case"xxxxx":case"xxx":default:return wn(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+bl(s,":");case"OOOO":default:return"GMT"+wn(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+bl(s,":");case"zzzz":default:return"GMT"+wn(s,":")}},t:function(t,e,n){const s=Math.trunc(t.getTime()/1e3);return ve(s,e.length)},T:function(t,e,n){const s=t.getTime();return ve(s,e.length)}};function bl(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=Math.trunc(s/60),o=s%60;return o===0?n+String(r):n+String(r)+e+ve(o,2)}function wl(t,e){return t%60===0?(t>0?"-":"+")+ve(Math.abs(t)/60,2):wn(t,e)}function wn(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=ve(Math.trunc(s/60),2),o=ve(s%60,2);return n+r+e+o}const _l=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Wu=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},gy=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],r=n[2];if(!r)return _l(t,e);let o;switch(s){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",_l(s,e)).replace("{{time}}",Wu(r,e))},vy={p:Wu,P:gy},yy=/^D+$/,by=/^Y+$/,wy=["D","DD","YY","YYYY"];function _y(t){return yy.test(t)}function xy(t){return by.test(t)}function ky(t,e,n){const s=Sy(t,e,n);if(console.warn(s),wy.includes(t))throw new RangeError(s)}function Sy(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ey=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Oy=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Cy=/^'([^]*?)'?$/,Ty=/''/g,$y=/[a-zA-Z]/;function zu(t,e,n){var u,f,h,p,m,y,g,x;const s=Xs(),r=(n==null?void 0:n.locale)??s.locale??qu,o=(n==null?void 0:n.firstWeekContainsDate)??((f=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(h=s.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,i=(n==null?void 0:n.weekStartsOn)??((y=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:y.weekStartsOn)??s.weekStartsOn??((x=(g=s.locale)==null?void 0:g.options)==null?void 0:x.weekStartsOn)??0,a=xe(t);if(!Ev(a))throw new RangeError("Invalid time value");let l=e.match(Oy).map(_=>{const b=_[0];if(b==="p"||b==="P"){const C=vy[b];return C(_,r.formatLong)}return _}).join("").match(Ey).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const b=_[0];if(b==="'")return{isToken:!1,value:Ay(_)};if(yl[b])return{isToken:!0,value:_};if(b.match($y))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:_}});r.localize.preprocessor&&(l=r.localize.preprocessor(a,l));const d={firstWeekContainsDate:o,weekStartsOn:i,locale:r};return l.map(_=>{if(!_.isToken)return _.value;const b=_.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&xy(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&_y(b))&&ky(b,e,String(t));const C=yl[b[0]];return C(a,b,r.localize,d)}).join("")}function Ay(t){const e=t.match(Cy);return e?e[1].replace(Ty,"'"):t}function Ry(t,e,n){const s=Xs(),r=(n==null?void 0:n.locale)??s.locale??qu,o=2520,i=gr(t,e);if(isNaN(i))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:i});let l,d;i>0?(l=xe(e),d=xe(t)):(l=xe(t),d=xe(e));const u=jv(d,l),f=(Nr(d)-Nr(l))/1e3,h=Math.round((u-f)/60);let p;if(h<2)return n!=null&&n.includeSeconds?u<5?r.formatDistance("lessThanXSeconds",5,a):u<10?r.formatDistance("lessThanXSeconds",10,a):u<20?r.formatDistance("lessThanXSeconds",20,a):u<40?r.formatDistance("halfAMinute",0,a):u<60?r.formatDistance("lessThanXMinutes",1,a):r.formatDistance("xMinutes",1,a):h===0?r.formatDistance("lessThanXMinutes",1,a):r.formatDistance("xMinutes",h,a);if(h<45)return r.formatDistance("xMinutes",h,a);if(h<90)return r.formatDistance("aboutXHours",1,a);if(h<gl){const m=Math.round(h/60);return r.formatDistance("aboutXHours",m,a)}else{if(h<o)return r.formatDistance("xDays",1,a);if(h<cr){const m=Math.round(h/gl);return r.formatDistance("xDays",m,a)}else if(h<cr*2)return p=Math.round(h/cr),r.formatDistance("aboutXMonths",p,a)}if(p=Pv(d,l),p<12){const m=Math.round(h/cr);return r.formatDistance("xMonths",m,a)}else{const m=p%12,y=Math.trunc(p/12);return m<3?r.formatDistance("aboutXYears",y,a):m<9?r.formatDistance("overXYears",y,a):r.formatDistance("almostXYears",y+1,a)}}function Fi(t,e){return Ry(t,kv(t),e)}const Py={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},jy=(t,e,n)=>{let s;const r=Py[t];return typeof r=="string"?s=r:e===1?s=r.one:s=r.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+s:"há "+s:s},Iy={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},My={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Dy={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ny={date:Zn({formats:Iy,defaultWidth:"full"}),time:Zn({formats:My,defaultWidth:"full"}),dateTime:Zn({formats:Dy,defaultWidth:"full"})},Uy={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},Fy=(t,e,n,s)=>{const r=Uy[t];return typeof r=="function"?r(e):r},Ly={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},By={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},qy={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Hy={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},Wy={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},zy={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},Vy=(t,e)=>{const n=Number(t);return(e==null?void 0:e.unit)==="week"?n+"ª":n+"º"},Ky={ordinalNumber:Vy,era:jt({values:Ly,defaultWidth:"wide"}),quarter:jt({values:By,defaultWidth:"wide",argumentCallback:t=>t-1}),month:jt({values:qy,defaultWidth:"wide"}),day:jt({values:Hy,defaultWidth:"wide"}),dayPeriod:jt({values:Wy,defaultWidth:"wide",formattingValues:zy,defaultFormattingWidth:"wide"})},Jy=/^(\d+)[ºªo]?/i,Gy=/\d+/i,Yy={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},Xy={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},Qy={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},Zy={any:[/1/i,/2/i,/3/i,/4/i]},eb={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},tb={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},nb={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},sb={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},rb={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},ob={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},ib={ordinalNumber:Bu({matchPattern:Jy,parsePattern:Gy,valueCallback:t=>parseInt(t,10)}),era:It({matchPatterns:Yy,defaultMatchWidth:"wide",parsePatterns:Xy,defaultParseWidth:"any"}),quarter:It({matchPatterns:Qy,defaultMatchWidth:"wide",parsePatterns:Zy,defaultParseWidth:"any",valueCallback:t=>t+1}),month:It({matchPatterns:eb,defaultMatchWidth:"wide",parsePatterns:tb,defaultParseWidth:"any"}),day:It({matchPatterns:nb,defaultMatchWidth:"wide",parsePatterns:sb,defaultParseWidth:"any"}),dayPeriod:It({matchPatterns:rb,defaultMatchWidth:"any",parsePatterns:ob,defaultParseWidth:"any"})},qs={code:"pt-BR",formatDistance:jy,formatLong:Ny,formatRelative:Fy,localize:Ky,match:ib,options:{weekStartsOn:0,firstWeekContainsDate:1}},ab={class:"py-6"},lb={class:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8"},cb={class:"md:flex md:items-center md:justify-between"},ub={class:"flex-1 min-w-0"},db={class:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate"},fb={class:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8"},hb={class:"mt-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},mb={class:"bg-white overflow-hidden shadow-lg rounded-lg border border-gray-200"},pb={class:"p-5"},gb={class:"flex items-center"},vb={class:"ml-5 w-0 flex-1"},yb={class:"text-lg font-semibold text-gray-900"},bb={class:"bg-blue-50 px-5 py-3"},wb={class:"text-sm"},_b={class:"bg-white overflow-hidden shadow-lg rounded-lg border border-gray-200"},xb={class:"p-5"},kb={class:"flex items-center"},Sb={class:"ml-5 w-0 flex-1"},Eb={class:"text-lg font-semibold text-gray-900"},Ob={class:"bg-green-50 px-5 py-3"},Cb={class:"text-sm"},Tb={class:"bg-white overflow-hidden shadow-lg rounded-lg border border-gray-200"},$b={class:"p-5"},Ab={class:"flex items-center"},Rb={class:"ml-5 w-0 flex-1"},Pb={class:"text-lg font-semibold text-gray-900"},jb={class:"bg-purple-50 px-5 py-3"},Ib={class:"text-sm"},Mb={class:"bg-white overflow-hidden shadow-lg rounded-lg border border-gray-200"},Db={class:"p-5"},Nb={class:"flex items-center"},Ub={class:"ml-5 w-0 flex-1"},Fb={class:"text-lg font-semibold text-gray-900"},Lb={class:"bg-yellow-50 px-5 py-3"},Bb={class:"text-sm"},qb={class:"mt-8 grid grid-cols-1 gap-6 lg:grid-cols-2"},Hb={class:"bg-white shadow-lg rounded-lg border border-gray-200"},Wb={class:"p-6"},zb={class:"flex items-center justify-between mb-6"},Vb={class:"flow-root"},Kb={role:"list",class:"-my-5 divide-y divide-gray-200"},Jb={class:"flex items-center space-x-4"},Gb={class:"flex-1 min-w-0"},Yb={class:"text-sm font-medium text-gray-900 truncate"},Xb={class:"text-sm text-gray-500"},Qb={class:"flex-shrink-0"},Zb={class:"bg-white shadow-lg rounded-lg border border-gray-200"},ew={class:"p-6"},tw={class:"flex items-center justify-between mb-6"},nw={class:"flow-root"},sw={role:"list",class:"-my-5 divide-y divide-gray-200"},rw={class:"flex items-center space-x-4"},ow={class:"flex-shrink-0"},iw={class:"flex-1 min-w-0"},aw={class:"text-sm font-medium text-gray-900 truncate"},lw={class:"text-sm text-gray-500"},cw={class:"flex-shrink-0"},uw={class:"mt-8"},dw={class:"bg-white shadow-lg rounded-lg border border-gray-200"},fw={class:"p-6"},hw={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"},mw=ft({__name:"AdminDashboardView",setup(t){const e=eo(),n=Ys(),s=q({totalFiliais:0,totalFuncionarios:0,totalClientes:0,atividadesHoje:0}),r=q([]),o=q([]),i=u=>Fi(new Date(u),{addSuffix:!0,locale:qs}),a=u=>{const f={login:"bg-green-100 text-green-600",create:"bg-blue-100 text-blue-600",update:"bg-yellow-100 text-yellow-600",delete:"bg-red-100 text-red-600",default:"bg-gray-100 text-gray-600"};return f[u]||f.default},l=u=>{const f={success:"bg-green-100 text-green-800",error:"bg-red-100 text-red-800",warning:"bg-yellow-100 text-yellow-800"};return f[u]||f.success},d=async()=>{try{console.log("AdminDashboard: Carregando dados...");const u=await zt.getOrganizacoes();u.success&&(r.value=u.organizacoes.filter(h=>h.tipo==="filial").slice(0,5),s.value.totalFiliais=u.organizacoes.filter(h=>h.tipo==="filial").length);const f=await zt.getFuncionarios("matriz");f.success&&(s.value.totalFuncionarios=f.funcionarios.length),s.value.totalClientes=156,s.value.atividadesHoje=23,o.value=[{id:"1",descricao:"Login realizado por Admin",tipo_atividade:"login",resultado:"success",created_at:new Date().toISOString()},{id:"2",descricao:"Nova filial criada: Filial São Paulo",tipo_atividade:"create",resultado:"success",created_at:new Date(Date.now()-36e5).toISOString()},{id:"3",descricao:"Funcionário atualizado: João Silva",tipo_atividade:"update",resultado:"success",created_at:new Date(Date.now()-72e5).toISOString()}],console.log("AdminDashboard: Dados carregados:",{stats:s.value,filiais:r.value})}catch(u){console.error("AdminDashboard: Erro ao carregar dados:",u)}};return fn(()=>{console.log("AdminDashboard: Componente montado, usuário:",n.user),d()}),(u,f)=>{const h=_c("router-link");return A(),ye(Pn,null,{default:Je(()=>{var p;return[c("div",ab,[c("div",lb,[c("div",cb,[c("div",ub,[c("h2",db," Painel Administrativo - "+D((p=me(n).user)==null?void 0:p.organizacao_nome),1),f[3]||(f[3]=c("p",{class:"mt-1 text-sm text-gray-500"}," Gestão completa do sistema DNOTAS ",-1))]),c("div",{class:"mt-4 flex md:mt-0 md:ml-4"},[c("button",{onClick:d,class:"ml-3 inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[...f[4]||(f[4]=[c("svg",{class:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),pe(" Atualizar ",-1)])])])])]),c("div",fb,[c("div",hb,[c("div",mb,[c("div",pb,[c("div",gb,[f[6]||(f[6]=c("div",{class:"flex-shrink-0"},[c("svg",{class:"h-8 w-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})])],-1)),c("div",vb,[c("dl",null,[f[5]||(f[5]=c("dt",{class:"text-sm font-medium text-gray-500 truncate"}," Total de Filiais ",-1)),c("dd",null,[c("div",yb,D(s.value.totalFiliais),1)])])])])]),c("div",bb,[c("div",wb,[K(h,{to:"/admin/filiais",class:"font-medium text-blue-700 hover:text-blue-900"},{default:Je(()=>[...f[7]||(f[7]=[pe(" Gerenciar filiais → ",-1)])]),_:1})])])]),c("div",_b,[c("div",xb,[c("div",kb,[f[9]||(f[9]=c("div",{class:"flex-shrink-0"},[c("svg",{class:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})])],-1)),c("div",Sb,[c("dl",null,[f[8]||(f[8]=c("dt",{class:"text-sm font-medium text-gray-500 truncate"}," Total de Funcionários ",-1)),c("dd",null,[c("div",Eb,D(s.value.totalFuncionarios),1)])])])])]),c("div",Ob,[c("div",Cb,[K(h,{to:"/admin/funcionarios",class:"font-medium text-green-700 hover:text-green-900"},{default:Je(()=>[...f[10]||(f[10]=[pe(" Gerenciar funcionários → ",-1)])]),_:1})])])]),c("div",Tb,[c("div",$b,[c("div",Ab,[f[12]||(f[12]=c("div",{class:"flex-shrink-0"},[c("svg",{class:"h-8 w-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),c("div",Rb,[c("dl",null,[f[11]||(f[11]=c("dt",{class:"text-sm font-medium text-gray-500 truncate"}," Total de Clientes ",-1)),c("dd",null,[c("div",Pb,D(s.value.totalClientes),1)])])])])]),c("div",jb,[c("div",Ib,[K(h,{to:"/clients",class:"font-medium text-purple-700 hover:text-purple-900"},{default:Je(()=>[...f[13]||(f[13]=[pe(" Ver clientes → ",-1)])]),_:1})])])]),c("div",Mb,[c("div",Db,[c("div",Nb,[f[15]||(f[15]=c("div",{class:"flex-shrink-0"},[c("svg",{class:"h-8 w-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),c("div",Ub,[c("dl",null,[f[14]||(f[14]=c("dt",{class:"text-sm font-medium text-gray-500 truncate"}," Atividades Hoje ",-1)),c("dd",null,[c("div",Fb,D(s.value.atividadesHoje),1)])])])])]),c("div",Lb,[c("div",Bb,[K(h,{to:"/reports",class:"font-medium text-yellow-700 hover:text-yellow-900"},{default:Je(()=>[...f[16]||(f[16]=[pe(" Ver relatórios → ",-1)])]),_:1})])])])]),c("div",qb,[c("div",Hb,[c("div",Wb,[c("div",zb,[f[18]||(f[18]=c("h3",{class:"text-lg leading-6 font-medium text-gray-900"}," Filiais Ativas ",-1)),K(h,{to:"/admin/filiais",class:"text-sm text-blue-600 hover:text-blue-900 font-medium"},{default:Je(()=>[...f[17]||(f[17]=[pe(" Ver todas ",-1)])]),_:1})]),c("div",Vb,[c("ul",Kb,[(A(!0),N(_e,null,Ye(r.value,m=>(A(),N("li",{key:m.id,class:"py-4"},[c("div",Jb,[f[19]||(f[19]=c("div",{class:"flex-shrink-0"},[c("div",{class:"h-10 w-10 rounded-lg bg-gradient-to-r from-blue-500 to-blue-600 flex items-center justify-center"},[c("svg",{class:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})])])],-1)),c("div",Gb,[c("p",Yb,D(m.nome),1),c("p",Xb,D(m.funcionarios_count||0)+" funcionários ",1)]),c("div",Qb,[c("span",{class:be(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",m.ativo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},D(m.ativo?"Ativa":"Inativa"),3)])])]))),128))])])])]),c("div",Zb,[c("div",ew,[c("div",tw,[f[21]||(f[21]=c("h3",{class:"text-lg leading-6 font-medium text-gray-900"}," Atividades Recentes ",-1)),K(h,{to:"/reports",class:"text-sm text-blue-600 hover:text-blue-900 font-medium"},{default:Je(()=>[...f[20]||(f[20]=[pe(" Ver todas ",-1)])]),_:1})]),c("div",nw,[c("ul",sw,[(A(!0),N(_e,null,Ye(o.value,m=>(A(),N("li",{key:m.id,class:"py-4"},[c("div",rw,[c("div",ow,[c("div",{class:be(["h-8 w-8 rounded-full flex items-center justify-center",a(m.tipo_atividade)])},[...f[22]||(f[22]=[c("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)])],2)]),c("div",iw,[c("p",aw,D(m.descricao),1),c("p",lw,D(i(m.created_at)),1)]),c("div",cw,[c("span",{class:be(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",l(m.resultado)])},D(m.resultado),3)])])]))),128))])])])])]),c("div",uw,[c("div",dw,[c("div",fw,[f[26]||(f[26]=c("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-6"}," Ações Administrativas ",-1)),c("div",hw,[c("button",{onClick:f[0]||(f[0]=m=>me(e).push("/admin/filiais/novo")),class:"relative group bg-gradient-to-r from-blue-500 to-blue-600 p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all transform hover:scale-105"},[...f[23]||(f[23]=[c("div",{class:"flex items-center"},[c("span",{class:"rounded-lg inline-flex p-3 bg-white bg-opacity-20"},[c("svg",{class:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})])]),c("div",{class:"ml-4"},[c("h3",{class:"text-lg font-medium text-white"}," Nova Filial "),c("p",{class:"mt-1 text-sm text-blue-100"}," Criar uma nova filial ")])],-1)])]),c("button",{onClick:f[1]||(f[1]=m=>me(e).push("/admin/funcionarios/novo")),class:"relative group bg-gradient-to-r from-green-500 to-green-600 p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-green-500 rounded-lg hover:from-green-600 hover:to-green-700 transition-all transform hover:scale-105"},[...f[24]||(f[24]=[c("div",{class:"flex items-center"},[c("span",{class:"rounded-lg inline-flex p-3 bg-white bg-opacity-20"},[c("svg",{class:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})])]),c("div",{class:"ml-4"},[c("h3",{class:"text-lg font-medium text-white"}," Novo Funcionário "),c("p",{class:"mt-1 text-sm text-green-100"}," Cadastrar funcionário ")])],-1)])]),c("button",{onClick:f[2]||(f[2]=m=>me(e).push("/reports")),class:"relative group bg-gradient-to-r from-purple-500 to-purple-600 p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-purple-500 rounded-lg hover:from-purple-600 hover:to-purple-700 transition-all transform hover:scale-105"},[...f[25]||(f[25]=[c("div",{class:"flex items-center"},[c("span",{class:"rounded-lg inline-flex p-3 bg-white bg-opacity-20"},[c("svg",{class:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])]),c("div",{class:"ml-4"},[c("h3",{class:"text-lg font-medium text-white"}," Relatórios "),c("p",{class:"mt-1 text-sm text-purple-100"}," Gerar relatórios ")])],-1)])])])])])])])])]}),_:1})}}}),pw=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},gw=pw(mw,[["__scopeId","data-v-564fc740"]]),vw={class:"py-6"},yw={class:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8"},bw={class:"md:flex md:items-center md:justify-between"},ww={class:"mt-4 flex md:mt-0 md:ml-4"},_w={class:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8"},xw={class:"mt-6 bg-white shadow rounded-lg"},kw={class:"p-6"},Sw={class:"grid grid-cols-1 gap-4 sm:grid-cols-3"},Ew={class:"mt-6 bg-white shadow overflow-hidden sm:rounded-md"},Ow={role:"list",class:"divide-y divide-gray-200"},Cw={class:"px-4 py-4 flex items-center justify-between hover:bg-gray-50"},Tw={class:"flex items-center"},$w={class:"ml-4"},Aw={class:"flex items-center"},Rw={class:"text-sm font-medium text-gray-900"},Pw={class:"text-sm text-gray-500"},jw={key:0},Iw={key:1,class:"ml-3"},Mw={key:0,class:"text-sm text-gray-500"},Dw={key:0},Nw={key:1,class:"ml-3"},Uw={class:"flex items-center space-x-2"},Fw=["onClick"],Lw=["onClick"],Bw={key:0,class:"h-4 w-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},qw={key:1,class:"h-4 w-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Hw={key:0,class:"mt-6 text-center"},Ww={class:"mt-6"},zw={key:0,class:"fixed z-10 inset-0 overflow-y-auto"},Vw={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Kw={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Jw={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Gw={class:"sm:flex sm:items-start"},Yw={class:"mt-3 text-center sm:mt-0 sm:text-left w-full"},Xw={class:"text-lg leading-6 font-medium text-gray-900"},Qw={class:"mt-4 space-y-4"},Zw={class:"grid grid-cols-2 gap-4"},e_={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},t_=["disabled"],n_=ft({__name:"FiliaisView",setup(t){eo();const e=q([]),n=q(""),s=q(""),r=q(!1),o=q(!1),i=q(!1),a=q(null),l=q({id:"",nome:"",codigo:"",cnpj:"",endereco:"",telefone:"",email:"",responsavel:""}),d=Ne(()=>{let y=e.value;if(n.value&&(y=y.filter(g=>g.nome.toLowerCase().includes(n.value.toLowerCase()))),s.value!==""){const g=s.value==="true";y=y.filter(x=>x.ativo===g)}return y}),u=async()=>{try{console.log("FiliaisView: Carregando filiais...");const y=await zt.getFiliais();y.success&&(e.value=y.filiais,console.log("FiliaisView: Filiais carregadas:",e.value))}catch(y){console.error("FiliaisView: Erro ao carregar filiais:",y)}},f=y=>{a.value=y,l.value={...y},o.value=!0},h=async y=>{try{i.value=!0,console.log("Toggle status filial:",y.id),y.ativo=!y.ativo}catch(g){console.error("Erro ao alterar status:",g)}finally{i.value=!1}},p=async()=>{try{i.value=!0,r.value?(l.value.id=`filial_${Date.now()}`,(await zt.criarFilial(l.value)).success&&(await u(),m())):(console.log("Editar filial:",l.value),m())}catch(y){console.error("Erro ao salvar filial:",y)}finally{i.value=!1}},m=()=>{r.value=!1,o.value=!1,a.value=null,l.value={id:"",nome:"",codigo:"",cnpj:"",endereco:"",telefone:"",email:"",responsavel:""}};return fn(()=>{u()}),(y,g)=>(A(),ye(Pn,null,{default:Je(()=>[c("div",vw,[c("div",yw,[c("div",bw,[g[12]||(g[12]=c("div",{class:"flex-1 min-w-0"},[c("h2",{class:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate"}," Gestão de Filiais "),c("p",{class:"mt-1 text-sm text-gray-500"}," Gerencie todas as filiais da rede DNOTAS ")],-1)),c("div",ww,[c("button",{onClick:g[0]||(g[0]=x=>r.value=!0),class:"ml-3 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[...g[11]||(g[11]=[c("svg",{class:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),pe(" Nova Filial ",-1)])])])])]),c("div",_w,[c("div",xw,[c("div",kw,[c("div",Sw,[c("div",null,[g[13]||(g[13]=c("label",{for:"search",class:"block text-sm font-medium text-gray-700"},"Buscar",-1)),re(c("input",{id:"search","onUpdate:modelValue":g[1]||(g[1]=x=>n.value=x),type:"text",placeholder:"Nome da filial...",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"},null,512),[[le,n.value]])]),c("div",null,[g[15]||(g[15]=c("label",{for:"status",class:"block text-sm font-medium text-gray-700"},"Status",-1)),re(c("select",{id:"status","onUpdate:modelValue":g[2]||(g[2]=x=>s.value=x),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"},[...g[14]||(g[14]=[c("option",{value:""},"Todos",-1),c("option",{value:"true"},"Ativas",-1),c("option",{value:"false"},"Inativas",-1)])],512),[[Vn,s.value]])]),c("div",{class:"flex items-end"},[c("button",{onClick:u,class:"w-full inline-flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[...g[16]||(g[16]=[c("svg",{class:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),pe(" Atualizar ",-1)])])])])])]),c("div",Ew,[c("ul",Ow,[(A(!0),N(_e,null,Ye(d.value,x=>(A(),N("li",{key:x.id},[c("div",Cw,[c("div",Tw,[g[17]||(g[17]=c("div",{class:"flex-shrink-0 h-10 w-10"},[c("div",{class:"h-10 w-10 rounded-lg bg-gradient-to-r from-blue-500 to-blue-600 flex items-center justify-center"},[c("svg",{class:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})])])],-1)),c("div",$w,[c("div",Aw,[c("div",Rw,D(x.nome),1),c("span",{class:be(["ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",x.ativo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},D(x.ativo?"Ativa":"Inativa"),3)]),c("div",Pw,[x.codigo?(A(),N("span",jw,"Código: "+D(x.codigo),1)):ae("",!0),x.cnpj?(A(),N("span",Iw,"CNPJ: "+D(x.cnpj),1)):ae("",!0)]),x.endereco||x.telefone?(A(),N("div",Mw,[x.endereco?(A(),N("span",Dw,D(x.endereco),1)):ae("",!0),x.telefone?(A(),N("span",Nw,"📞 "+D(x.telefone),1)):ae("",!0)])):ae("",!0)])]),c("div",Uw,[c("button",{onClick:_=>f(x),class:"inline-flex items-center p-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[...g[18]||(g[18]=[c("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,Fw),c("button",{onClick:_=>h(x),class:"inline-flex items-center p-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[x.ativo?(A(),N("svg",Bw,[...g[19]||(g[19]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14L21 3m0 0h-5.5M21 3v5.5M21 3l-3.5 3.5m-4.5 4.5L10 14l-4-4"},null,-1)])])):(A(),N("svg",qw,[...g[20]||(g[20]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])]))],8,Lw)])])]))),128))])]),d.value.length===0?(A(),N("div",Hw,[g[22]||(g[22]=c("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1)),g[23]||(g[23]=c("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Nenhuma filial encontrada",-1)),g[24]||(g[24]=c("p",{class:"mt-1 text-sm text-gray-500"},"Comece criando uma nova filial.",-1)),c("div",Ww,[c("button",{onClick:g[3]||(g[3]=x=>r.value=!0),class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[...g[21]||(g[21]=[c("svg",{class:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),pe(" Nova Filial ",-1)])])])])):ae("",!0)])]),r.value||o.value?(A(),N("div",zw,[c("div",Vw,[g[32]||(g[32]=c("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)),c("div",Kw,[c("form",{onSubmit:Tn(p,["prevent"])},[c("div",Jw,[c("div",Gw,[c("div",Yw,[c("h3",Xw,D(r.value?"Nova Filial":"Editar Filial"),1),c("div",Qw,[c("div",null,[g[25]||(g[25]=c("label",{for:"nome",class:"block text-sm font-medium text-gray-700"},"Nome *",-1)),re(c("input",{id:"nome","onUpdate:modelValue":g[4]||(g[4]=x=>l.value.nome=x),type:"text",required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Nome da filial"},null,512),[[le,l.value.nome]])]),c("div",null,[g[26]||(g[26]=c("label",{for:"codigo",class:"block text-sm font-medium text-gray-700"},"Código",-1)),re(c("input",{id:"codigo","onUpdate:modelValue":g[5]||(g[5]=x=>l.value.codigo=x),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"FIL001"},null,512),[[le,l.value.codigo]])]),c("div",null,[g[27]||(g[27]=c("label",{for:"cnpj",class:"block text-sm font-medium text-gray-700"},"CNPJ",-1)),re(c("input",{id:"cnpj","onUpdate:modelValue":g[6]||(g[6]=x=>l.value.cnpj=x),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"00.000.000/0000-00"},null,512),[[le,l.value.cnpj]])]),c("div",null,[g[28]||(g[28]=c("label",{for:"endereco",class:"block text-sm font-medium text-gray-700"},"Endereço",-1)),re(c("textarea",{id:"endereco","onUpdate:modelValue":g[7]||(g[7]=x=>l.value.endereco=x),rows:"2",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Endereço completo"},null,512),[[le,l.value.endereco]])]),c("div",Zw,[c("div",null,[g[29]||(g[29]=c("label",{for:"telefone",class:"block text-sm font-medium text-gray-700"},"Telefone",-1)),re(c("input",{id:"telefone","onUpdate:modelValue":g[8]||(g[8]=x=>l.value.telefone=x),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"(11) 99999-9999"},null,512),[[le,l.value.telefone]])]),c("div",null,[g[30]||(g[30]=c("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Email",-1)),re(c("input",{id:"email","onUpdate:modelValue":g[9]||(g[9]=x=>l.value.email=x),type:"email",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"contato@filial.com"},null,512),[[le,l.value.email]])])]),c("div",null,[g[31]||(g[31]=c("label",{for:"responsavel",class:"block text-sm font-medium text-gray-700"},"Responsável",-1)),re(c("input",{id:"responsavel","onUpdate:modelValue":g[10]||(g[10]=x=>l.value.responsavel=x),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Nome do responsável"},null,512),[[le,l.value.responsavel]])])])])])]),c("div",e_,[c("button",{type:"submit",disabled:i.value,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50"},D(i.value?"Salvando...":r.value?"Criar":"Salvar"),9,t_),c("button",{type:"button",onClick:m,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancelar ")])],32)])])])):ae("",!0)]),_:1}))}}),s_={class:"py-6"},r_={class:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8"},o_={class:"md:flex md:items-center md:justify-between"},i_={class:"mt-4 flex md:mt-0 md:ml-4"},a_={class:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8"},l_={class:"mt-6 bg-white shadow rounded-lg"},c_={class:"p-6"},u_={class:"grid grid-cols-1 gap-4 sm:grid-cols-4"},d_=["value"],f_={class:"mt-6 bg-white shadow overflow-hidden sm:rounded-md"},h_={role:"list",class:"divide-y divide-gray-200"},m_={class:"px-4 py-4 flex items-center justify-between hover:bg-gray-50"},p_={class:"flex items-center"},g_={class:"flex-shrink-0 h-10 w-10"},v_={class:"h-10 w-10 rounded-full bg-gradient-to-r from-green-500 to-green-600 flex items-center justify-center"},y_={class:"text-white font-medium text-sm"},b_={class:"ml-4"},w_={class:"flex items-center"},__={class:"text-sm font-medium text-gray-900"},x_={class:"text-sm text-gray-500"},k_={class:"ml-3"},S_={class:"text-sm text-gray-500"},E_={key:0,class:"ml-3"},O_={class:"flex items-center space-x-2"},C_=["onClick"],T_=["onClick"],$_={key:0,class:"h-4 w-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},A_={key:1,class:"h-4 w-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},R_=["onClick"],P_={key:0,class:"mt-6 text-center"},j_={class:"mt-6"},I_={key:0,class:"fixed z-10 inset-0 overflow-y-auto"},M_={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},D_={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},N_={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},U_={class:"sm:flex sm:items-start"},F_={class:"mt-3 text-center sm:mt-0 sm:text-left w-full"},L_={class:"text-lg leading-6 font-medium text-gray-900"},B_={class:"mt-4 space-y-4"},q_=["value"],H_={key:0},W_=["required"],z_={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},V_=["disabled"],K_=ft({__name:"FuncionariosView",setup(t){eo();const e=q([]),n=q([]),s=q(""),r=q(""),o=q(""),i=q(!1),a=q(!1),l=q(!1),d=q(null),u=q({nome:"",email:"",cargo:"",organizacao_id:"",role:"operator",senha:""}),f=Ne(()=>{let P=e.value;if(s.value){const T=s.value.toLowerCase();P=P.filter(j=>j.nome.toLowerCase().includes(T)||j.email.toLowerCase().includes(T))}return r.value&&(P=P.filter(T=>T.organizacao_id===r.value)),o.value&&(P=P.filter(T=>T.role===o.value)),P}),h=P=>{const T={admin:"bg-red-100 text-red-800",manager:"bg-blue-100 text-blue-800",operator:"bg-gray-100 text-gray-800"};return T[P]||T.operator},p=P=>({admin:"Administrador",manager:"Gerente",operator:"Operador"})[P]||"Operador",m=P=>{const T=n.value.find(j=>j.id===P);return T?T.nome:"Filial não encontrada"},y=P=>Fi(new Date(P),{addSuffix:!0,locale:qs}),g=async()=>{try{const P=await zt.getOrganizacoes();P.success&&(n.value=P.organizacoes)}catch(P){console.error("Erro ao carregar filiais:",P)}},x=async()=>{try{console.log("FuncionariosView: Carregando funcionários...");const P=[];for(const T of n.value){const j=await zt.getFuncionarios(T.id);j.success&&P.push(...j.funcionarios)}e.value=P,console.log("FuncionariosView: Funcionários carregados:",e.value)}catch(P){console.error("FuncionariosView: Erro ao carregar funcionários:",P)}},_=P=>{d.value=P,u.value={nome:P.nome,email:P.email,cargo:P.cargo,organizacao_id:P.organizacao_id,role:P.role,senha:""},a.value=!0},b=async P=>{try{l.value=!0,console.log("Toggle status funcionário:",P.id),P.ativo=!P.ativo}catch(T){console.error("Erro ao alterar status:",T)}finally{l.value=!1}},C=P=>{console.log("Ver atividades do funcionário:",P.id)},U=async()=>{try{l.value=!0,i.value?(await zt.criarFuncionario(u.value)).success&&(await x(),z()):(console.log("Editar funcionário:",u.value),z())}catch(P){console.error("Erro ao salvar funcionário:",P)}finally{l.value=!1}},z=()=>{i.value=!1,a.value=!1,d.value=null,u.value={nome:"",email:"",cargo:"",organizacao_id:"",role:"operator",senha:""}};return fn(async()=>{await g(),await x()}),(P,T)=>(A(),ye(Pn,null,{default:Je(()=>[c("div",s_,[c("div",r_,[c("div",o_,[T[12]||(T[12]=c("div",{class:"flex-1 min-w-0"},[c("h2",{class:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate"}," Gestão de Funcionários "),c("p",{class:"mt-1 text-sm text-gray-500"}," Gerencie funcionários de todas as filiais ")],-1)),c("div",i_,[c("button",{onClick:T[0]||(T[0]=j=>i.value=!0),class:"ml-3 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},[...T[11]||(T[11]=[c("svg",{class:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})],-1),pe(" Novo Funcionário ",-1)])])])])]),c("div",a_,[c("div",l_,[c("div",c_,[c("div",u_,[c("div",null,[T[13]||(T[13]=c("label",{for:"search",class:"block text-sm font-medium text-gray-700"},"Buscar",-1)),re(c("input",{id:"search","onUpdate:modelValue":T[1]||(T[1]=j=>s.value=j),type:"text",placeholder:"Nome ou email...",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm"},null,512),[[le,s.value]])]),c("div",null,[T[15]||(T[15]=c("label",{for:"filial",class:"block text-sm font-medium text-gray-700"},"Filial",-1)),re(c("select",{id:"filial","onUpdate:modelValue":T[2]||(T[2]=j=>r.value=j),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm"},[T[14]||(T[14]=c("option",{value:""},"Todas",-1)),(A(!0),N(_e,null,Ye(n.value,j=>(A(),N("option",{key:j.id,value:j.id},D(j.nome),9,d_))),128))],512),[[Vn,r.value]])]),c("div",null,[T[17]||(T[17]=c("label",{for:"role",class:"block text-sm font-medium text-gray-700"},"Função",-1)),re(c("select",{id:"role","onUpdate:modelValue":T[3]||(T[3]=j=>o.value=j),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm"},[...T[16]||(T[16]=[c("option",{value:""},"Todas",-1),c("option",{value:"admin"},"Administrador",-1),c("option",{value:"manager"},"Gerente",-1),c("option",{value:"operator"},"Operador",-1)])],512),[[Vn,o.value]])]),c("div",{class:"flex items-end"},[c("button",{onClick:x,class:"w-full inline-flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},[...T[18]||(T[18]=[c("svg",{class:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),pe(" Atualizar ",-1)])])])])])]),c("div",f_,[c("ul",h_,[(A(!0),N(_e,null,Ye(f.value,j=>(A(),N("li",{key:j.id},[c("div",m_,[c("div",p_,[c("div",g_,[c("div",v_,[c("span",y_,D(j.nome.charAt(0).toUpperCase()),1)])]),c("div",b_,[c("div",w_,[c("div",__,D(j.nome),1),c("span",{class:be(["ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",h(j.role)])},D(p(j.role)),3),c("span",{class:be(["ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",j.ativo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},D(j.ativo?"Ativo":"Inativo"),3)]),c("div",x_,[c("span",null,"📧 "+D(j.email),1),c("span",k_,"💼 "+D(j.cargo),1)]),c("div",S_,[c("span",null,"🏢 "+D(m(j.organizacao_id)),1),j.ultimo_login?(A(),N("span",E_," 🕐 Último login: "+D(y(j.ultimo_login)),1)):ae("",!0)])])]),c("div",O_,[c("button",{onClick:ce=>_(j),class:"inline-flex items-center p-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},[...T[19]||(T[19]=[c("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,C_),c("button",{onClick:ce=>b(j),class:"inline-flex items-center p-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},[j.ativo?(A(),N("svg",$_,[...T[20]||(T[20]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636"},null,-1)])])):(A(),N("svg",A_,[...T[21]||(T[21]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])]))],8,T_),c("button",{onClick:ce=>C(j),class:"inline-flex items-center p-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},[...T[22]||(T[22]=[c("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])],8,R_)])])]))),128))])]),f.value.length===0?(A(),N("div",P_,[T[24]||(T[24]=c("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})],-1)),T[25]||(T[25]=c("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Nenhum funcionário encontrado",-1)),T[26]||(T[26]=c("p",{class:"mt-1 text-sm text-gray-500"},"Comece criando um novo funcionário.",-1)),c("div",j_,[c("button",{onClick:T[4]||(T[4]=j=>i.value=!0),class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},[...T[23]||(T[23]=[c("svg",{class:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})],-1),pe(" Novo Funcionário ",-1)])])])])):ae("",!0)])]),i.value||a.value?(A(),N("div",I_,[c("div",M_,[T[35]||(T[35]=c("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)),c("div",D_,[c("form",{onSubmit:Tn(U,["prevent"])},[c("div",N_,[c("div",U_,[c("div",F_,[c("h3",L_,D(i.value?"Novo Funcionário":"Editar Funcionário"),1),c("div",B_,[c("div",null,[T[27]||(T[27]=c("label",{for:"nome",class:"block text-sm font-medium text-gray-700"},"Nome Completo *",-1)),re(c("input",{id:"nome","onUpdate:modelValue":T[5]||(T[5]=j=>u.value.nome=j),type:"text",required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm",placeholder:"Nome completo"},null,512),[[le,u.value.nome]])]),c("div",null,[T[28]||(T[28]=c("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Email *",-1)),re(c("input",{id:"email","onUpdate:modelValue":T[6]||(T[6]=j=>u.value.email=j),type:"email",required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm",placeholder:"email@exemplo.com"},null,512),[[le,u.value.email]])]),c("div",null,[T[29]||(T[29]=c("label",{for:"cargo",class:"block text-sm font-medium text-gray-700"},"Cargo *",-1)),re(c("input",{id:"cargo","onUpdate:modelValue":T[7]||(T[7]=j=>u.value.cargo=j),type:"text",required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm",placeholder:"Atendente, Analista, Gerente..."},null,512),[[le,u.value.cargo]])]),c("div",null,[T[31]||(T[31]=c("label",{for:"organizacao_id",class:"block text-sm font-medium text-gray-700"},"Filial *",-1)),re(c("select",{id:"organizacao_id","onUpdate:modelValue":T[8]||(T[8]=j=>u.value.organizacao_id=j),required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm"},[T[30]||(T[30]=c("option",{value:""},"Selecione a filial",-1)),(A(!0),N(_e,null,Ye(n.value,j=>(A(),N("option",{key:j.id,value:j.id},D(j.nome),9,q_))),128))],512),[[Vn,u.value.organizacao_id]])]),c("div",null,[T[33]||(T[33]=c("label",{for:"role",class:"block text-sm font-medium text-gray-700"},"Função *",-1)),re(c("select",{id:"role","onUpdate:modelValue":T[9]||(T[9]=j=>u.value.role=j),required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm"},[...T[32]||(T[32]=[c("option",{value:"operator"},"👤 Operador",-1),c("option",{value:"manager"},"👨‍💼 Gerente",-1),c("option",{value:"admin"},"👑 Administrador",-1)])],512),[[Vn,u.value.role]])]),i.value?(A(),N("div",H_,[T[34]||(T[34]=c("label",{for:"senha",class:"block text-sm font-medium text-gray-700"},"Senha *",-1)),re(c("input",{id:"senha","onUpdate:modelValue":T[10]||(T[10]=j=>u.value.senha=j),type:"password",required:i.value,class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm",placeholder:"Mínimo 6 caracteres",minlength:"6"},null,8,W_),[[le,u.value.senha]])])):ae("",!0)])])])]),c("div",z_,[c("button",{type:"submit",disabled:l.value,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50"},D(l.value?"Salvando...":i.value?"Criar":"Salvar"),9,V_),c("button",{type:"button",onClick:z,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancelar ")])],32)])])])):ae("",!0)]),_:1}))}});function J_(){const t=q(!1),e=q(!1),n=()=>{t.value="Notification"in window,e.value=Notification.permission==="granted"},s=async()=>{if(!t.value)return!1;const l=await Notification.requestPermission();return e.value=l==="granted",e.value},r=()=>{try{const l=new(window.AudioContext||window.webkitAudioContext),d=l.createOscillator(),u=l.createGain();d.connect(u),u.connect(l.destination),d.frequency.value=800,d.type="sine",u.gain.setValueAtTime(.3,l.currentTime),u.gain.exponentialRampToValueAtTime(.01,l.currentTime+.5),d.start(l.currentTime),d.stop(l.currentTime+.5)}catch(l){console.log("Erro ao criar som:",l);try{const d=new Audio("/notification.mp3");d.volume=.5,d.play().catch(()=>{})}catch{console.log("Fallback de áudio falhou")}}},o=l=>{if(r(),e.value){const d=new Notification(l.title,{body:l.body,icon:l.icon||"/favicon.ico",tag:"dnotas-chat",renotify:!0});return setTimeout(()=>{d.close()},5e3),d}return null};return{isSupported:t,isPermissionGranted:e,checkSupport:n,requestPermission:s,showNotification:o,notifyNewMessage:(l,d)=>{o({title:`Nova mensagem de ${l}`,body:d.length>50?d.substring(0,50)+"...":d,icon:"/favicon.ico"})},notifyNewConversation:(l,d)=>{o({title:"Nova conversa iniciada",body:`${l}: ${d}`,icon:"/favicon.ico"})},playNotificationSound:r}}const G_={class:"flex h-full"},Y_={class:"w-80 bg-white border-r border-gray-200 flex flex-col"},X_={class:"px-4 py-6 border-b border-gray-200"},Q_={class:"flex items-center justify-between"},Z_={class:"flex items-center space-x-2"},e1={class:"mt-4 space-y-3"},t1={class:"relative"},n1={class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},s1={class:"flex-1 overflow-y-auto"},r1={key:0,class:"p-4 text-center text-gray-500"},o1={key:1,class:"p-4 text-center text-gray-500"},i1={key:2,class:"divide-y divide-gray-200"},a1=["onClick"],l1={class:"flex items-start space-x-3"},c1={class:"flex-shrink-0 relative"},u1={class:"h-10 w-10 rounded-full bg-primary-500 flex items-center justify-center"},d1={class:"text-white text-sm font-medium"},f1={class:"flex-1 min-w-0"},h1={class:"flex items-center justify-between"},m1={class:"text-sm font-medium text-gray-900 truncate"},p1={class:"flex items-center space-x-1"},g1={key:0,class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800"},v1={class:"text-xs text-gray-500"},y1={class:"text-sm font-medium text-gray-700 truncate mt-1"},b1={class:"flex items-center justify-between mt-1"},w1={class:"text-xs text-gray-500 truncate mt-1"},_1={class:"flex-1 flex flex-col"},x1={key:0,class:"flex-1 flex items-center justify-center bg-gray-50"},k1={class:"text-center"},S1={key:1,class:"flex-1 flex flex-col"},E1={class:"px-6 py-4 border-b border-gray-200 bg-white"},O1={class:"flex items-center justify-between"},C1={class:"flex items-center space-x-3"},T1={class:"flex-shrink-0"},$1={class:"h-10 w-10 rounded-full bg-primary-500 flex items-center justify-center"},A1={class:"text-white text-sm font-medium"},R1={class:"text-lg font-medium text-gray-900"},P1={class:"text-sm text-gray-500"},j1={class:"flex items-center space-x-2"},I1=["disabled"],M1=["disabled"],D1={key:0,class:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 z-10"},N1={class:"py-1"},U1={key:0,class:"text-center text-gray-500"},F1={key:0,class:"text-xs font-medium text-gray-600 mb-1"},L1={class:"text-sm whitespace-pre-wrap"},B1=["href"],q1={class:"px-6 py-4 bg-white border-t border-gray-200"},H1={key:0,class:"mb-3 p-2 bg-gray-100 rounded flex items-center justify-between"},W1={class:"flex items-center space-x-2"},z1={class:"text-sm text-gray-700"},V1={class:"flex-1"},K1=["disabled","onKeydown"],J1={class:"flex flex-col space-y-2"},G1=["disabled"],Y1={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},X1={class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white"},Q1={class:"flex items-center justify-between mb-4"},Z1={class:"space-y-2"},ex=["onClick"],tx={class:"font-medium text-sm text-gray-900"},nx={class:"text-xs text-gray-500 mt-1"},sx=ft({__name:"ChatView",setup(t){const e=Ys(),{requestPermission:n,notifyNewMessage:s,notifyNewConversation:r,checkSupport:o}=J_(),i=q(""),a=q(""),l=q([]),d=q(null),u=q([]),f=q(""),h=q([]),p=q(!1),m=q(!1),y=q(!1),g=q(!1),x=q(!1),_=q(!1),b=q(!1),C=q(!1),U=q(null),z=q(null),P=q(null),T=q(null),j=Ne(()=>{let E=l.value;return i.value&&(E=E.filter(S=>S.cliente_nome.toLowerCase().includes(i.value.toLowerCase())||S.titulo.toLowerCase().includes(i.value.toLowerCase()))),a.value&&(E=E.filter(S=>S.status===a.value)),E.sort((S,k)=>S.mensagens_nao_lidas>0&&k.mensagens_nao_lidas===0?-1:S.mensagens_nao_lidas===0&&k.mensagens_nao_lidas>0?1:new Date(k.ultima_mensagem_em).getTime()-new Date(S.ultima_mensagem_em).getTime())}),ce=Ne(()=>d.value&&(f.value.trim()||U.value)&&!g.value&&d.value.status!=="finalizado"),je=E=>Fi(new Date(E),{addSuffix:!0,locale:qs}),Ie=E=>zu(new Date(E),"HH:mm",{locale:qs}),Te=E=>({aberto:"bg-green-400",em_atendimento:"bg-blue-400",aguardando_cliente:"bg-yellow-400",finalizado:"bg-gray-400"})[E]||"bg-gray-400",Fe=E=>({aberto:"bg-green-100 text-green-800",em_atendimento:"bg-blue-100 text-blue-800",aguardando_cliente:"bg-yellow-100 text-yellow-800",finalizado:"bg-gray-100 text-gray-800"})[E]||"bg-gray-100 text-gray-800",it=E=>({aberto:"Aberto",em_atendimento:"Em atendimento",aguardando_cliente:"Aguardando",finalizado:"Finalizado"})[E]||E,oe=E=>({baixa:"bg-gray-100 text-gray-800",normal:"bg-blue-100 text-blue-800",alta:"bg-orange-100 text-orange-800",urgente:"bg-red-100 text-red-800"})[E]||"bg-gray-100 text-gray-800",Q=E=>`https://api.dnotas.com.br:9999${E}`,Z=async()=>{var E;m.value=!0;try{const S=await fetch(`https://api.dnotas.com.br:9999/api/chat/conversations/attendance/${(E=e.user)==null?void 0:E.filial_id}`,{headers:{Authorization:`Bearer ${e.token}`}});if(S.ok){const k=await S.json();l.value=k.data||[]}}catch(S){console.error("Erro ao carregar conversas:",S)}finally{m.value=!1}},Xe=async E=>{d.value=E,await Qe(E.id),E.mensagens_nao_lidas>0&&(await at(E.id),E.mensagens_nao_lidas=0)},Qe=async E=>{y.value=!0;try{const S=await fetch(`https://api.dnotas.com.br:9999/api/chat/messages/${E}`);if(S.ok){const k=await S.json();u.value=k.data||[],await V()}}catch(S){console.error("Erro ao carregar mensagens:",S)}finally{y.value=!1}},$e=async()=>{var E,S;if(!(!ce.value||!d.value)){g.value=!0;try{const k=new FormData;k.append("conversa_id",d.value.id),k.append("funcionario_id",((E=e.user)==null?void 0:E.id)||""),k.append("funcionario_nome",((S=e.user)==null?void 0:S.nome)||""),k.append("conteudo",f.value.trim()),U.value?(k.append("arquivo",U.value),k.append("tipo_conteudo","arquivo")):k.append("tipo_conteudo","texto"),(await fetch("https://api.dnotas.com.br:9999/api/chat/messages/send-staff",{method:"POST",body:k,headers:{Authorization:`Bearer ${e.token}`}})).ok&&(f.value="",U.value=null,await Qe(d.value.id),await Z())}catch(k){console.error("Erro ao enviar mensagem:",k)}finally{g.value=!1}}},Ce=async()=>{var E,S,k;if(d.value){x.value=!0;try{(await fetch(`https://api.dnotas.com.br:9999/api/chat/conversations/${d.value.id}/assume`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},body:JSON.stringify({funcionario_id:(E=e.user)==null?void 0:E.id,funcionario_nome:(S=e.user)==null?void 0:S.nome})})).ok&&(d.value.atendente_nome=((k=e.user)==null?void 0:k.nome)||"",d.value.status="em_atendimento",await Z())}catch(I){console.error("Erro ao assumir atendimento:",I)}finally{x.value=!1}}},ht=async()=>{var E;if(d.value){_.value=!0;try{(await fetch(`https://api.dnotas.com.br:9999/api/chat/conversations/${d.value.id}/finalize`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},body:JSON.stringify({funcionario_id:(E=e.user)==null?void 0:E.id})})).ok&&(d.value.status="finalizado",await Z())}catch(S){console.error("Erro ao finalizar conversa:",S)}finally{_.value=!1}}},at=async E=>{try{await fetch(`https://api.dnotas.com.br:9999/api/chat/messages/read-staff/${E}`,{method:"POST",headers:{Authorization:`Bearer ${e.token}`}})}catch(S){console.error("Erro ao marcar como lida:",S)}},Nt=async()=>{var E;try{(await fetch(`https://api.dnotas.com.br:9999/api/funcionarios/${(E=e.user)==null?void 0:E.id}/toggle-status`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},body:JSON.stringify({atendimento_ativo:!p.value})})).ok&&(p.value=!p.value)}catch(S){console.error("Erro ao alterar status:",S)}},Ze=async()=>{var E;try{const S=await fetch(`https://api.dnotas.com.br:9999/api/chat/templates/${(E=e.user)==null?void 0:E.filial_id}`);if(S.ok){const k=await S.json();h.value=k.data||[]}}catch(S){console.error("Erro ao carregar templates:",S)}},R=E=>{f.value=E.conteudo,C.value=!1},W=E=>{const S=E.target;S.files&&S.files[0]&&(U.value=S.files[0])},B=()=>{U.value=null,P.value&&(P.value.value="")},V=async()=>{await Vs(),z.value&&(z.value.scrollTop=z.value.scrollHeight)};let ue=null;const v=()=>{ue=setInterval(async()=>{var k;const E=[...l.value];await Z();const S=l.value.filter(I=>!E.find(F=>F.id===I.id));for(const I of S)r(I.cliente_nome,I.titulo);for(const I of l.value){const F=E.find(L=>L.id===I.id);F&&I.mensagens_nao_lidas>F.mensagens_nao_lidas&&((k=d.value)==null?void 0:k.id)!==I.id&&s(I.cliente_nome,I.ultima_mensagem||"Nova mensagem")}d.value&&await Qe(d.value.id)},5e3)},w=()=>{ue&&(clearInterval(ue),ue=null)},O=E=>{T.value&&!T.value.contains(E.target)&&(b.value=!1)};return fn(async()=>{o(),await n(),await Z(),await Ze(),v(),document.addEventListener("click",O)}),Ai(()=>{w(),document.removeEventListener("click",O)}),ln(u,()=>{V()},{deep:!0}),(E,S)=>(A(),ye(Pn,null,{default:Je(()=>[c("div",G_,[c("div",Y_,[c("div",X_,[c("div",Q_,[S[9]||(S[9]=c("h2",{class:"text-lg font-medium text-gray-900"},"Atendimentos",-1)),c("div",Z_,[c("button",{onClick:Nt,class:be(["flex items-center px-3 py-1 rounded-full text-xs font-medium transition-colors",p.value?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"])},[c("div",{class:be(["w-2 h-2 rounded-full mr-2",p.value?"bg-green-500":"bg-gray-400"])},null,2),pe(" "+D(p.value?"Online":"Offline"),1)],2)])]),c("div",e1,[c("div",t1,[re(c("input",{"onUpdate:modelValue":S[0]||(S[0]=k=>i.value=k),type:"text",class:"block w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Buscar cliente..."},null,512),[[le,i.value]]),c("div",n1,[K(me(Uu),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),re(c("select",{"onUpdate:modelValue":S[1]||(S[1]=k=>a.value=k),class:"block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"},[...S[10]||(S[10]=[c("option",{value:""},"Todos os status",-1),c("option",{value:"aberto"},"Aberto",-1),c("option",{value:"em_atendimento"},"Em atendimento",-1),c("option",{value:"aguardando_cliente"},"Aguardando cliente",-1),c("option",{value:"finalizado"},"Finalizado",-1)])],512),[[Vn,a.value]])])]),c("div",s1,[m.value?(A(),N("div",r1," Carregando conversas... ")):j.value.length===0?(A(),N("div",o1," Nenhuma conversa encontrada ")):(A(),N("div",i1,[(A(!0),N(_e,null,Ye(j.value,k=>{var I;return A(),N("div",{key:k.id,class:be(["px-4 py-4 hover:bg-gray-50 cursor-pointer transition-colors relative",{"bg-primary-50 border-r-2 border-primary-500":((I=d.value)==null?void 0:I.id)===k.id}]),onClick:F=>Xe(k)},[k.prioridade==="alta"||k.prioridade==="urgente"?(A(),N("div",{key:0,class:be(["absolute left-0 top-0 bottom-0 w-1",k.prioridade==="urgente"?"bg-red-500":"bg-orange-400"])},null,2)):ae("",!0),c("div",l1,[c("div",c1,[c("div",u1,[c("span",d1,D(k.cliente_nome.charAt(0).toUpperCase()),1)]),c("div",{class:be(["absolute -bottom-1 -right-1 h-3 w-3 border-2 border-white rounded-full",Te(k.status)])},null,2)]),c("div",f1,[c("div",h1,[c("p",m1,D(k.cliente_nome),1),c("div",p1,[k.mensagens_nao_lidas>0?(A(),N("span",g1,D(k.mensagens_nao_lidas),1)):ae("",!0),c("span",v1,D(je(k.ultima_mensagem_em)),1)])]),c("p",y1,D(k.titulo),1),c("div",b1,[c("span",{class:be(["inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium",Fe(k.status)])},D(it(k.status)),3),k.prioridade!=="normal"?(A(),N("span",{key:0,class:be(["inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium",oe(k.prioridade)])},D(k.prioridade.charAt(0).toUpperCase()+k.prioridade.slice(1)),3)):ae("",!0)]),c("p",w1,D(k.ultima_mensagem||"Nenhuma mensagem ainda"),1)])])],10,a1)}),128))]))])]),c("div",_1,[d.value?(A(),N("div",S1,[c("div",E1,[c("div",O1,[c("div",C1,[c("div",T1,[c("div",$1,[c("span",A1,D(d.value.cliente_nome.charAt(0).toUpperCase()),1)])]),c("div",null,[c("h3",R1,D(d.value.cliente_nome),1),c("p",P1,D(d.value.titulo),1)])]),c("div",j1,[d.value.atendente_nome?ae("",!0):(A(),N("button",{key:0,onClick:Ce,disabled:x.value,class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50"},[K(me(K0),{class:"h-4 w-4 mr-2"}),pe(" "+D(x.value?"Assumindo...":"Assumir"),1)],8,I1)),d.value.atendente_nome&&d.value.status!=="finalizado"?(A(),N("button",{key:1,onClick:ht,disabled:_.value,class:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},[K(me(B0),{class:"h-4 w-4 mr-2"}),pe(" "+D(_.value?"Finalizando...":"Finalizar"),1)],8,M1)):ae("",!0),c("div",{class:"relative",ref_key:"menuRef",ref:T},[c("button",{onClick:S[2]||(S[2]=k=>b.value=!b.value),class:"p-2 text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 rounded-md"},[K(me(q0),{class:"h-5 w-5"})]),b.value?(A(),N("div",D1,[c("div",N1,[c("button",{onClick:S[3]||(S[3]=k=>{C.value=!0,b.value=!1}),class:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},[K(me(V0),{class:"inline h-4 w-4 mr-2"}),S[13]||(S[13]=pe(" Templates ",-1))]),c("button",{onClick:S[4]||(S[4]=(...k)=>E.uploadFile&&E.uploadFile(...k)),class:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},[K(me(lr),{class:"inline h-4 w-4 mr-2"}),S[14]||(S[14]=pe(" Anexar arquivo ",-1))])])])):ae("",!0)],512)])])]),c("div",{ref_key:"mensagensContainer",ref:z,class:"flex-1 overflow-y-auto p-6 bg-gray-50 space-y-4"},[y.value?(A(),N("div",U1," Carregando mensagens... ")):ae("",!0),(A(!0),N(_e,null,Ye(u.value,k=>(A(),N("div",{key:k.id,class:be(["flex",k.remetente_tipo==="cliente"?"justify-start":"justify-end"])},[c("div",{class:be(["max-w-xs lg:max-w-md px-4 py-2 rounded-lg",k.remetente_tipo==="cliente"?"bg-white text-gray-900 shadow-sm":k.remetente_tipo==="funcionario"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700"])},[k.remetente_tipo==="sistema"?(A(),N("p",F1,D(k.remetente_nome),1)):ae("",!0),c("p",L1,D(k.conteudo),1),k.arquivo_url?(A(),N("div",{key:1,class:be(["mt-2 p-2 bg-gray-100 rounded border",k.remetente_tipo!=="cliente"?"bg-primary-500":""])},[c("a",{href:Q(k.arquivo_url),target:"_blank",class:be(["text-xs flex items-center space-x-1 hover:underline",k.remetente_tipo!=="cliente"?"text-white":"text-gray-700"])},[K(me(lr),{class:"h-3 w-3"}),c("span",null,D(k.arquivo_nome),1)],10,B1)],2)):ae("",!0),c("p",{class:be(["text-xs mt-1",k.remetente_tipo==="cliente"?"text-gray-500":k.remetente_tipo==="funcionario"?"text-primary-100":"text-gray-500"])},D(Ie(k.created_at)),3)],2)],2))),128))],512),c("div",q1,[U.value?(A(),N("div",H1,[c("div",W1,[K(me(lr),{class:"h-4 w-4 text-gray-500"}),c("span",z1,D(U.value.name),1)]),c("button",{onClick:B,class:"text-red-500 hover:text-red-700"},[K(me(pl),{class:"h-4 w-4"})])])):ae("",!0),c("form",{onSubmit:Tn($e,["prevent"]),class:"flex space-x-4"},[c("div",V1,[re(c("textarea",{"onUpdate:modelValue":S[5]||(S[5]=k=>f.value=k),rows:"2",class:"block w-full border border-gray-300 rounded-md resize-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Digite sua mensagem...",disabled:!ce.value,onKeydown:[Sa(Tn($e,["exact","prevent"]),["enter"]),S[6]||(S[6]=Sa(Tn(k=>f.value+=`
`,["shift","exact"]),["enter"]))]},null,40,K1),[[le,f.value]])]),c("div",J1,[c("input",{ref_key:"fileInput",ref:P,type:"file",onChange:W,accept:".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png,.gif,.txt",class:"hidden"},null,544),c("button",{type:"button",onClick:S[7]||(S[7]=k=>E.$refs.fileInput.click()),class:"p-2 text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 rounded-md"},[K(me(lr),{class:"h-5 w-5"})]),c("button",{type:"submit",disabled:!ce.value||g.value,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed"},[K(me(z0),{class:"h-5 w-5"})],8,G1)])],32)])])):(A(),N("div",x1,[c("div",k1,[K(me(ci),{class:"mx-auto h-12 w-12 text-gray-400"}),S[11]||(S[11]=c("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Selecione uma conversa",-1)),S[12]||(S[12]=c("p",{class:"mt-1 text-sm text-gray-500"}," Escolha uma conversa na lista para começar o atendimento. ",-1))])]))])]),C.value?(A(),N("div",Y1,[c("div",X1,[c("div",Q1,[S[15]||(S[15]=c("h3",{class:"text-lg font-medium text-gray-900"},"Templates de Mensagens",-1)),c("button",{onClick:S[8]||(S[8]=k=>C.value=!1),class:"text-gray-400 hover:text-gray-600"},[K(me(pl),{class:"h-5 w-5"})])]),c("div",Z1,[(A(!0),N(_e,null,Ye(h.value,k=>(A(),N("button",{key:k.id,onClick:I=>R(k),class:"w-full text-left p-3 hover:bg-gray-50 rounded border"},[c("p",tx,D(k.titulo),1),c("p",nx,D(k.conteudo.substring(0,100))+"...",1)],8,ex))),128))])])])):ae("",!0)]),_:1}))}});function Vu(t,e){return function(){return t.apply(e,arguments)}}const{toString:rx}=Object.prototype,{getPrototypeOf:Li}=Object,{iterator:io,toStringTag:Ku}=Symbol,ao=(t=>e=>{const n=rx.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),St=t=>(t=t.toLowerCase(),e=>ao(e)===t),lo=t=>e=>typeof e===t,{isArray:ls}=Array,rs=lo("undefined");function Qs(t){return t!==null&&!rs(t)&&t.constructor!==null&&!rs(t.constructor)&&rt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Ju=St("ArrayBuffer");function ox(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Ju(t.buffer),e}const ix=lo("string"),rt=lo("function"),Gu=lo("number"),Zs=t=>t!==null&&typeof t=="object",ax=t=>t===!0||t===!1,vr=t=>{if(ao(t)!=="object")return!1;const e=Li(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Ku in t)&&!(io in t)},lx=t=>{if(!Zs(t)||Qs(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},cx=St("Date"),ux=St("File"),dx=St("Blob"),fx=St("FileList"),hx=t=>Zs(t)&&rt(t.pipe),mx=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||rt(t.append)&&((e=ao(t))==="formdata"||e==="object"&&rt(t.toString)&&t.toString()==="[object FormData]"))},px=St("URLSearchParams"),[gx,vx,yx,bx]=["ReadableStream","Request","Response","Headers"].map(St),wx=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function er(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,r;if(typeof t!="object"&&(t=[t]),ls(t))for(s=0,r=t.length;s<r;s++)e.call(null,t[s],s,t);else{if(Qs(t))return;const o=n?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let a;for(s=0;s<i;s++)a=o[s],e.call(null,t[a],a,t)}}function Yu(t,e){if(Qs(t))return null;e=e.toLowerCase();const n=Object.keys(t);let s=n.length,r;for(;s-- >0;)if(r=n[s],e===r.toLowerCase())return r;return null}const En=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Xu=t=>!rs(t)&&t!==En;function ui(){const{caseless:t,skipUndefined:e}=Xu(this)&&this||{},n={},s=(r,o)=>{const i=t&&Yu(n,o)||o;vr(n[i])&&vr(r)?n[i]=ui(n[i],r):vr(r)?n[i]=ui({},r):ls(r)?n[i]=r.slice():(!e||!rs(r))&&(n[i]=r)};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&er(arguments[r],s);return n}const _x=(t,e,n,{allOwnKeys:s}={})=>(er(e,(r,o)=>{n&&rt(r)?t[o]=Vu(r,n):t[o]=r},{allOwnKeys:s}),t),xx=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),kx=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Sx=(t,e,n,s)=>{let r,o,i;const a={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),o=r.length;o-- >0;)i=r[o],(!s||s(i,t,e))&&!a[i]&&(e[i]=t[i],a[i]=!0);t=n!==!1&&Li(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Ex=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},Ox=t=>{if(!t)return null;if(ls(t))return t;let e=t.length;if(!Gu(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Cx=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Li(Uint8Array)),Tx=(t,e)=>{const s=(t&&t[io]).call(t);let r;for(;(r=s.next())&&!r.done;){const o=r.value;e.call(t,o[0],o[1])}},$x=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},Ax=St("HTMLFormElement"),Rx=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),xl=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Px=St("RegExp"),Qu=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};er(n,(r,o)=>{let i;(i=e(r,o,t))!==!1&&(s[o]=i||r)}),Object.defineProperties(t,s)},jx=t=>{Qu(t,(e,n)=>{if(rt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(rt(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Ix=(t,e)=>{const n={},s=r=>{r.forEach(o=>{n[o]=!0})};return ls(t)?s(t):s(String(t).split(e)),n},Mx=()=>{},Dx=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Nx(t){return!!(t&&rt(t.append)&&t[Ku]==="FormData"&&t[io])}const Ux=t=>{const e=new Array(10),n=(s,r)=>{if(Zs(s)){if(e.indexOf(s)>=0)return;if(Qs(s))return s;if(!("toJSON"in s)){e[r]=s;const o=ls(s)?[]:{};return er(s,(i,a)=>{const l=n(i,r+1);!rs(l)&&(o[a]=l)}),e[r]=void 0,o}}return s};return n(t,0)},Fx=St("AsyncFunction"),Lx=t=>t&&(Zs(t)||rt(t))&&rt(t.then)&&rt(t.catch),Zu=((t,e)=>t?setImmediate:e?((n,s)=>(En.addEventListener("message",({source:r,data:o})=>{r===En&&o===n&&s.length&&s.shift()()},!1),r=>{s.push(r),En.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",rt(En.postMessage)),Bx=typeof queueMicrotask<"u"?queueMicrotask.bind(En):typeof process<"u"&&process.nextTick||Zu,qx=t=>t!=null&&rt(t[io]),$={isArray:ls,isArrayBuffer:Ju,isBuffer:Qs,isFormData:mx,isArrayBufferView:ox,isString:ix,isNumber:Gu,isBoolean:ax,isObject:Zs,isPlainObject:vr,isEmptyObject:lx,isReadableStream:gx,isRequest:vx,isResponse:yx,isHeaders:bx,isUndefined:rs,isDate:cx,isFile:ux,isBlob:dx,isRegExp:Px,isFunction:rt,isStream:hx,isURLSearchParams:px,isTypedArray:Cx,isFileList:fx,forEach:er,merge:ui,extend:_x,trim:wx,stripBOM:xx,inherits:kx,toFlatObject:Sx,kindOf:ao,kindOfTest:St,endsWith:Ex,toArray:Ox,forEachEntry:Tx,matchAll:$x,isHTMLForm:Ax,hasOwnProperty:xl,hasOwnProp:xl,reduceDescriptors:Qu,freezeMethods:jx,toObjectSet:Ix,toCamelCase:Rx,noop:Mx,toFiniteNumber:Dx,findKey:Yu,global:En,isContextDefined:Xu,isSpecCompliantForm:Nx,toJSONObject:Ux,isAsyncFn:Fx,isThenable:Lx,setImmediate:Zu,asap:Bx,isIterable:qx};function se(t,e,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}$.inherits(se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const ed=se.prototype,td={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{td[t]={value:t}});Object.defineProperties(se,td);Object.defineProperty(ed,"isAxiosError",{value:!0});se.from=(t,e,n,s,r,o)=>{const i=Object.create(ed);$.toFlatObject(t,i,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const a=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return se.call(i,a,l,n,s,r),t&&i.cause==null&&Object.defineProperty(i,"cause",{value:t,configurable:!0}),i.name=t&&t.name||"Error",o&&Object.assign(i,o),i};const Hx=null;function di(t){return $.isPlainObject(t)||$.isArray(t)}function nd(t){return $.endsWith(t,"[]")?t.slice(0,-2):t}function kl(t,e,n){return t?t.concat(e).map(function(r,o){return r=nd(r),!n&&o?"["+r+"]":r}).join(n?".":""):e}function Wx(t){return $.isArray(t)&&!t.some(di)}const zx=$.toFlatObject($,{},null,function(e){return/^is[A-Z]/.test(e)});function co(t,e,n){if(!$.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=$.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,g){return!$.isUndefined(g[y])});const s=n.metaTokens,r=n.visitor||u,o=n.dots,i=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(e);if(!$.isFunction(r))throw new TypeError("visitor must be a function");function d(m){if(m===null)return"";if($.isDate(m))return m.toISOString();if($.isBoolean(m))return m.toString();if(!l&&$.isBlob(m))throw new se("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(m)||$.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,y,g){let x=m;if(m&&!g&&typeof m=="object"){if($.endsWith(y,"{}"))y=s?y:y.slice(0,-2),m=JSON.stringify(m);else if($.isArray(m)&&Wx(m)||($.isFileList(m)||$.endsWith(y,"[]"))&&(x=$.toArray(m)))return y=nd(y),x.forEach(function(b,C){!($.isUndefined(b)||b===null)&&e.append(i===!0?kl([y],C,o):i===null?y:y+"[]",d(b))}),!1}return di(m)?!0:(e.append(kl(g,y,o),d(m)),!1)}const f=[],h=Object.assign(zx,{defaultVisitor:u,convertValue:d,isVisitable:di});function p(m,y){if(!$.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(m),$.forEach(m,function(x,_){(!($.isUndefined(x)||x===null)&&r.call(e,x,$.isString(_)?_.trim():_,y,h))===!0&&p(x,y?y.concat(_):[_])}),f.pop()}}if(!$.isObject(t))throw new TypeError("data must be an object");return p(t),e}function Sl(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Bi(t,e){this._pairs=[],t&&co(t,this,e)}const sd=Bi.prototype;sd.append=function(e,n){this._pairs.push([e,n])};sd.toString=function(e){const n=e?function(s){return e.call(this,s,Sl)}:Sl;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function Vx(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function rd(t,e,n){if(!e)return t;const s=n&&n.encode||Vx;$.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let o;if(r?o=r(e,n):o=$.isURLSearchParams(e)?e.toString():new Bi(e,n).toString(s),o){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class El{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){$.forEach(this.handlers,function(s){s!==null&&e(s)})}}const od={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Kx=typeof URLSearchParams<"u"?URLSearchParams:Bi,Jx=typeof FormData<"u"?FormData:null,Gx=typeof Blob<"u"?Blob:null,Yx={isBrowser:!0,classes:{URLSearchParams:Kx,FormData:Jx,Blob:Gx},protocols:["http","https","file","blob","url","data"]},qi=typeof window<"u"&&typeof document<"u",fi=typeof navigator=="object"&&navigator||void 0,Xx=qi&&(!fi||["ReactNative","NativeScript","NS"].indexOf(fi.product)<0),Qx=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Zx=qi&&window.location.href||"http://localhost",e2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qi,hasStandardBrowserEnv:Xx,hasStandardBrowserWebWorkerEnv:Qx,navigator:fi,origin:Zx},Symbol.toStringTag,{value:"Module"})),ze={...e2,...Yx};function t2(t,e){return co(t,new ze.classes.URLSearchParams,{visitor:function(n,s,r,o){return ze.isNode&&$.isBuffer(n)?(this.append(s,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function n2(t){return $.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function s2(t){const e={},n=Object.keys(t);let s;const r=n.length;let o;for(s=0;s<r;s++)o=n[s],e[o]=t[o];return e}function id(t){function e(n,s,r,o){let i=n[o++];if(i==="__proto__")return!0;const a=Number.isFinite(+i),l=o>=n.length;return i=!i&&$.isArray(r)?r.length:i,l?($.hasOwnProp(r,i)?r[i]=[r[i],s]:r[i]=s,!a):((!r[i]||!$.isObject(r[i]))&&(r[i]=[]),e(n,s,r[i],o)&&$.isArray(r[i])&&(r[i]=s2(r[i])),!a)}if($.isFormData(t)&&$.isFunction(t.entries)){const n={};return $.forEachEntry(t,(s,r)=>{e(n2(s),r,n,0)}),n}return null}function r2(t,e,n){if($.isString(t))try{return(e||JSON.parse)(t),$.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const tr={transitional:od,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,o=$.isObject(e);if(o&&$.isHTMLForm(e)&&(e=new FormData(e)),$.isFormData(e))return r?JSON.stringify(id(e)):e;if($.isArrayBuffer(e)||$.isBuffer(e)||$.isStream(e)||$.isFile(e)||$.isBlob(e)||$.isReadableStream(e))return e;if($.isArrayBufferView(e))return e.buffer;if($.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return t2(e,this.formSerializer).toString();if((a=$.isFileList(e))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return co(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||r?(n.setContentType("application/json",!1),r2(e)):e}],transformResponse:[function(e){const n=this.transitional||tr.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if($.isResponse(e)||$.isReadableStream(e))return e;if(e&&$.isString(e)&&(s&&!this.responseType||r)){const i=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(a){if(i)throw a.name==="SyntaxError"?se.from(a,se.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ze.classes.FormData,Blob:ze.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],t=>{tr.headers[t]={}});const o2=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),i2=t=>{const e={};let n,s,r;return t&&t.split(`
`).forEach(function(i){r=i.indexOf(":"),n=i.substring(0,r).trim().toLowerCase(),s=i.substring(r+1).trim(),!(!n||e[n]&&o2[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},Ol=Symbol("internals");function ps(t){return t&&String(t).trim().toLowerCase()}function yr(t){return t===!1||t==null?t:$.isArray(t)?t.map(yr):String(t)}function a2(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const l2=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function jo(t,e,n,s,r){if($.isFunction(s))return s.call(this,e,n);if(r&&(e=n),!!$.isString(e)){if($.isString(s))return e.indexOf(s)!==-1;if($.isRegExp(s))return s.test(e)}}function c2(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function u2(t,e){const n=$.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(r,o,i){return this[s].call(this,e,r,o,i)},configurable:!0})})}let ot=class{constructor(e){e&&this.set(e)}set(e,n,s){const r=this;function o(a,l,d){const u=ps(l);if(!u)throw new Error("header name must be a non-empty string");const f=$.findKey(r,u);(!f||r[f]===void 0||d===!0||d===void 0&&r[f]!==!1)&&(r[f||l]=yr(a))}const i=(a,l)=>$.forEach(a,(d,u)=>o(d,u,l));if($.isPlainObject(e)||e instanceof this.constructor)i(e,n);else if($.isString(e)&&(e=e.trim())&&!l2(e))i(i2(e),n);else if($.isObject(e)&&$.isIterable(e)){let a={},l,d;for(const u of e){if(!$.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[d=u[0]]=(l=a[d])?$.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}i(a,n)}else e!=null&&o(n,e,s);return this}get(e,n){if(e=ps(e),e){const s=$.findKey(this,e);if(s){const r=this[s];if(!n)return r;if(n===!0)return a2(r);if($.isFunction(n))return n.call(this,r,s);if($.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ps(e),e){const s=$.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||jo(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let r=!1;function o(i){if(i=ps(i),i){const a=$.findKey(s,i);a&&(!n||jo(s,s[a],a,n))&&(delete s[a],r=!0)}}return $.isArray(e)?e.forEach(o):o(e),r}clear(e){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const o=n[s];(!e||jo(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const n=this,s={};return $.forEach(this,(r,o)=>{const i=$.findKey(s,o);if(i){n[i]=yr(r),delete n[o];return}const a=e?c2(o):String(o).trim();a!==o&&delete n[o],n[a]=yr(r),s[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return $.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=e&&$.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[Ol]=this[Ol]={accessors:{}}).accessors,r=this.prototype;function o(i){const a=ps(i);s[a]||(u2(r,i),s[a]=!0)}return $.isArray(e)?e.forEach(o):o(e),this}};ot.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(ot.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});$.freezeMethods(ot);function Io(t,e){const n=this||tr,s=e||n,r=ot.from(s.headers);let o=s.data;return $.forEach(t,function(a){o=a.call(n,o,r.normalize(),e?e.status:void 0)}),r.normalize(),o}function ad(t){return!!(t&&t.__CANCEL__)}function cs(t,e,n){se.call(this,t??"canceled",se.ERR_CANCELED,e,n),this.name="CanceledError"}$.inherits(cs,se,{__CANCEL__:!0});function ld(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new se("Request failed with status code "+n.status,[se.ERR_BAD_REQUEST,se.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function d2(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function f2(t,e){t=t||10;const n=new Array(t),s=new Array(t);let r=0,o=0,i;return e=e!==void 0?e:1e3,function(l){const d=Date.now(),u=s[o];i||(i=d),n[r]=l,s[r]=d;let f=o,h=0;for(;f!==r;)h+=n[f++],f=f%t;if(r=(r+1)%t,r===o&&(o=(o+1)%t),d-i<e)return;const p=u&&d-u;return p?Math.round(h*1e3/p):void 0}}function h2(t,e){let n=0,s=1e3/e,r,o;const i=(d,u=Date.now())=>{n=u,r=null,o&&(clearTimeout(o),o=null),t(...d)};return[(...d)=>{const u=Date.now(),f=u-n;f>=s?i(d,u):(r=d,o||(o=setTimeout(()=>{o=null,i(r)},s-f)))},()=>r&&i(r)]}const Ur=(t,e,n=3)=>{let s=0;const r=f2(50,250);return h2(o=>{const i=o.loaded,a=o.lengthComputable?o.total:void 0,l=i-s,d=r(l),u=i<=a;s=i;const f={loaded:i,total:a,progress:a?i/a:void 0,bytes:l,rate:d||void 0,estimated:d&&a&&u?(a-i)/d:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},Cl=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},Tl=t=>(...e)=>$.asap(()=>t(...e)),m2=ze.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,ze.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(ze.origin),ze.navigator&&/(msie|trident)/i.test(ze.navigator.userAgent)):()=>!0,p2=ze.hasStandardBrowserEnv?{write(t,e,n,s,r,o){const i=[t+"="+encodeURIComponent(e)];$.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),$.isString(s)&&i.push("path="+s),$.isString(r)&&i.push("domain="+r),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function g2(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function v2(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function cd(t,e,n){let s=!g2(e);return t&&(s||n==!1)?v2(t,e):e}const $l=t=>t instanceof ot?{...t}:t;function An(t,e){e=e||{};const n={};function s(d,u,f,h){return $.isPlainObject(d)&&$.isPlainObject(u)?$.merge.call({caseless:h},d,u):$.isPlainObject(u)?$.merge({},u):$.isArray(u)?u.slice():u}function r(d,u,f,h){if($.isUndefined(u)){if(!$.isUndefined(d))return s(void 0,d,f,h)}else return s(d,u,f,h)}function o(d,u){if(!$.isUndefined(u))return s(void 0,u)}function i(d,u){if($.isUndefined(u)){if(!$.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function a(d,u,f){if(f in e)return s(d,u);if(f in t)return s(void 0,d)}const l={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(d,u,f)=>r($l(d),$l(u),f,!0)};return $.forEach(Object.keys({...t,...e}),function(u){const f=l[u]||r,h=f(t[u],e[u],u);$.isUndefined(h)&&f!==a||(n[u]=h)}),n}const ud=t=>{const e=An({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:o,headers:i,auth:a}=e;if(e.headers=i=ot.from(i),e.url=rd(cd(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&i.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),$.isFormData(n)){if(ze.hasStandardBrowserEnv||ze.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if($.isFunction(n.getHeaders)){const l=n.getHeaders(),d=["content-type","content-length"];Object.entries(l).forEach(([u,f])=>{d.includes(u.toLowerCase())&&i.set(u,f)})}}if(ze.hasStandardBrowserEnv&&(s&&$.isFunction(s)&&(s=s(e)),s||s!==!1&&m2(e.url))){const l=r&&o&&p2.read(o);l&&i.set(r,l)}return e},y2=typeof XMLHttpRequest<"u",b2=y2&&function(t){return new Promise(function(n,s){const r=ud(t);let o=r.data;const i=ot.from(r.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:d}=r,u,f,h,p,m;function y(){p&&p(),m&&m(),r.cancelToken&&r.cancelToken.unsubscribe(u),r.signal&&r.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(r.method.toUpperCase(),r.url,!0),g.timeout=r.timeout;function x(){if(!g)return;const b=ot.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),U={data:!a||a==="text"||a==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:b,config:t,request:g};ld(function(P){n(P),y()},function(P){s(P),y()},U),g=null}"onloadend"in g?g.onloadend=x:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(x)},g.onabort=function(){g&&(s(new se("Request aborted",se.ECONNABORTED,t,g)),g=null)},g.onerror=function(C){const U=C&&C.message?C.message:"Network Error",z=new se(U,se.ERR_NETWORK,t,g);z.event=C||null,s(z),g=null},g.ontimeout=function(){let C=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const U=r.transitional||od;r.timeoutErrorMessage&&(C=r.timeoutErrorMessage),s(new se(C,U.clarifyTimeoutError?se.ETIMEDOUT:se.ECONNABORTED,t,g)),g=null},o===void 0&&i.setContentType(null),"setRequestHeader"in g&&$.forEach(i.toJSON(),function(C,U){g.setRequestHeader(U,C)}),$.isUndefined(r.withCredentials)||(g.withCredentials=!!r.withCredentials),a&&a!=="json"&&(g.responseType=r.responseType),d&&([h,m]=Ur(d,!0),g.addEventListener("progress",h)),l&&g.upload&&([f,p]=Ur(l),g.upload.addEventListener("progress",f),g.upload.addEventListener("loadend",p)),(r.cancelToken||r.signal)&&(u=b=>{g&&(s(!b||b.type?new cs(null,t,g):b),g.abort(),g=null)},r.cancelToken&&r.cancelToken.subscribe(u),r.signal&&(r.signal.aborted?u():r.signal.addEventListener("abort",u)));const _=d2(r.url);if(_&&ze.protocols.indexOf(_)===-1){s(new se("Unsupported protocol "+_+":",se.ERR_BAD_REQUEST,t));return}g.send(o||null)})},w2=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,r;const o=function(d){if(!r){r=!0,a();const u=d instanceof Error?d:this.reason;s.abort(u instanceof se?u:new cs(u instanceof Error?u.message:u))}};let i=e&&setTimeout(()=>{i=null,o(new se(`timeout ${e} of ms exceeded`,se.ETIMEDOUT))},e);const a=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o)}),t=null)};t.forEach(d=>d.addEventListener("abort",o));const{signal:l}=s;return l.unsubscribe=()=>$.asap(a),l}},_2=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,r;for(;s<n;)r=s+e,yield t.slice(s,r),s=r},x2=async function*(t,e){for await(const n of k2(t))yield*_2(n,e)},k2=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},Al=(t,e,n,s)=>{const r=x2(t,e);let o=0,i,a=l=>{i||(i=!0,s&&s(l))};return new ReadableStream({async pull(l){try{const{done:d,value:u}=await r.next();if(d){a(),l.close();return}let f=u.byteLength;if(n){let h=o+=f;n(h)}l.enqueue(new Uint8Array(u))}catch(d){throw a(d),d}},cancel(l){return a(l),r.return()}},{highWaterMark:2})},Rl=64*1024,{isFunction:ur}=$,S2=(({Request:t,Response:e})=>({Request:t,Response:e}))($.global),{ReadableStream:Pl,TextEncoder:jl}=$.global,Il=(t,...e)=>{try{return!!t(...e)}catch{return!1}},E2=t=>{t=$.merge.call({skipUndefined:!0},S2,t);const{fetch:e,Request:n,Response:s}=t,r=e?ur(e):typeof fetch=="function",o=ur(n),i=ur(s);if(!r)return!1;const a=r&&ur(Pl),l=r&&(typeof jl=="function"?(m=>y=>m.encode(y))(new jl):async m=>new Uint8Array(await new n(m).arrayBuffer())),d=o&&a&&Il(()=>{let m=!1;const y=new n(ze.origin,{body:new Pl,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!y}),u=i&&a&&Il(()=>$.isReadableStream(new s("").body)),f={stream:u&&(m=>m.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!f[m]&&(f[m]=(y,g)=>{let x=y&&y[m];if(x)return x.call(y);throw new se(`Response type '${m}' is not supported`,se.ERR_NOT_SUPPORT,g)})});const h=async m=>{if(m==null)return 0;if($.isBlob(m))return m.size;if($.isSpecCompliantForm(m))return(await new n(ze.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if($.isArrayBufferView(m)||$.isArrayBuffer(m))return m.byteLength;if($.isURLSearchParams(m)&&(m=m+""),$.isString(m))return(await l(m)).byteLength},p=async(m,y)=>{const g=$.toFiniteNumber(m.getContentLength());return g??h(y)};return async m=>{let{url:y,method:g,data:x,signal:_,cancelToken:b,timeout:C,onDownloadProgress:U,onUploadProgress:z,responseType:P,headers:T,withCredentials:j="same-origin",fetchOptions:ce}=ud(m),je=e||fetch;P=P?(P+"").toLowerCase():"text";let Ie=w2([_,b&&b.toAbortSignal()],C),Te=null;const Fe=Ie&&Ie.unsubscribe&&(()=>{Ie.unsubscribe()});let it;try{if(z&&d&&g!=="get"&&g!=="head"&&(it=await p(T,x))!==0){let $e=new n(y,{method:"POST",body:x,duplex:"half"}),Ce;if($.isFormData(x)&&(Ce=$e.headers.get("content-type"))&&T.setContentType(Ce),$e.body){const[ht,at]=Cl(it,Ur(Tl(z)));x=Al($e.body,Rl,ht,at)}}$.isString(j)||(j=j?"include":"omit");const oe=o&&"credentials"in n.prototype,Q={...ce,signal:Ie,method:g.toUpperCase(),headers:T.normalize().toJSON(),body:x,duplex:"half",credentials:oe?j:void 0};Te=o&&new n(y,Q);let Z=await(o?je(Te,ce):je(y,Q));const Xe=u&&(P==="stream"||P==="response");if(u&&(U||Xe&&Fe)){const $e={};["status","statusText","headers"].forEach(Nt=>{$e[Nt]=Z[Nt]});const Ce=$.toFiniteNumber(Z.headers.get("content-length")),[ht,at]=U&&Cl(Ce,Ur(Tl(U),!0))||[];Z=new s(Al(Z.body,Rl,ht,()=>{at&&at(),Fe&&Fe()}),$e)}P=P||"text";let Qe=await f[$.findKey(f,P)||"text"](Z,m);return!Xe&&Fe&&Fe(),await new Promise(($e,Ce)=>{ld($e,Ce,{data:Qe,headers:ot.from(Z.headers),status:Z.status,statusText:Z.statusText,config:m,request:Te})})}catch(oe){throw Fe&&Fe(),oe&&oe.name==="TypeError"&&/Load failed|fetch/i.test(oe.message)?Object.assign(new se("Network Error",se.ERR_NETWORK,m,Te),{cause:oe.cause||oe}):se.from(oe,oe&&oe.code,m,Te)}}},O2=new Map,dd=t=>{let e=t?t.env:{};const{fetch:n,Request:s,Response:r}=e,o=[s,r,n];let i=o.length,a=i,l,d,u=O2;for(;a--;)l=o[a],d=u.get(l),d===void 0&&u.set(l,d=a?new Map:E2(e)),u=d;return d};dd();const hi={http:Hx,xhr:b2,fetch:{get:dd}};$.forEach(hi,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Ml=t=>`- ${t}`,C2=t=>$.isFunction(t)||t===null||t===!1,fd={getAdapter:(t,e)=>{t=$.isArray(t)?t:[t];const{length:n}=t;let s,r;const o={};for(let i=0;i<n;i++){s=t[i];let a;if(r=s,!C2(s)&&(r=hi[(a=String(s)).toLowerCase()],r===void 0))throw new se(`Unknown adapter '${a}'`);if(r&&($.isFunction(r)||(r=r.get(e))))break;o[a||"#"+i]=r}if(!r){const i=Object.entries(o).map(([l,d])=>`adapter ${l} `+(d===!1?"is not supported by the environment":"is not available in the build"));let a=n?i.length>1?`since :
`+i.map(Ml).join(`
`):" "+Ml(i[0]):"as no adapter specified";throw new se("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:hi};function Mo(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new cs(null,t)}function Dl(t){return Mo(t),t.headers=ot.from(t.headers),t.data=Io.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),fd.getAdapter(t.adapter||tr.adapter,t)(t).then(function(s){return Mo(t),s.data=Io.call(t,t.transformResponse,s),s.headers=ot.from(s.headers),s},function(s){return ad(s)||(Mo(t),s&&s.response&&(s.response.data=Io.call(t,t.transformResponse,s.response),s.response.headers=ot.from(s.response.headers))),Promise.reject(s)})}const hd="1.12.2",uo={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{uo[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const Nl={};uo.transitional=function(e,n,s){function r(o,i){return"[Axios v"+hd+"] Transitional option '"+o+"'"+i+(s?". "+s:"")}return(o,i,a)=>{if(e===!1)throw new se(r(i," has been removed"+(n?" in "+n:"")),se.ERR_DEPRECATED);return n&&!Nl[i]&&(Nl[i]=!0,console.warn(r(i," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,i,a):!0}};uo.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function T2(t,e,n){if(typeof t!="object")throw new se("options must be an object",se.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let r=s.length;for(;r-- >0;){const o=s[r],i=e[o];if(i){const a=t[o],l=a===void 0||i(a,o,t);if(l!==!0)throw new se("option "+o+" must be "+l,se.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new se("Unknown option "+o,se.ERR_BAD_OPTION)}}const br={assertOptions:T2,validators:uo},$t=br.validators;let $n=class{constructor(e){this.defaults=e||{},this.interceptors={request:new El,response:new El}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=An(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:o}=n;s!==void 0&&br.assertOptions(s,{silentJSONParsing:$t.transitional($t.boolean),forcedJSONParsing:$t.transitional($t.boolean),clarifyTimeoutError:$t.transitional($t.boolean)},!1),r!=null&&($.isFunction(r)?n.paramsSerializer={serialize:r}:br.assertOptions(r,{encode:$t.function,serialize:$t.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),br.assertOptions(n,{baseUrl:$t.spelling("baseURL"),withXsrfToken:$t.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&$.merge(o.common,o[n.method]);o&&$.forEach(["delete","get","head","post","put","patch","common"],m=>{delete o[m]}),n.headers=ot.concat(i,o);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const d=[];this.interceptors.response.forEach(function(y){d.push(y.fulfilled,y.rejected)});let u,f=0,h;if(!l){const m=[Dl.bind(this),void 0];for(m.unshift(...a),m.push(...d),h=m.length,u=Promise.resolve(n);f<h;)u=u.then(m[f++],m[f++]);return u}h=a.length;let p=n;for(;f<h;){const m=a[f++],y=a[f++];try{p=m(p)}catch(g){y.call(this,g);break}}try{u=Dl.call(this,p)}catch(m){return Promise.reject(m)}for(f=0,h=d.length;f<h;)u=u.then(d[f++],d[f++]);return u}getUri(e){e=An(this.defaults,e);const n=cd(e.baseURL,e.url,e.allowAbsoluteUrls);return rd(n,e.params,e.paramsSerializer)}};$.forEach(["delete","get","head","options"],function(e){$n.prototype[e]=function(n,s){return this.request(An(s||{},{method:e,url:n,data:(s||{}).data}))}});$.forEach(["post","put","patch"],function(e){function n(s){return function(o,i,a){return this.request(An(a||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}$n.prototype[e]=n(),$n.prototype[e+"Form"]=n(!0)});let $2=class md{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const s=this;this.promise.then(r=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](r);s._listeners=null}),this.promise.then=r=>{let o;const i=new Promise(a=>{s.subscribe(a),o=a}).then(r);return i.cancel=function(){s.unsubscribe(o)},i},e(function(o,i,a){s.reason||(s.reason=new cs(o,i,a),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new md(function(r){e=r}),cancel:e}}};function A2(t){return function(n){return t.apply(null,n)}}function R2(t){return $.isObject(t)&&t.isAxiosError===!0}const mi={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mi).forEach(([t,e])=>{mi[e]=t});function pd(t){const e=new $n(t),n=Vu($n.prototype.request,e);return $.extend(n,$n.prototype,e,{allOwnKeys:!0}),$.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return pd(An(t,r))},n}const Pe=pd(tr);Pe.Axios=$n;Pe.CanceledError=cs;Pe.CancelToken=$2;Pe.isCancel=ad;Pe.VERSION=hd;Pe.toFormData=co;Pe.AxiosError=se;Pe.Cancel=Pe.CanceledError;Pe.all=function(e){return Promise.all(e)};Pe.spread=A2;Pe.isAxiosError=R2;Pe.mergeConfig=An;Pe.AxiosHeaders=ot;Pe.formToJSON=t=>id($.isHTMLForm(t)?new FormData(t):t);Pe.getAdapter=fd.getAdapter;Pe.HttpStatusCode=mi;Pe.default=Pe;const{Axios:aE,AxiosError:lE,CanceledError:cE,isCancel:uE,CancelToken:dE,VERSION:fE,all:hE,Cancel:mE,isAxiosError:pE,spread:gE,toFormData:vE,AxiosHeaders:yE,HttpStatusCode:bE,formToJSON:wE,getAdapter:_E,mergeConfig:xE}=Pe;class P2{constructor(){Ki(this,"api");this.api=Pe.create({baseURL:"https://api.dnotas.com.br:9999/api",timeout:1e4,headers:{"Content-Type":"application/json"}}),this.api.interceptors.response.use(e=>e,e=>{var n;return((n=e.response)==null?void 0:n.status)===401&&(localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),window.location.href="/login"),Promise.reject(e)})}setAuthToken(e){e?this.api.defaults.headers.common.Authorization=`Bearer ${e}`:delete this.api.defaults.headers.common.Authorization}async login(e,n,s){return(await this.api.post("/auth/admin-login",{email:e,password:n,filial_id:s})).data}async getDashboardStats(){return(await this.api.get("/admin/dashboard-stats")).data.data}async getClients(e){return(await this.api.get(`/admin/clients?filial_id=${e}`)).data.data}async getChatSessions(e){return(await this.api.get(`/admin/chat-sessions?filial_id=${e}`)).data.data}async getMessages(e){return(await this.api.get(`/admin/messages/${e}`)).data.data}async sendMessage(e,n){try{return(await this.api.post("/admin/send-message",{client_cnpj:e,content:n})).data.success}catch(s){return console.error("Error sending message:",s),!1}}async markAsRead(e){try{return(await this.api.post("/admin/mark-read",{client_cnpj:e})).data.success}catch(n){return console.error("Error marking as read:",n),!1}}async getBoletos(e){return(await this.api.get(`/admin/boletos?filial_id=${e}`)).data.data}}const j2=new P2,gs="https://api.dnotas.com.br:9999/api/client-filiais",Lt={async getFiliais(t){try{console.log(`🏢 Buscando filiais do cliente: ${t}`);const e=await fetch(`${gs}/${t}`),n=await e.json();if(!e.ok||!n.success)throw new Error(n.error||"Erro ao buscar filiais");return console.log("✅ Filiais encontradas:",n.data),n.data}catch(e){throw console.error("❌ Erro ao buscar filiais:",e),e}},async adicionarFilial(t){try{console.log("🏢 Adicionando filial:",t);const e=await fetch(gs,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await e.json();if(!e.ok||!n.success)throw new Error(n.error||"Erro ao adicionar filial");return console.log("✅ Filial criada:",n.data),n.data}catch(e){throw console.error("❌ Erro ao adicionar filial:",e),e}},async atualizarFilial(t,e){try{console.log(`🏢 Atualizando filial ${t}:`,e);const n=await fetch(`${gs}/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await n.json();if(!n.ok||!s.success)throw new Error(s.error||"Erro ao atualizar filial");return console.log("✅ Filial atualizada:",s.data),s.data}catch(n){throw console.error("❌ Erro ao atualizar filial:",n),n}},async removerFilial(t){try{console.log(`🏢 Removendo filial: ${t}`);const e=await fetch(`${gs}/${t}`,{method:"DELETE"}),n=await e.json();if(!e.ok||!n.success)throw new Error(n.error||"Erro ao remover filial");console.log("✅ Filial removida com sucesso")}catch(e){throw console.error("❌ Erro ao remover filial:",e),e}},async buscarCnpj(t){try{console.log(`🔍 Verificando CNPJ: ${t}`);const e=await fetch(`${gs}/search/${t}`),n=await e.json();if(!e.ok||!n.success)throw new Error(n.error||"Erro ao buscar CNPJ");return console.log("✅ Resultado da busca:",n),{found:n.found,tipo:n.tipo,dados:n.dados}}catch(e){throw console.error("❌ Erro ao buscar CNPJ:",e),e}},formatarCnpj(t){return t.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5")},limparCnpj(t){return t.replace(/[^\d]/g,"")},validarCnpj(t){const e=this.limparCnpj(t);return e.length===14&&/^\d+$/.test(e)}},I2={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},M2={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},D2={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full"},N2={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},U2={class:"flex items-center justify-between mb-6"},F2={class:"text-lg leading-6 font-medium text-gray-900"},L2={class:"text-sm text-gray-500"},B2={key:0,class:"text-center py-8"},q2={key:1,class:"space-y-6"},H2={class:"bg-gray-50 p-4 rounded-lg"},W2={key:0,class:"mt-1 text-sm text-red-600"},z2={class:"sm:col-span-2"},V2={class:"sm:col-span-2"},K2=["disabled"],J2={key:0,class:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},G2={class:"text-md font-medium text-gray-900 mb-4"},Y2={key:0,class:"text-center py-8 text-gray-500"},X2={key:1,class:"space-y-3"},Q2={class:"flex items-center justify-between"},Z2={class:"flex-1"},ek={class:"flex items-center space-x-3"},tk={class:"flex-shrink-0"},nk={class:"text-sm font-medium text-gray-900"},sk={class:"text-sm text-gray-500"},rk={key:0,class:"flex items-center space-x-2"},ok=["onClick"],ik=["onClick"],ak=ft({__name:"FiliaisModal",props:{isOpen:{type:Boolean},cliente:{}},emits:["close","updated"],setup(t,{emit:e}){const n=t,s=e,r=q(!1),o=q(!1),i=q(""),a=q([]),l=q({cnpj:"",nome:"",telefone:"",email:"",endereco:""}),d=_=>Lt.formatarCnpj(_);ln(()=>n.isOpen,async _=>{_?await u():g()});const u=async()=>{r.value=!0;try{const _=await Lt.getFiliais(n.cliente.cnpj);a.value=_.filiais||[],console.log("✅ Filiais carregadas:",a.value)}catch(_){console.error("❌ Erro ao carregar filiais:",_)}finally{r.value=!1}},f=_=>{let C=_.target.value.replace(/\D/g,"");C.length<=14&&(C=C.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"),l.value.cnpj=C),i.value=""},h=async _=>{const b=Lt.limparCnpj(_);if(!Lt.validarCnpj(_))return i.value="CNPJ inválido",!1;if(b===Lt.limparCnpj(n.cliente.cnpj))return i.value="CNPJ não pode ser igual ao da matriz",!1;try{const C=await Lt.buscarCnpj(b);if(C.found)return i.value=`CNPJ já cadastrado como ${C.tipo}`,!1}catch(C){console.error("Erro ao validar CNPJ:",C)}return!0},p=async()=>{if(await h(l.value.cnpj)){o.value=!0;try{await Lt.adicionarFilial({matriz_cnpj:Lt.limparCnpj(n.cliente.cnpj),filial_cnpj:Lt.limparCnpj(l.value.cnpj),filial_nome:l.value.nome,endereco:l.value.endereco||void 0,telefone:l.value.telefone||void 0,email:l.value.email||void 0}),await u(),g(),s("updated"),console.log("✅ Filial adicionada com sucesso")}catch(_){console.error("❌ Erro ao adicionar filial:",_)}finally{o.value=!1}}},m=async _=>{console.log("Toggle filial:",_)},y=async _=>{confirm(`Tem certeza que deseja remover a filial "${_.nome}"?`)&&console.log("Remover filial:",_)},g=()=>{l.value={cnpj:"",nome:"",telefone:"",email:"",endereco:""},i.value=""},x=()=>{s("close")};return(_,b)=>t.isOpen?(A(),N("div",I2,[c("div",M2,[c("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:x}),c("div",D2,[c("div",N2,[c("div",U2,[c("div",null,[c("h3",F2," Gerenciar Filiais - "+D(t.cliente.nome_empresa),1),c("p",L2," CNPJ Matriz: "+D(d(t.cliente.cnpj)),1)]),c("button",{onClick:x,class:"text-gray-400 hover:text-gray-600"},[...b[5]||(b[5]=[c("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),r.value?(A(),N("div",B2,[...b[6]||(b[6]=[c("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"},null,-1),c("p",{class:"mt-2 text-sm text-gray-500"},"Carregando filiais...",-1)])])):(A(),N("div",q2,[c("div",H2,[b[13]||(b[13]=c("h4",{class:"text-md font-medium text-gray-900 mb-4"},"Adicionar Nova Filial",-1)),c("form",{onSubmit:Tn(p,["prevent"]),class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},[c("div",null,[b[7]||(b[7]=c("label",{class:"block text-sm font-medium text-gray-700"},"CNPJ da Filial *",-1)),re(c("input",{"onUpdate:modelValue":b[0]||(b[0]=C=>l.value.cnpj=C),type:"text",placeholder:"00.000.000/0000-00",maxlength:"18",onInput:f,class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500",required:""},null,544),[[le,l.value.cnpj]]),i.value?(A(),N("p",W2,D(i.value),1)):ae("",!0)]),c("div",null,[b[8]||(b[8]=c("label",{class:"block text-sm font-medium text-gray-700"},"Nome da Filial *",-1)),re(c("input",{"onUpdate:modelValue":b[1]||(b[1]=C=>l.value.nome=C),type:"text",placeholder:"Ex: Filial Shopping Center",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500",required:""},null,512),[[le,l.value.nome]])]),c("div",null,[b[9]||(b[9]=c("label",{class:"block text-sm font-medium text-gray-700"},"Telefone",-1)),re(c("input",{"onUpdate:modelValue":b[2]||(b[2]=C=>l.value.telefone=C),type:"text",placeholder:"(11) 99999-9999",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"},null,512),[[le,l.value.telefone]])]),c("div",null,[b[10]||(b[10]=c("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),re(c("input",{"onUpdate:modelValue":b[3]||(b[3]=C=>l.value.email=C),type:"email",placeholder:"filial@empresa.com",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"},null,512),[[le,l.value.email]])]),c("div",z2,[b[11]||(b[11]=c("label",{class:"block text-sm font-medium text-gray-700"},"Endereço",-1)),re(c("input",{"onUpdate:modelValue":b[4]||(b[4]=C=>l.value.endereco=C),type:"text",placeholder:"Rua, número, bairro, cidade",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"},null,512),[[le,l.value.endereco]])]),c("div",V2,[c("button",{type:"submit",disabled:o.value,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50"},[o.value?(A(),N("svg",J2,[...b[12]||(b[12]=[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):ae("",!0),pe(" "+D(o.value?"Adicionando...":"Adicionar Filial"),1)],8,K2)])],32)]),c("div",null,[c("h4",G2," Filiais Cadastradas ("+D(a.value.length)+") ",1),a.value.length===0?(A(),N("div",Y2,[...b[14]||(b[14]=[c("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-4m-5 0H9m0 0H5m4 0V9a2 2 0 012-2h2a2 2 0 012 2v12"})],-1),c("p",{class:"mt-2"},"Nenhuma filial cadastrada",-1),c("p",{class:"text-xs"},"Use o formulário acima para adicionar a primeira filial",-1)])])):(A(),N("div",X2,[(A(!0),N(_e,null,Ye(a.value,C=>(A(),N("div",{key:C.cnpj,class:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50"},[c("div",Q2,[c("div",Z2,[c("div",ek,[c("div",tk,[c("span",{class:be(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",C.tipo==="matriz"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"])},D(C.tipo==="matriz"?"Matriz":"Filial"),3)]),c("div",null,[c("h5",nk,D(C.nome),1),c("p",sk,D(d(C.cnpj)),1)])])]),C.tipo==="filial"?(A(),N("div",rk,[c("span",{class:be(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",C.ativo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},D(C.ativo?"Ativo":"Inativo"),3),c("button",{onClick:U=>m(C),class:"text-sm text-primary-600 hover:text-primary-900"},D(C.ativo?"Desativar":"Ativar"),9,ok),c("button",{onClick:U=>y(C),class:"text-sm text-red-600 hover:text-red-900"}," Remover ",8,ik)])):ae("",!0)])]))),128))]))])]))]),c("div",{class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},[c("button",{onClick:x,class:"w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Fechar ")])])])])):ae("",!0)}}),lk={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},ck={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},uk={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full"},dk={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},fk={class:"flex items-center justify-between mb-6"},hk={class:"text-lg leading-6 font-medium text-gray-900"},mk={key:0,class:"text-center py-8"},pk={class:"mt-2 text-sm text-gray-500"},gk={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},vk={class:"sm:col-span-2"},yk=["disabled"],bk={key:0,class:"mt-1 text-xs text-gray-500"},wk=["required","placeholder"],_k={class:"border-t pt-6"},xk={key:0,class:"text-center py-4 text-gray-500 bg-gray-50 rounded-lg"},kk={key:1,class:"space-y-3"},Sk={class:"grid grid-cols-1 gap-4 sm:grid-cols-3"},Ek=["onUpdate:modelValue","onInput"],Ok=["onUpdate:modelValue"],Ck={class:"flex items-end"},Tk=["onClick"],$k={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Ak=["disabled"],Rk={key:0,class:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Pk=ft({__name:"ClienteModal",props:{isOpen:{type:Boolean},cliente:{}},emits:["close","saved"],setup(t,{emit:e}){const n=t,s=e,r=q(!1),o=q(!1),i=q({nome_empresa:"",cnpj:"",email:"",telefone:"",senha:"",filiais:[]}),a=Ne(()=>!!n.cliente);ln(()=>n.isOpen,async x=>{x&&(n.cliente?await l():y())});const l=async()=>{if(n.cliente){r.value=!0;try{i.value.nome_empresa=n.cliente.nome_empresa,i.value.cnpj=d(n.cliente.cnpj),i.value.email=n.cliente.email||"",i.value.telefone=n.cliente.telefone||"",i.value.senha="",i.value.filiais=[]}catch(x){console.error("Erro ao carregar dados do cliente:",x)}finally{r.value=!1}}},d=x=>x.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"),u=x=>{let b=x.target.value.replace(/\D/g,"");b.length<=14&&(b=b.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"),i.value.cnpj=b)},f=(x,_)=>{let C=_.target.value.replace(/\D/g,"");C.length<=14&&(C=C.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"),i.value.filiais[x].cnpj=C)},h=()=>{i.value.filiais.push({cnpj:"",nome:""})},p=x=>{i.value.filiais.splice(x,1)},m=async()=>{o.value=!0;try{console.log("Salvando cliente:",i.value),await new Promise(x=>setTimeout(x,1e3)),s("saved"),g()}catch(x){console.error("Erro ao salvar cliente:",x)}finally{o.value=!1}},y=()=>{i.value={nome_empresa:"",cnpj:"",email:"",telefone:"",senha:"",filiais:[]}},g=()=>{s("close")};return(x,_)=>t.isOpen?(A(),N("div",lk,[c("div",ck,[c("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:g}),c("div",uk,[c("div",dk,[c("div",fk,[c("h3",hk,D(a.value?"Editar Cliente":"Novo Cliente"),1),c("button",{onClick:g,class:"text-gray-400 hover:text-gray-600"},[..._[5]||(_[5]=[c("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),r.value?(A(),N("div",mk,[_[6]||(_[6]=c("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"},null,-1)),c("p",pk,D(a.value?"Carregando dados...":"Salvando..."),1)])):(A(),N("form",{key:1,onSubmit:Tn(m,["prevent"]),class:"space-y-6"},[c("div",gk,[c("div",vk,[_[7]||(_[7]=c("label",{class:"block text-sm font-medium text-gray-700"},"Nome da Empresa *",-1)),re(c("input",{"onUpdate:modelValue":_[0]||(_[0]=b=>i.value.nome_empresa=b),type:"text",required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"},null,512),[[le,i.value.nome_empresa]])]),c("div",null,[_[8]||(_[8]=c("label",{class:"block text-sm font-medium text-gray-700"},"CNPJ *",-1)),re(c("input",{"onUpdate:modelValue":_[1]||(_[1]=b=>i.value.cnpj=b),type:"text",placeholder:"00.000.000/0000-00",maxlength:"18",onInput:u,disabled:a.value,required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-100"},null,40,yk),[[le,i.value.cnpj]]),a.value?(A(),N("p",bk,"CNPJ não pode ser alterado")):ae("",!0)]),c("div",null,[_[9]||(_[9]=c("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),re(c("input",{"onUpdate:modelValue":_[2]||(_[2]=b=>i.value.email=b),type:"email",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"},null,512),[[le,i.value.email]])]),c("div",null,[_[10]||(_[10]=c("label",{class:"block text-sm font-medium text-gray-700"},"Telefone",-1)),re(c("input",{"onUpdate:modelValue":_[3]||(_[3]=b=>i.value.telefone=b),type:"text",placeholder:"(11) 99999-9999",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"},null,512),[[le,i.value.telefone]])]),c("div",null,[_[11]||(_[11]=c("label",{class:"block text-sm font-medium text-gray-700"},"Senha *",-1)),re(c("input",{"onUpdate:modelValue":_[4]||(_[4]=b=>i.value.senha=b),type:"password",required:!a.value,placeholder:a.value?"Deixe em branco para manter a senha atual":"Digite a senha",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"},null,8,wk),[[le,i.value.senha]])])]),c("div",_k,[c("div",{class:"flex items-center justify-between mb-4"},[_[13]||(_[13]=c("h4",{class:"text-md font-medium text-gray-900"},"Filiais",-1)),c("button",{type:"button",onClick:h,class:"inline-flex items-center px-3 py-1 border border-transparent text-sm leading-4 font-medium rounded-md text-primary-700 bg-primary-100 hover:bg-primary-200"},[..._[12]||(_[12]=[c("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),pe(" Adicionar Filial ",-1)])])]),i.value.filiais.length===0?(A(),N("div",xk,[..._[14]||(_[14]=[c("p",{class:"text-sm"},"Nenhuma filial cadastrada",-1),c("p",{class:"text-xs"},'Clique em "Adicionar Filial" para incluir filiais',-1)])])):(A(),N("div",kk,[(A(!0),N(_e,null,Ye(i.value.filiais,(b,C)=>(A(),N("div",{key:C,class:"border border-gray-200 rounded-lg p-4 bg-gray-50"},[c("div",Sk,[c("div",null,[_[15]||(_[15]=c("label",{class:"block text-sm font-medium text-gray-700"},"CNPJ da Filial *",-1)),re(c("input",{"onUpdate:modelValue":U=>b.cnpj=U,type:"text",placeholder:"00.000.000/0000-00",maxlength:"18",onInput:U=>f(C,U),required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"},null,40,Ek),[[le,b.cnpj]])]),c("div",null,[_[16]||(_[16]=c("label",{class:"block text-sm font-medium text-gray-700"},"Nome da Filial *",-1)),re(c("input",{"onUpdate:modelValue":U=>b.nome=U,type:"text",placeholder:"Ex: Filial Shopping",required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"},null,8,Ok),[[le,b.nome]])]),c("div",Ck,[c("button",{type:"button",onClick:U=>p(C),class:"w-full inline-flex justify-center items-center px-3 py-2 border border-red-300 text-sm leading-4 font-medium rounded-md text-red-700 bg-red-50 hover:bg-red-100"},[..._[17]||(_[17]=[c("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),pe(" Remover ",-1)])],8,Tk)])])]))),128))]))])],32))]),c("div",$k,[c("button",{onClick:m,disabled:o.value,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50"},[o.value?(A(),N("svg",Rk,[..._[18]||(_[18]=[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):ae("",!0),pe(" "+D(o.value?"Salvando...":a.value?"Atualizar":"Criar"),1)],8,Ak),c("button",{onClick:g,type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancelar ")])])])])):ae("",!0)}}),jk={class:"py-6"},Ik={class:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8"},Mk={class:"sm:flex sm:items-center"},Dk={class:"sm:flex-auto"},Nk={class:"mt-2 text-sm text-gray-700"},Uk={class:"mt-8 flex flex-col"},Fk={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8"},Lk={class:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8"},Bk={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"},qk={class:"min-w-full divide-y divide-gray-300"},Hk={class:"bg-white divide-y divide-gray-200"},Wk={class:"px-6 py-4 whitespace-nowrap"},zk={class:"flex items-center"},Vk={class:"flex-shrink-0 h-10 w-10"},Kk={class:"h-10 w-10 rounded-full bg-primary-500 flex items-center justify-center"},Jk={class:"text-white text-sm font-medium"},Gk={class:"ml-4"},Yk={class:"text-sm font-medium text-gray-900"},Xk={class:"text-sm text-gray-500"},Qk={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Zk={class:"px-6 py-4 whitespace-nowrap"},eS={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},tS={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},nS={class:"flex items-center justify-end space-x-3"},sS=["onClick"],rS=["onClick"],oS=ft({__name:"ClientsView",setup(t){const e=Ys(),n=q([]),s=q(!1),r=q({}),o=q(!1),i=q(null),a=g=>g.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"),l=g=>zu(new Date(g),"dd/MM/yyyy HH:mm",{locale:qs}),d=async()=>{var g;try{n.value=await j2.getClients(((g=e.user)==null?void 0:g.filial_id)||"matriz")}catch(x){console.error("Erro ao carregar clientes:",x)}},u=g=>{r.value=g,s.value=!0},f=()=>{s.value=!1,r.value={}},h=()=>{i.value=null,o.value=!0},p=g=>{i.value=g,o.value=!0},m=()=>{o.value=!1,i.value=null},y=()=>{d(),m()};return fn(()=>{d()}),(g,x)=>(A(),ye(Pn,null,{default:Je(()=>{var _;return[c("div",jk,[c("div",Ik,[c("div",Mk,[c("div",Dk,[x[0]||(x[0]=c("h1",{class:"text-xl font-semibold text-gray-900"},"Clientes",-1)),c("p",Nk," Lista de todos os clientes da "+D((_=me(e).user)==null?void 0:_.filial_id),1)]),c("div",{class:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none"},[c("button",{type:"button",onClick:h,class:"inline-flex items-center justify-center rounded-md border border-transparent bg-primary-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 sm:w-auto"}," Novo Cliente ")])]),c("div",Uk,[c("div",Fk,[c("div",Lk,[c("div",Bk,[c("table",qk,[x[1]||(x[1]=c("thead",{class:"bg-gray-50"},[c("tr",null,[c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Cliente "),c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," CNPJ "),c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Último Login "),c("th",{class:"relative px-6 py-3"},[c("span",{class:"sr-only"},"Ações")])])],-1)),c("tbody",Hk,[(A(!0),N(_e,null,Ye(n.value,b=>(A(),N("tr",{key:b.id},[c("td",Wk,[c("div",zk,[c("div",Vk,[c("div",Kk,[c("span",Jk,D(b.nome_empresa.charAt(0)),1)])]),c("div",Gk,[c("div",Yk,D(b.nome_empresa),1),c("div",Xk,D(b.email),1)])])]),c("td",Qk,D(a(b.cnpj)),1),c("td",Zk,[c("span",{class:be(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",b.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},D(b.is_active?"Ativo":"Inativo"),3)]),c("td",eS,D(b.last_login?l(b.last_login):"Nunca"),1),c("td",tS,[c("div",nS,[c("button",{onClick:C=>u(b),class:"text-blue-600 hover:text-blue-900",title:"Gerenciar Filiais"}," Filiais ",8,sS),c("button",{onClick:C=>p(b),class:"text-primary-600 hover:text-primary-900"}," Editar ",8,rS)])])]))),128))])])])])])])])]),K(ak,{"is-open":s.value,cliente:r.value,onClose:f,onUpdated:d},null,8,["is-open","cliente"]),K(Pk,{"is-open":o.value,cliente:i.value,onClose:m,onSaved:y},null,8,["is-open","cliente"])]}),_:1}))}}),iS={class:"py-6"},aS={class:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8"},lS={class:"mt-6 bg-white shadow rounded-lg"},cS={class:"px-6 py-4 border-b border-gray-200"},uS={class:"flex items-center justify-between"},dS={class:"flex items-center"},fS={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800"},hS={class:"px-6 py-4"},mS={key:0,class:"flex justify-center"},pS={key:1,class:"text-center py-8"},gS={key:2,class:"space-y-4"},vS={class:"flex items-start justify-between"},yS={class:"flex-1"},bS={class:"flex items-center"},wS={class:"text-sm font-medium text-gray-900"},_S={class:"mt-1 text-sm text-gray-500"},xS={key:0},kS={class:"ml-4 flex-shrink-0"},SS=["onClick"],ES={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},OS={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},CS={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},TS={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},$S={class:"sm:flex sm:items-start"},AS={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},RS={key:0,class:"space-y-4"},PS={class:"bg-gray-50 p-3 rounded"},jS={class:"font-medium text-gray-900 mb-2"},IS={class:"grid grid-cols-3 gap-4"},MS=["onUpdate:modelValue"],DS=["onUpdate:modelValue"],NS=["onUpdate:modelValue"],US=["onUpdate:modelValue"],FS=["onUpdate:modelValue"],LS=["onUpdate:modelValue"],BS={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},qS=["disabled"],HS={key:0},WS={key:1},Do="https://api.dnotas.com.br:9999",zS=ft({__name:"ReportsView",setup(t){const e=q(!1),n=q([]),s=q(!1),r=q(null),o=q([]),i=q(!1);fn(()=>{a()});async function a(){e.value=!0;try{console.log("DEBUG SITE: Carregando solicitações de:",`${Do}/api/admin/solicitacoes/pendentes`);const p=await fetch(`${Do}/api/admin/solicitacoes/pendentes`);console.log("DEBUG SITE: Response status:",p.status);const m=await p.json();console.log("DEBUG SITE: Response data:",m),m.success?(n.value=m.data,console.log("DEBUG SITE: Solicitações carregadas:",m.data.length)):console.error("DEBUG SITE: API retornou success=false:",m)}catch(p){console.error("Erro ao carregar solicitações:",p)}finally{e.value=!1}}function l(p){const m=new Date(p.data_inicio).toLocaleDateString("pt-BR"),y=new Date(p.data_fim).toLocaleDateString("pt-BR");return p.tipo_periodo==="dia_unico"?m:`${m} até ${y}`}function d(p){return new Date(p).toLocaleString("pt-BR")}function u(p){r.value=p,s.value=!0;const m=new Date(p.data_inicio),y=new Date(p.data_fim),g=[],x=new Date(m);for(;x<=y;)g.push({data_relatorio:x.toISOString().split("T")[0],vendas_credito:0,vendas_debito:0,vendas_pix:0,vendas_vale:0,vendas_dinheiro:0,vendas_transferencia:0}),x.setDate(x.getDate()+1);o.value=g}function f(){s.value=!1,r.value=null,o.value=[]}async function h(){if(r.value){i.value=!0;try{const m=await(await fetch(`${Do}/api/admin/relatorios/processar/${r.value.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({relatorios_dados:o.value,processado_por:"Sistema"})})).json();if(m.success)alert("Relatório processado com sucesso!"),f(),a();else throw new Error(m.error)}catch(p){console.error("Erro ao processar relatório:",p),alert("Erro ao processar relatório: "+p.message)}finally{i.value=!1}}}return(p,m)=>(A(),ye(Pn,null,{default:Je(()=>[c("div",iS,[c("div",aS,[m[17]||(m[17]=c("h1",{class:"text-2xl font-semibold text-gray-900"},"Relatórios",-1)),c("div",lS,[c("div",cS,[c("div",uS,[m[1]||(m[1]=c("h2",{class:"text-lg font-medium text-gray-900"},"Solicitações Pendentes",-1)),c("div",dS,[c("span",fS,D(n.value.length)+" pendentes ",1),c("button",{onClick:a,class:"ml-3 inline-flex items-center px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"},[...m[0]||(m[0]=[c("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),pe(" Atualizar ",-1)])])])])]),c("div",hS,[e.value?(A(),N("div",mS,[...m[2]||(m[2]=[c("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)])])):n.value.length===0?(A(),N("div",pS,[...m[3]||(m[3]=[c("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),c("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Nenhuma solicitação pendente",-1),c("p",{class:"mt-1 text-sm text-gray-500"},"Todas as solicitações estão processadas.",-1)])])):(A(),N("div",gS,[(A(!0),N(_e,null,Ye(n.value,y=>(A(),N("div",{key:y.id,class:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50"},[c("div",vS,[c("div",yS,[c("div",bS,[c("h3",wS,D(y.cliente_cnpj),1),c("span",{class:be([{"bg-orange-100 text-orange-800":y.status==="pendente","bg-blue-100 text-blue-800":y.status==="processando"},"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},D(y.status.toUpperCase()),3)]),c("div",_S,[c("p",null,[m[4]||(m[4]=c("strong",null,"Período:",-1)),pe(" "+D(l(y)),1)]),c("p",null,[m[5]||(m[5]=c("strong",null,"Tipo:",-1)),pe(" "+D(y.tipo_periodo==="dia_unico"?"Dia único":"Intervalo"),1)]),c("p",null,[m[6]||(m[6]=c("strong",null,"Solicitado em:",-1)),pe(" "+D(d(y.data_solicitacao)),1)]),y.observacoes?(A(),N("p",xS,[m[7]||(m[7]=c("strong",null,"Observações:",-1)),pe(" "+D(y.observacoes),1)])):ae("",!0)])]),c("div",kS,[c("button",{onClick:g=>u(y),class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700"}," Processar ",8,SS)])])]))),128))]))])]),s.value?(A(),N("div",ES,[c("div",OS,[c("div",{class:"fixed inset-0 transition-opacity"},[c("div",{class:"absolute inset-0 bg-gray-500 opacity-75",onClick:f})]),c("div",CS,[c("div",TS,[c("div",$S,[c("div",AS,[m[16]||(m[16]=c("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-4"}," Processar Relatório ",-1)),r.value?(A(),N("div",RS,[c("div",PS,[c("p",null,[m[8]||(m[8]=c("strong",null,"Cliente:",-1)),pe(" "+D(r.value.cliente_cnpj),1)]),c("p",null,[m[9]||(m[9]=c("strong",null,"Período:",-1)),pe(" "+D(l(r.value)),1)])]),(A(!0),N(_e,null,Ye(o.value,(y,g)=>(A(),N("div",{key:g,class:"border border-gray-200 rounded p-3"},[c("h4",jS,D(y.data_relatorio),1),c("div",IS,[c("div",null,[m[10]||(m[10]=c("label",{class:"block text-xs font-medium text-gray-700"},"Crédito",-1)),re(c("input",{"onUpdate:modelValue":x=>y.vendas_credito=x,type:"number",step:"0.01",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm text-sm"},null,8,MS),[[le,y.vendas_credito,void 0,{number:!0}]])]),c("div",null,[m[11]||(m[11]=c("label",{class:"block text-xs font-medium text-gray-700"},"Débito",-1)),re(c("input",{"onUpdate:modelValue":x=>y.vendas_debito=x,type:"number",step:"0.01",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm text-sm"},null,8,DS),[[le,y.vendas_debito,void 0,{number:!0}]])]),c("div",null,[m[12]||(m[12]=c("label",{class:"block text-xs font-medium text-gray-700"},"PIX",-1)),re(c("input",{"onUpdate:modelValue":x=>y.vendas_pix=x,type:"number",step:"0.01",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm text-sm"},null,8,NS),[[le,y.vendas_pix,void 0,{number:!0}]])]),c("div",null,[m[13]||(m[13]=c("label",{class:"block text-xs font-medium text-gray-700"},"Vale",-1)),re(c("input",{"onUpdate:modelValue":x=>y.vendas_vale=x,type:"number",step:"0.01",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm text-sm"},null,8,US),[[le,y.vendas_vale,void 0,{number:!0}]])]),c("div",null,[m[14]||(m[14]=c("label",{class:"block text-xs font-medium text-gray-700"},"Dinheiro",-1)),re(c("input",{"onUpdate:modelValue":x=>y.vendas_dinheiro=x,type:"number",step:"0.01",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm text-sm"},null,8,FS),[[le,y.vendas_dinheiro,void 0,{number:!0}]])]),c("div",null,[m[15]||(m[15]=c("label",{class:"block text-xs font-medium text-gray-700"},"Transferência",-1)),re(c("input",{"onUpdate:modelValue":x=>y.vendas_transferencia=x,type:"number",step:"0.01",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm text-sm"},null,8,LS),[[le,y.vendas_transferencia,void 0,{number:!0}]])])])]))),128))])):ae("",!0)])])]),c("div",BS,[c("button",{onClick:h,disabled:i.value,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 disabled:opacity-50 sm:ml-3 sm:w-auto sm:text-sm"},[i.value?(A(),N("span",HS,"Processando...")):(A(),N("span",WS,"Salvar Relatório"))],8,qS),c("button",{onClick:f,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancelar ")])])])])):ae("",!0)])])]),_:1}))}}),VS=ft({__name:"FinancialView",setup(t){return(e,n)=>(A(),ye(Pn,null,{default:Je(()=>[...n[0]||(n[0]=[c("div",{class:"py-6"},[c("div",{class:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8"},[c("h1",{class:"text-2xl font-semibold text-gray-900"},"Gestão Financeira"),c("div",{class:"mt-6 bg-white shadow rounded-lg p-6"},[c("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Boletos e Cobranças"),c("p",{class:"text-gray-500"},"Sistema de gestão financeira em desenvolvimento...")])])],-1)])]),_:1}))}}),gd=Zm({history:$m("/APP_Dnotas/"),routes:[{path:"/",redirect:"/dashboard"},{path:"/dashboard",name:"dashboard",component:()=>os(()=>import("./MatrizDashboard-aIbbwbUt.js"),[])},{path:"/admin/dashboard",name:"admin-dashboard",component:gw,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/admin/filiais",name:"admin-filiais",component:n_,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/admin/funcionarios",name:"admin-funcionarios",component:K_,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/chat",name:"chat",component:sx,meta:{requiresAuth:!0}},{path:"/clients",name:"clients",component:oS,meta:{requiresAuth:!0}},{path:"/reports",name:"reports",component:zS,meta:{requiresAuth:!0}},{path:"/financial",name:"financial",component:VS,meta:{requiresAuth:!0}}]});gd.beforeEach((t,e,n)=>{n()});const Hi=qh(F0);Hi.use(zh());Hi.use(gd);Hi.mount("#app");export{_e as F,N as a,c as b,j0 as c,ft as d,ae as e,JS as f,K as g,_c as h,Ye as i,Tn as j,re as k,Vn as l,pe as m,be as n,fn as o,A as p,q as r,D as t,le as v,Je as w};
//# sourceMappingURL=index-Df3G5vvc.js.map
