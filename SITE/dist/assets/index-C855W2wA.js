var wd=Object.defineProperty;var yd=(t,e,n)=>e in t?wd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Xi=(t,e,n)=>yd(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function bi(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const pe={},Yn=[],Mt=()=>{},Ul=()=>!1,qr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),_i=t=>t.startsWith("onUpdate:"),ze=Object.assign,xi=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},bd=Object.prototype.hasOwnProperty,ce=(t,e)=>bd.call(t,e),X=Array.isArray,Xn=t=>Ws(t)==="[object Map]",Hr=t=>Ws(t)==="[object Set]",Qi=t=>Ws(t)==="[object Date]",te=t=>typeof t=="function",Ae=t=>typeof t=="string",yt=t=>typeof t=="symbol",we=t=>t!==null&&typeof t=="object",Fl=t=>(we(t)||te(t))&&te(t.then)&&te(t.catch),Bl=Object.prototype.toString,Ws=t=>Bl.call(t),_d=t=>Ws(t).slice(8,-1),ql=t=>Ws(t)==="[object Object]",Si=t=>Ae(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,_s=bi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Wr=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},xd=/-\w/g,dt=Wr(t=>t.replace(xd,e=>e.slice(1).toUpperCase())),Sd=/\B([A-Z])/g,dn=Wr(t=>t.replace(Sd,"-$1").toLowerCase()),Vr=Wr(t=>t.charAt(0).toUpperCase()+t.slice(1)),go=Wr(t=>t?`on${Vr(t)}`:""),on=(t,e)=>!Object.is(t,e),dr=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Hl=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},xr=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Zi;const zr=()=>Zi||(Zi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ki(t){if(X(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=Ae(s)?Td(s):ki(s);if(r)for(const o in r)e[o]=r[o]}return e}else if(Ae(t)||we(t))return t}const kd=/;(?![^(]*\))/g,Ed=/:([^]+)/,Od=/\/\*[^]*?\*\//g;function Td(t){const e={};return t.replace(Od,"").split(kd).forEach(n=>{if(n){const s=n.split(Ed);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Ee(t){let e="";if(Ae(t))e=t;else if(X(t))for(let n=0;n<t.length;n++){const s=Ee(t[n]);s&&(e+=s+" ")}else if(we(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Cd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ad=bi(Cd);function Wl(t){return!!t||t===""}function Rd(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=Kr(t[s],e[s]);return n}function Kr(t,e){if(t===e)return!0;let n=Qi(t),s=Qi(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=yt(t),s=yt(e),n||s)return t===e;if(n=X(t),s=X(e),n||s)return n&&s?Rd(t,e):!1;if(n=we(t),s=we(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,o=Object.keys(e).length;if(r!==o)return!1;for(const i in t){const a=t.hasOwnProperty(i),l=e.hasOwnProperty(i);if(a&&!l||!a&&l||!Kr(t[i],e[i]))return!1}}return String(t)===String(e)}function $d(t,e){return t.findIndex(n=>Kr(n,e))}const Vl=t=>!!(t&&t.__v_isRef===!0),L=t=>Ae(t)?t:t==null?"":X(t)||we(t)&&(t.toString===Bl||!te(t.toString))?Vl(t)?L(t.value):JSON.stringify(t,zl,2):String(t),zl=(t,e)=>Vl(e)?zl(t,e.value):Xn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],o)=>(n[vo(s,o)+" =>"]=r,n),{})}:Hr(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>vo(n))}:yt(e)?vo(e):we(e)&&!X(e)&&!ql(e)?String(e):e,vo=(t,e="")=>{var n;return yt(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let qe;class Kl{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=qe,!e&&qe&&(this.index=(qe.scopes||(qe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=qe;try{return qe=this,e()}finally{qe=n}}}on(){++this._on===1&&(this.prevScope=qe,qe=this)}off(){this._on>0&&--this._on===0&&(qe=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Jl(t){return new Kl(t)}function Gl(){return qe}function Pd(t,e=!1){qe&&qe.cleanups.push(t)}let _e;const wo=new WeakSet;class Yl{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,qe&&qe.active&&qe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,wo.has(this)&&(wo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ql(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ea(this),Zl(this);const e=_e,n=vt;_e=this,vt=!0;try{return this.fn()}finally{ec(this),_e=e,vt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ti(e);this.deps=this.depsTail=void 0,ea(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?wo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Fo(this)&&this.run()}get dirty(){return Fo(this)}}let Xl=0,xs,Ss;function Ql(t,e=!1){if(t.flags|=8,e){t.next=Ss,Ss=t;return}t.next=xs,xs=t}function Ei(){Xl++}function Oi(){if(--Xl>0)return;if(Ss){let e=Ss;for(Ss=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;xs;){let e=xs;for(xs=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function Zl(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function ec(t){let e,n=t.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),Ti(s),jd(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}t.deps=e,t.depsTail=n}function Fo(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(tc(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function tc(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===js)||(t.globalVersion=js,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Fo(t))))return;t.flags|=2;const e=t.dep,n=_e,s=vt;_e=t,vt=!0;try{Zl(t);const r=t.fn(t._value);(e.version===0||on(r,t._value))&&(t.flags|=128,t._value=r,e.version++)}catch(r){throw e.version++,r}finally{_e=n,vt=s,ec(t),t.flags&=-3}}function Ti(t,e=!1){const{dep:n,prevSub:s,nextSub:r}=t;if(s&&(s.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)Ti(o,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function jd(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let vt=!0;const nc=[];function Vt(){nc.push(vt),vt=!1}function zt(){const t=nc.pop();vt=t===void 0?!0:t}function ea(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=_e;_e=void 0;try{e()}finally{_e=n}}}let js=0;class Id{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ci{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!_e||!vt||_e===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==_e)n=this.activeLink=new Id(_e,this),_e.deps?(n.prevDep=_e.depsTail,_e.depsTail.nextDep=n,_e.depsTail=n):_e.deps=_e.depsTail=n,sc(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=_e.depsTail,n.nextDep=void 0,_e.depsTail.nextDep=n,_e.depsTail=n,_e.deps===n&&(_e.deps=s)}return n}trigger(e){this.version++,js++,this.notify(e)}notify(e){Ei();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Oi()}}}function sc(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)sc(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Sr=new WeakMap,An=Symbol(""),Bo=Symbol(""),Is=Symbol("");function He(t,e,n){if(vt&&_e){let s=Sr.get(t);s||Sr.set(t,s=new Map);let r=s.get(n);r||(s.set(n,r=new Ci),r.map=s,r.key=n),r.track()}}function Ht(t,e,n,s,r,o){const i=Sr.get(t);if(!i){js++;return}const a=l=>{l&&l.trigger()};if(Ei(),e==="clear")i.forEach(a);else{const l=X(t),u=l&&Si(n);if(l&&n==="length"){const c=Number(s);i.forEach((f,h)=>{(h==="length"||h===Is||!yt(h)&&h>=c)&&a(f)})}else switch((n!==void 0||i.has(void 0))&&a(i.get(n)),u&&a(i.get(Is)),e){case"add":l?u&&a(i.get("length")):(a(i.get(An)),Xn(t)&&a(i.get(Bo)));break;case"delete":l||(a(i.get(An)),Xn(t)&&a(i.get(Bo)));break;case"set":Xn(t)&&a(i.get(An));break}}Oi()}function Md(t,e){const n=Sr.get(t);return n&&n.get(e)}function Nn(t){const e=ae(t);return e===t?e:(He(e,"iterate",Is),ut(t)?e:e.map(Fe))}function Jr(t){return He(t=ae(t),"iterate",Is),t}const Dd={__proto__:null,[Symbol.iterator](){return yo(this,Symbol.iterator,Fe)},concat(...t){return Nn(this).concat(...t.map(e=>X(e)?Nn(e):e))},entries(){return yo(this,"entries",t=>(t[1]=Fe(t[1]),t))},every(t,e){return Nt(this,"every",t,e,void 0,arguments)},filter(t,e){return Nt(this,"filter",t,e,n=>n.map(Fe),arguments)},find(t,e){return Nt(this,"find",t,e,Fe,arguments)},findIndex(t,e){return Nt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Nt(this,"findLast",t,e,Fe,arguments)},findLastIndex(t,e){return Nt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Nt(this,"forEach",t,e,void 0,arguments)},includes(...t){return bo(this,"includes",t)},indexOf(...t){return bo(this,"indexOf",t)},join(t){return Nn(this).join(t)},lastIndexOf(...t){return bo(this,"lastIndexOf",t)},map(t,e){return Nt(this,"map",t,e,void 0,arguments)},pop(){return ms(this,"pop")},push(...t){return ms(this,"push",t)},reduce(t,...e){return ta(this,"reduce",t,e)},reduceRight(t,...e){return ta(this,"reduceRight",t,e)},shift(){return ms(this,"shift")},some(t,e){return Nt(this,"some",t,e,void 0,arguments)},splice(...t){return ms(this,"splice",t)},toReversed(){return Nn(this).toReversed()},toSorted(t){return Nn(this).toSorted(t)},toSpliced(...t){return Nn(this).toSpliced(...t)},unshift(...t){return ms(this,"unshift",t)},values(){return yo(this,"values",Fe)}};function yo(t,e,n){const s=Jr(t),r=s[e]();return s!==t&&!ut(t)&&(r._next=r.next,r.next=()=>{const o=r._next();return o.done||(o.value=n(o.value)),o}),r}const Nd=Array.prototype;function Nt(t,e,n,s,r,o){const i=Jr(t),a=i!==t&&!ut(t),l=i[e];if(l!==Nd[e]){const f=l.apply(t,o);return a?Fe(f):f}let u=n;i!==t&&(a?u=function(f,h){return n.call(this,Fe(f),h,t)}:n.length>2&&(u=function(f,h){return n.call(this,f,h,t)}));const c=l.call(i,u,s);return a&&r?r(c):c}function ta(t,e,n,s){const r=Jr(t);let o=n;return r!==t&&(ut(t)?n.length>3&&(o=function(i,a,l){return n.call(this,i,a,l,t)}):o=function(i,a,l){return n.call(this,i,Fe(a),l,t)}),r[e](o,...s)}function bo(t,e,n){const s=ae(t);He(s,"iterate",Is);const r=s[e](...n);return(r===-1||r===!1)&&$i(n[0])?(n[0]=ae(n[0]),s[e](...n)):r}function ms(t,e,n=[]){Vt(),Ei();const s=ae(t)[e].apply(t,n);return Oi(),zt(),s}const Ld=bi("__proto__,__v_isRef,__isVue"),rc=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(yt));function Ud(t){yt(t)||(t=String(t));const e=ae(this);return He(e,"has",t),e.hasOwnProperty(t)}class oc{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return o;if(n==="__v_raw")return s===(r?o?Gd:cc:o?lc:ac).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const i=X(e);if(!r){let l;if(i&&(l=Dd[n]))return l;if(n==="hasOwnProperty")return Ud}const a=Reflect.get(e,n,Ce(e)?e:s);if((yt(n)?rc.has(n):Ld(n))||(r||He(e,"get",n),o))return a;if(Ce(a)){const l=i&&Si(n)?a:a.value;return r&&we(l)?Ho(l):l}return we(a)?r?Ho(a):Vs(a):a}}class ic extends oc{constructor(e=!1){super(!1,e)}set(e,n,s,r){let o=e[n];if(!this._isShallow){const l=cn(o);if(!ut(s)&&!cn(s)&&(o=ae(o),s=ae(s)),!X(e)&&Ce(o)&&!Ce(s))return l||(o.value=s),!0}const i=X(e)&&Si(n)?Number(n)<e.length:ce(e,n),a=Reflect.set(e,n,s,Ce(e)?e:r);return e===ae(r)&&(i?on(s,o)&&Ht(e,"set",n,s):Ht(e,"add",n,s)),a}deleteProperty(e,n){const s=ce(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&Ht(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!yt(n)||!rc.has(n))&&He(e,"has",n),s}ownKeys(e){return He(e,"iterate",X(e)?"length":An),Reflect.ownKeys(e)}}class Fd extends oc{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Bd=new ic,qd=new Fd,Hd=new ic(!0);const qo=t=>t,sr=t=>Reflect.getPrototypeOf(t);function Wd(t,e,n){return function(...s){const r=this.__v_raw,o=ae(r),i=Xn(o),a=t==="entries"||t===Symbol.iterator&&i,l=t==="keys"&&i,u=r[t](...s),c=n?qo:e?kr:Fe;return!e&&He(o,"iterate",l?Bo:An),{next(){const{value:f,done:h}=u.next();return h?{value:f,done:h}:{value:a?[c(f[0]),c(f[1])]:c(f),done:h}},[Symbol.iterator](){return this}}}}function rr(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Vd(t,e){const n={get(r){const o=this.__v_raw,i=ae(o),a=ae(r);t||(on(r,a)&&He(i,"get",r),He(i,"get",a));const{has:l}=sr(i),u=e?qo:t?kr:Fe;if(l.call(i,r))return u(o.get(r));if(l.call(i,a))return u(o.get(a));o!==i&&o.get(r)},get size(){const r=this.__v_raw;return!t&&He(ae(r),"iterate",An),r.size},has(r){const o=this.__v_raw,i=ae(o),a=ae(r);return t||(on(r,a)&&He(i,"has",r),He(i,"has",a)),r===a?o.has(r):o.has(r)||o.has(a)},forEach(r,o){const i=this,a=i.__v_raw,l=ae(a),u=e?qo:t?kr:Fe;return!t&&He(l,"iterate",An),a.forEach((c,f)=>r.call(o,u(c),u(f),i))}};return ze(n,t?{add:rr("add"),set:rr("set"),delete:rr("delete"),clear:rr("clear")}:{add(r){!e&&!ut(r)&&!cn(r)&&(r=ae(r));const o=ae(this);return sr(o).has.call(o,r)||(o.add(r),Ht(o,"add",r,r)),this},set(r,o){!e&&!ut(o)&&!cn(o)&&(o=ae(o));const i=ae(this),{has:a,get:l}=sr(i);let u=a.call(i,r);u||(r=ae(r),u=a.call(i,r));const c=l.call(i,r);return i.set(r,o),u?on(o,c)&&Ht(i,"set",r,o):Ht(i,"add",r,o),this},delete(r){const o=ae(this),{has:i,get:a}=sr(o);let l=i.call(o,r);l||(r=ae(r),l=i.call(o,r)),a&&a.call(o,r);const u=o.delete(r);return l&&Ht(o,"delete",r,void 0),u},clear(){const r=ae(this),o=r.size!==0,i=r.clear();return o&&Ht(r,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=Wd(r,t,e)}),n}function Ai(t,e){const n=Vd(t,e);return(s,r,o)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(ce(n,r)&&r in s?n:s,r,o)}const zd={get:Ai(!1,!1)},Kd={get:Ai(!1,!0)},Jd={get:Ai(!0,!1)};const ac=new WeakMap,lc=new WeakMap,cc=new WeakMap,Gd=new WeakMap;function Yd(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Xd(t){return t.__v_skip||!Object.isExtensible(t)?0:Yd(_d(t))}function Vs(t){return cn(t)?t:Ri(t,!1,Bd,zd,ac)}function uc(t){return Ri(t,!1,Hd,Kd,lc)}function Ho(t){return Ri(t,!0,qd,Jd,cc)}function Ri(t,e,n,s,r){if(!we(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=Xd(t);if(o===0)return t;const i=r.get(t);if(i)return i;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function an(t){return cn(t)?an(t.__v_raw):!!(t&&t.__v_isReactive)}function cn(t){return!!(t&&t.__v_isReadonly)}function ut(t){return!!(t&&t.__v_isShallow)}function $i(t){return t?!!t.__v_raw:!1}function ae(t){const e=t&&t.__v_raw;return e?ae(e):t}function Pi(t){return!ce(t,"__v_skip")&&Object.isExtensible(t)&&Hl(t,"__v_skip",!0),t}const Fe=t=>we(t)?Vs(t):t,kr=t=>we(t)?Ho(t):t;function Ce(t){return t?t.__v_isRef===!0:!1}function J(t){return dc(t,!1)}function Qd(t){return dc(t,!0)}function dc(t,e){return Ce(t)?t:new Zd(t,e)}class Zd{constructor(e,n){this.dep=new Ci,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:ae(e),this._value=n?e:Fe(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||ut(e)||cn(e);e=s?e:ae(e),on(e,n)&&(this._rawValue=e,this._value=s?e:Fe(e),this.dep.trigger())}}function xe(t){return Ce(t)?t.value:t}const ef={get:(t,e,n)=>e==="__v_raw"?t:xe(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return Ce(r)&&!Ce(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function fc(t){return an(t)?t:new Proxy(t,ef)}function tf(t){const e=X(t)?new Array(t.length):{};for(const n in t)e[n]=sf(t,n);return e}class nf{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Md(ae(this._object),this._key)}}function sf(t,e,n){const s=t[e];return Ce(s)?s:new nf(t,e,n)}class rf{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Ci(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=js-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&_e!==this)return Ql(this,!0),!0}get value(){const e=this.dep.track();return tc(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function of(t,e,n=!1){let s,r;return te(t)?s=t:(s=t.get,r=t.set),new rf(s,r,n)}const or={},Er=new WeakMap;let bn;function af(t,e=!1,n=bn){if(n){let s=Er.get(n);s||Er.set(n,s=[]),s.push(t)}}function lf(t,e,n=pe){const{immediate:s,deep:r,once:o,scheduler:i,augmentJob:a,call:l}=n,u=O=>r?O:ut(O)||r===!1||r===0?Wt(O,1):Wt(O);let c,f,h,m,p=!1,w=!1;if(Ce(t)?(f=()=>t.value,p=ut(t)):an(t)?(f=()=>u(t),p=!0):X(t)?(w=!0,p=t.some(O=>an(O)||ut(O)),f=()=>t.map(O=>{if(Ce(O))return O.value;if(an(O))return u(O);if(te(O))return l?l(O,2):O()})):te(t)?e?f=l?()=>l(t,2):t:f=()=>{if(h){Vt();try{h()}finally{zt()}}const O=bn;bn=c;try{return l?l(t,3,[m]):t(m)}finally{bn=O}}:f=Mt,e&&r){const O=f,U=r===!0?1/0:r;f=()=>Wt(O(),U)}const g=Gl(),b=()=>{c.stop(),g&&g.active&&xi(g.effects,c)};if(o&&e){const O=e;e=(...U)=>{O(...U),b()}}let x=w?new Array(t.length).fill(or):or;const _=O=>{if(!(!(c.flags&1)||!c.dirty&&!O))if(e){const U=c.run();if(r||p||(w?U.some((W,R)=>on(W,x[R])):on(U,x))){h&&h();const W=bn;bn=c;try{const R=[U,x===or?void 0:w&&x[0]===or?[]:x,m];x=U,l?l(e,3,R):e(...R)}finally{bn=W}}}else c.run()};return a&&a(_),c=new Yl(f),c.scheduler=i?()=>i(_,!1):_,m=O=>af(O,!1,c),h=c.onStop=()=>{const O=Er.get(c);if(O){if(l)l(O,4);else for(const U of O)U();Er.delete(c)}},e?s?_(!0):x=c.run():i?i(_.bind(null,!0),!0):c.run(),b.pause=c.pause.bind(c),b.resume=c.resume.bind(c),b.stop=b,b}function Wt(t,e=1/0,n){if(e<=0||!we(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,Ce(t))Wt(t.value,e,n);else if(X(t))for(let s=0;s<t.length;s++)Wt(t[s],e,n);else if(Hr(t)||Xn(t))t.forEach(s=>{Wt(s,e,n)});else if(ql(t)){for(const s in t)Wt(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&Wt(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function zs(t,e,n,s){try{return s?t(...s):t()}catch(r){Gr(r,e,n)}}function Dt(t,e,n,s){if(te(t)){const r=zs(t,e,n,s);return r&&Fl(r)&&r.catch(o=>{Gr(o,e,n)}),r}if(X(t)){const r=[];for(let o=0;o<t.length;o++)r.push(Dt(t[o],e,n,s));return r}}function Gr(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:i}=e&&e.appContext.config||pe;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](t,l,u)===!1)return}a=a.parent}if(o){Vt(),zs(o,null,10,[t,l,u]),zt();return}}cf(t,n,r,s,i)}function cf(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}const Ge=[];let At=-1;const Qn=[];let tn=null,zn=0;const hc=Promise.resolve();let Or=null;function Ks(t){const e=Or||hc;return t?e.then(this?t.bind(this):t):e}function uf(t){let e=At+1,n=Ge.length;for(;e<n;){const s=e+n>>>1,r=Ge[s],o=Ms(r);o<t||o===t&&r.flags&2?e=s+1:n=s}return e}function ji(t){if(!(t.flags&1)){const e=Ms(t),n=Ge[Ge.length-1];!n||!(t.flags&2)&&e>=Ms(n)?Ge.push(t):Ge.splice(uf(e),0,t),t.flags|=1,mc()}}function mc(){Or||(Or=hc.then(gc))}function df(t){X(t)?Qn.push(...t):tn&&t.id===-1?tn.splice(zn+1,0,t):t.flags&1||(Qn.push(t),t.flags|=1),mc()}function na(t,e,n=At+1){for(;n<Ge.length;n++){const s=Ge[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Ge.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function pc(t){if(Qn.length){const e=[...new Set(Qn)].sort((n,s)=>Ms(n)-Ms(s));if(Qn.length=0,tn){tn.push(...e);return}for(tn=e,zn=0;zn<tn.length;zn++){const n=tn[zn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}tn=null,zn=0}}const Ms=t=>t.id==null?t.flags&2?-1:1/0:t.id;function gc(t){try{for(At=0;At<Ge.length;At++){const e=Ge[At];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),zs(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;At<Ge.length;At++){const e=Ge[At];e&&(e.flags&=-2)}At=-1,Ge.length=0,pc(),Or=null,(Ge.length||Qn.length)&&gc()}}let Be=null,vc=null;function Tr(t){const e=Be;return Be=t,vc=t&&t.type.__scopeId||null,e}function De(t,e=Be,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&Rr(-1);const o=Tr(e);let i;try{i=t(...r)}finally{Tr(o),s._d&&Rr(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function ue(t,e){if(Be===null)return t;const n=eo(Be),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[o,i,a,l=pe]=e[r];o&&(te(o)&&(o={mounted:o,updated:o}),o.deep&&Wt(i),s.push({dir:o,instance:n,value:i,oldValue:void 0,arg:a,modifiers:l}))}return t}function gn(t,e,n,s){const r=t.dirs,o=e&&e.dirs;for(let i=0;i<r.length;i++){const a=r[i];o&&(a.oldValue=o[i].value);let l=a.dir[s];l&&(Vt(),Dt(l,n,8,[t.el,a,t,e]),zt())}}const ff=Symbol("_vte"),hf=t=>t.__isTeleport,mf=Symbol("_leaveCb");function Ii(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ii(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function st(t,e){return te(t)?ze({name:t.name},e,{setup:t}):t}function wc(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Cr=new WeakMap;function ks(t,e,n,s,r=!1){if(X(t)){t.forEach((p,w)=>ks(p,e&&(X(e)?e[w]:e),n,s,r));return}if(Zn(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&ks(t,e,n,s.component.subTree);return}const o=s.shapeFlag&4?eo(s.component):s.el,i=r?null:o,{i:a,r:l}=t,u=e&&e.r,c=a.refs===pe?a.refs={}:a.refs,f=a.setupState,h=ae(f),m=f===pe?Ul:p=>ce(h,p);if(u!=null&&u!==l){if(sa(e),Ae(u))c[u]=null,m(u)&&(f[u]=null);else if(Ce(u)){u.value=null;const p=e;p.k&&(c[p.k]=null)}}if(te(l))zs(l,a,12,[i,c]);else{const p=Ae(l),w=Ce(l);if(p||w){const g=()=>{if(t.f){const b=p?m(l)?f[l]:c[l]:l.value;if(r)X(b)&&xi(b,o);else if(X(b))b.includes(o)||b.push(o);else if(p)c[l]=[o],m(l)&&(f[l]=c[l]);else{const x=[o];l.value=x,t.k&&(c[t.k]=x)}}else p?(c[l]=i,m(l)&&(f[l]=i)):w&&(l.value=i,t.k&&(c[t.k]=i))};if(i){const b=()=>{g(),Cr.delete(t)};b.id=-1,Cr.set(t,b),ot(b,n)}else sa(t),g()}}}function sa(t){const e=Cr.get(t);e&&(e.flags|=8,Cr.delete(t))}zr().requestIdleCallback;zr().cancelIdleCallback;const Zn=t=>!!t.type.__asyncLoader,yc=t=>t.type.__isKeepAlive;function pf(t,e){bc(t,"a",e)}function gf(t,e){bc(t,"da",e)}function bc(t,e,n=We){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Yr(e,s,n),n){let r=n.parent;for(;r&&r.parent;)yc(r.parent.vnode)&&vf(s,e,n,r),r=r.parent}}function vf(t,e,n,s){const r=Yr(e,t,s,!0);_c(()=>{xi(s[e],r)},n)}function Yr(t,e,n=We,s=!1){if(n){const r=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...i)=>{Vt();const a=Js(n),l=Dt(e,n,t,i);return a(),zt(),l});return s?r.unshift(o):r.push(o),o}}const Jt=t=>(e,n=We)=>{(!Ls||t==="sp")&&Yr(t,(...s)=>e(...s),n)},wf=Jt("bm"),Gt=Jt("m"),yf=Jt("bu"),bf=Jt("u"),_f=Jt("bum"),_c=Jt("um"),xf=Jt("sp"),Sf=Jt("rtg"),kf=Jt("rtc");function Ef(t,e=We){Yr("ec",t,e)}const xc="components";function Xr(t,e){return kc(xc,t,!0,e)||t}const Sc=Symbol.for("v-ndc");function fr(t){return Ae(t)?kc(xc,t,!1)||t:t||Sc}function kc(t,e,n=!0,s=!1){const r=Be||We;if(r){const o=r.type;{const a=mh(o,!1);if(a&&(a===e||a===dt(e)||a===Vr(dt(e))))return o}const i=ra(r[t]||o[t],e)||ra(r.appContext[t],e);return!i&&s?o:i}}function ra(t,e){return t&&(t[e]||t[dt(e)]||t[Vr(dt(e))])}function Ye(t,e,n,s){let r;const o=n,i=X(t);if(i||Ae(t)){const a=i&&an(t);let l=!1,u=!1;a&&(l=!ut(t),u=cn(t),t=Jr(t)),r=new Array(t.length);for(let c=0,f=t.length;c<f;c++)r[c]=e(l?u?kr(Fe(t[c])):Fe(t[c]):t[c],c,void 0,o)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,o)}else if(we(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,o));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];r[l]=e(t[c],c,l,o)}}else r=[];return r}function Of(t,e,n={},s,r){if(Be.ce||Be.parent&&Zn(Be.parent)&&Be.parent.ce){const u=Object.keys(n).length>0;return j(),ie(ge,null,[G("slot",n,s)],u?-2:64)}let o=t[e];o&&o._c&&(o._d=!1),j();const i=o&&Ec(o(n)),a=n.key||i&&i.key,l=ie(ge,{key:(a&&!yt(a)?a:`_${e}`)+(!i&&s?"_fb":"")},i||[],i&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function Ec(t){return t.some(e=>Ns(e)?!(e.type===Kt||e.type===ge&&!Ec(e.children)):!0)?t:null}const Wo=t=>t?zc(t)?eo(t):Wo(t.parent):null,Es=ze(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Wo(t.parent),$root:t=>Wo(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Tc(t),$forceUpdate:t=>t.f||(t.f=()=>{ji(t.update)}),$nextTick:t=>t.n||(t.n=Ks.bind(t.proxy)),$watch:t=>Jf.bind(t)}),_o=(t,e)=>t!==pe&&!t.__isScriptSetup&&ce(t,e),Tf={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:o,accessCache:i,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const m=i[e];if(m!==void 0)switch(m){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return o[e]}else{if(_o(s,e))return i[e]=1,s[e];if(r!==pe&&ce(r,e))return i[e]=2,r[e];if((u=t.propsOptions[0])&&ce(u,e))return i[e]=3,o[e];if(n!==pe&&ce(n,e))return i[e]=4,n[e];Vo&&(i[e]=0)}}const c=Es[e];let f,h;if(c)return e==="$attrs"&&He(t.attrs,"get",""),c(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==pe&&ce(n,e))return i[e]=4,n[e];if(h=l.config.globalProperties,ce(h,e))return h[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:o}=t;return _o(r,e)?(r[e]=n,!0):s!==pe&&ce(s,e)?(s[e]=n,!0):ce(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:o,type:i}},a){let l,u;return!!(n[a]||t!==pe&&a[0]!=="$"&&ce(t,a)||_o(e,a)||(l=o[0])&&ce(l,a)||ce(s,a)||ce(Es,a)||ce(r.config.globalProperties,a)||(u=i.__cssModules)&&u[a])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ce(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function oa(t){return X(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Vo=!0;function Cf(t){const e=Tc(t),n=t.proxy,s=t.ctx;Vo=!1,e.beforeCreate&&ia(e.beforeCreate,t,"bc");const{data:r,computed:o,methods:i,watch:a,provide:l,inject:u,created:c,beforeMount:f,mounted:h,beforeUpdate:m,updated:p,activated:w,deactivated:g,beforeDestroy:b,beforeUnmount:x,destroyed:_,unmounted:O,render:U,renderTracked:W,renderTriggered:R,errorCaptured:E,serverPrefetch:P,expose:de,inheritAttrs:Le,components:Ue,directives:$e,filters:Ke}=e;if(u&&Af(u,s,null),i)for(const Z in i){const se=i[Z];te(se)&&(s[Z]=se.bind(n))}if(r){const Z=r.call(n,n);we(Z)&&(t.data=Vs(Z))}if(Vo=!0,o)for(const Z in o){const se=o[Z],lt=te(se)?se.bind(n,n):te(se.get)?se.get.bind(n,n):Mt,xt=!te(se)&&te(se.set)?se.set.bind(n):Mt,Ie=Ne({get:lt,set:xt});Object.defineProperty(s,Z,{enumerable:!0,configurable:!0,get:()=>Ie.value,set:Oe=>Ie.value=Oe})}if(a)for(const Z in a)Oc(a[Z],s,n,Z);if(l){const Z=te(l)?l.call(n):l;Reflect.ownKeys(Z).forEach(se=>{hr(se,Z[se])})}c&&ia(c,t,"c");function re(Z,se){X(se)?se.forEach(lt=>Z(lt.bind(n))):se&&Z(se.bind(n))}if(re(wf,f),re(Gt,h),re(yf,m),re(bf,p),re(pf,w),re(gf,g),re(Ef,E),re(kf,W),re(Sf,R),re(_f,x),re(_c,O),re(xf,P),X(de))if(de.length){const Z=t.exposed||(t.exposed={});de.forEach(se=>{Object.defineProperty(Z,se,{get:()=>n[se],set:lt=>n[se]=lt,enumerable:!0})})}else t.exposed||(t.exposed={});U&&t.render===Mt&&(t.render=U),Le!=null&&(t.inheritAttrs=Le),Ue&&(t.components=Ue),$e&&(t.directives=$e),P&&wc(t)}function Af(t,e,n=Mt){X(t)&&(t=zo(t));for(const s in t){const r=t[s];let o;we(r)?"default"in r?o=wt(r.from||s,r.default,!0):o=wt(r.from||s):o=wt(r),Ce(o)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):e[s]=o}}function ia(t,e,n){Dt(X(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Oc(t,e,n,s){let r=s.includes(".")?Fc(n,s):()=>n[s];if(Ae(t)){const o=e[t];te(o)&&es(r,o)}else if(te(t))es(r,t.bind(n));else if(we(t))if(X(t))t.forEach(o=>Oc(o,e,n,s));else{const o=te(t.handler)?t.handler.bind(n):e[t.handler];te(o)&&es(r,o,t)}}function Tc(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:o,config:{optionMergeStrategies:i}}=t.appContext,a=o.get(e);let l;return a?l=a:!r.length&&!n&&!s?l=e:(l={},r.length&&r.forEach(u=>Ar(l,u,i,!0)),Ar(l,e,i)),we(e)&&o.set(e,l),l}function Ar(t,e,n,s=!1){const{mixins:r,extends:o}=e;o&&Ar(t,o,n,!0),r&&r.forEach(i=>Ar(t,i,n,!0));for(const i in e)if(!(s&&i==="expose")){const a=Rf[i]||n&&n[i];t[i]=a?a(t[i],e[i]):e[i]}return t}const Rf={data:aa,props:la,emits:la,methods:ys,computed:ys,beforeCreate:Je,created:Je,beforeMount:Je,mounted:Je,beforeUpdate:Je,updated:Je,beforeDestroy:Je,beforeUnmount:Je,destroyed:Je,unmounted:Je,activated:Je,deactivated:Je,errorCaptured:Je,serverPrefetch:Je,components:ys,directives:ys,watch:Pf,provide:aa,inject:$f};function aa(t,e){return e?t?function(){return ze(te(t)?t.call(this,this):t,te(e)?e.call(this,this):e)}:e:t}function $f(t,e){return ys(zo(t),zo(e))}function zo(t){if(X(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Je(t,e){return t?[...new Set([].concat(t,e))]:e}function ys(t,e){return t?ze(Object.create(null),t,e):e}function la(t,e){return t?X(t)&&X(e)?[...new Set([...t,...e])]:ze(Object.create(null),oa(t),oa(e??{})):e}function Pf(t,e){if(!t)return e;if(!e)return t;const n=ze(Object.create(null),t);for(const s in e)n[s]=Je(t[s],e[s]);return n}function Cc(){return{app:null,config:{isNativeTag:Ul,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let jf=0;function If(t,e){return function(s,r=null){te(s)||(s=ze({},s)),r!=null&&!we(r)&&(r=null);const o=Cc(),i=new WeakSet,a=[];let l=!1;const u=o.app={_uid:jf++,_component:s,_props:r,_container:null,_context:o,_instance:null,version:gh,get config(){return o.config},set config(c){},use(c,...f){return i.has(c)||(c&&te(c.install)?(i.add(c),c.install(u,...f)):te(c)&&(i.add(c),c(u,...f))),u},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),u},component(c,f){return f?(o.components[c]=f,u):o.components[c]},directive(c,f){return f?(o.directives[c]=f,u):o.directives[c]},mount(c,f,h){if(!l){const m=u._ceVNode||G(s,r);return m.appContext=o,h===!0?h="svg":h===!1&&(h=void 0),t(m,c,h),l=!0,u._container=c,c.__vue_app__=u,eo(m.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Dt(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,f){return o.provides[c]=f,u},runWithContext(c){const f=Rn;Rn=u;try{return c()}finally{Rn=f}}};return u}}let Rn=null;function hr(t,e){if(We){let n=We.provides;const s=We.parent&&We.parent.provides;s===n&&(n=We.provides=Object.create(s)),n[t]=e}}function wt(t,e,n=!1){const s=Vc();if(s||Rn){let r=Rn?Rn._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&te(e)?e.call(s&&s.proxy):e}}function Mf(){return!!(Vc()||Rn)}const Ac={},Rc=()=>Object.create(Ac),$c=t=>Object.getPrototypeOf(t)===Ac;function Df(t,e,n,s=!1){const r={},o=Rc();t.propsDefaults=Object.create(null),Pc(t,e,r,o);for(const i in t.propsOptions[0])i in r||(r[i]=void 0);n?t.props=s?r:uc(r):t.type.props?t.props=r:t.props=o,t.attrs=o}function Nf(t,e,n,s){const{props:r,attrs:o,vnode:{patchFlag:i}}=t,a=ae(r),[l]=t.propsOptions;let u=!1;if((s||i>0)&&!(i&16)){if(i&8){const c=t.vnode.dynamicProps;for(let f=0;f<c.length;f++){let h=c[f];if(Qr(t.emitsOptions,h))continue;const m=e[h];if(l)if(ce(o,h))m!==o[h]&&(o[h]=m,u=!0);else{const p=dt(h);r[p]=Ko(l,a,p,m,t,!1)}else m!==o[h]&&(o[h]=m,u=!0)}}}else{Pc(t,e,r,o)&&(u=!0);let c;for(const f in a)(!e||!ce(e,f)&&((c=dn(f))===f||!ce(e,c)))&&(l?n&&(n[f]!==void 0||n[c]!==void 0)&&(r[f]=Ko(l,a,f,void 0,t,!0)):delete r[f]);if(o!==a)for(const f in o)(!e||!ce(e,f))&&(delete o[f],u=!0)}u&&Ht(t.attrs,"set","")}function Pc(t,e,n,s){const[r,o]=t.propsOptions;let i=!1,a;if(e)for(let l in e){if(_s(l))continue;const u=e[l];let c;r&&ce(r,c=dt(l))?!o||!o.includes(c)?n[c]=u:(a||(a={}))[c]=u:Qr(t.emitsOptions,l)||(!(l in s)||u!==s[l])&&(s[l]=u,i=!0)}if(o){const l=ae(n),u=a||pe;for(let c=0;c<o.length;c++){const f=o[c];n[f]=Ko(r,l,f,u[f],t,!ce(u,f))}}return i}function Ko(t,e,n,s,r,o){const i=t[n];if(i!=null){const a=ce(i,"default");if(a&&s===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&te(l)){const{propsDefaults:u}=r;if(n in u)s=u[n];else{const c=Js(r);s=u[n]=l.call(null,e),c()}}else s=l;r.ce&&r.ce._setProp(n,s)}i[0]&&(o&&!a?s=!1:i[1]&&(s===""||s===dn(n))&&(s=!0))}return s}const Lf=new WeakMap;function jc(t,e,n=!1){const s=n?Lf:e.propsCache,r=s.get(t);if(r)return r;const o=t.props,i={},a=[];let l=!1;if(!te(t)){const c=f=>{l=!0;const[h,m]=jc(f,e,!0);ze(i,h),m&&a.push(...m)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!o&&!l)return we(t)&&s.set(t,Yn),Yn;if(X(o))for(let c=0;c<o.length;c++){const f=dt(o[c]);ca(f)&&(i[f]=pe)}else if(o)for(const c in o){const f=dt(c);if(ca(f)){const h=o[c],m=i[f]=X(h)||te(h)?{type:h}:ze({},h),p=m.type;let w=!1,g=!0;if(X(p))for(let b=0;b<p.length;++b){const x=p[b],_=te(x)&&x.name;if(_==="Boolean"){w=!0;break}else _==="String"&&(g=!1)}else w=te(p)&&p.name==="Boolean";m[0]=w,m[1]=g,(w||ce(m,"default"))&&a.push(f)}}const u=[i,a];return we(t)&&s.set(t,u),u}function ca(t){return t[0]!=="$"&&!_s(t)}const Mi=t=>t==="_"||t==="_ctx"||t==="$stable",Di=t=>X(t)?t.map($t):[$t(t)],Uf=(t,e,n)=>{if(e._n)return e;const s=De((...r)=>Di(e(...r)),n);return s._c=!1,s},Ic=(t,e,n)=>{const s=t._ctx;for(const r in t){if(Mi(r))continue;const o=t[r];if(te(o))e[r]=Uf(r,o,s);else if(o!=null){const i=Di(o);e[r]=()=>i}}},Mc=(t,e)=>{const n=Di(e);t.slots.default=()=>n},Dc=(t,e,n)=>{for(const s in e)(n||!Mi(s))&&(t[s]=e[s])},Ff=(t,e,n)=>{const s=t.slots=Rc();if(t.vnode.shapeFlag&32){const r=e._;r?(Dc(s,e,n),n&&Hl(s,"_",r,!0)):Ic(e,s)}else e&&Mc(t,e)},Bf=(t,e,n)=>{const{vnode:s,slots:r}=t;let o=!0,i=pe;if(s.shapeFlag&32){const a=e._;a?n&&a===1?o=!1:Dc(r,e,n):(o=!e.$stable,Ic(e,r)),i=e}else e&&(Mc(t,e),i={default:1});if(o)for(const a in r)!Mi(a)&&i[a]==null&&delete r[a]},ot=nh;function qf(t){return Hf(t)}function Hf(t,e){const n=zr();n.__VUE__=!0;const{insert:s,remove:r,patchProp:o,createElement:i,createText:a,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:h,setScopeId:m=Mt,insertStaticContent:p}=t,w=(v,y,S,C=null,$=null,T=null,N=void 0,D=null,M=!!y.dynamicChildren)=>{if(v===y)return;v&&!ps(v,y)&&(C=A(v),Oe(v,$,T,!0),v=null),y.patchFlag===-2&&(M=!1,y.dynamicChildren=null);const{type:I,ref:Y,shapeFlag:B}=y;switch(I){case Zr:g(v,y,S,C);break;case Kt:b(v,y,S,C);break;case mr:v==null&&x(y,S,C,N);break;case ge:Ue(v,y,S,C,$,T,N,D,M);break;default:B&1?U(v,y,S,C,$,T,N,D,M):B&6?$e(v,y,S,C,$,T,N,D,M):(B&64||B&128)&&I.process(v,y,S,C,$,T,N,D,M,V)}Y!=null&&$?ks(Y,v&&v.ref,T,y||v,!y):Y==null&&v&&v.ref!=null&&ks(v.ref,null,T,v,!0)},g=(v,y,S,C)=>{if(v==null)s(y.el=a(y.children),S,C);else{const $=y.el=v.el;y.children!==v.children&&u($,y.children)}},b=(v,y,S,C)=>{v==null?s(y.el=l(y.children||""),S,C):y.el=v.el},x=(v,y,S,C)=>{[v.el,v.anchor]=p(v.children,y,S,C,v.el,v.anchor)},_=({el:v,anchor:y},S,C)=>{let $;for(;v&&v!==y;)$=h(v),s(v,S,C),v=$;s(y,S,C)},O=({el:v,anchor:y})=>{let S;for(;v&&v!==y;)S=h(v),r(v),v=S;r(y)},U=(v,y,S,C,$,T,N,D,M)=>{y.type==="svg"?N="svg":y.type==="math"&&(N="mathml"),v==null?W(y,S,C,$,T,N,D,M):P(v,y,$,T,N,D,M)},W=(v,y,S,C,$,T,N,D)=>{let M,I;const{props:Y,shapeFlag:B,transition:z,dirs:Q}=v;if(M=v.el=i(v.type,T,Y&&Y.is,Y),B&8?c(M,v.children):B&16&&E(v.children,M,null,C,$,xo(v,T),N,D),Q&&gn(v,null,C,"created"),R(M,v,v.scopeId,N,C),Y){for(const ye in Y)ye!=="value"&&!_s(ye)&&o(M,ye,null,Y[ye],T,C);"value"in Y&&o(M,"value",null,Y.value,T),(I=Y.onVnodeBeforeMount)&&Tt(I,C,v)}Q&&gn(v,null,C,"beforeMount");const oe=Wf($,z);oe&&z.beforeEnter(M),s(M,y,S),((I=Y&&Y.onVnodeMounted)||oe||Q)&&ot(()=>{I&&Tt(I,C,v),oe&&z.enter(M),Q&&gn(v,null,C,"mounted")},$)},R=(v,y,S,C,$)=>{if(S&&m(v,S),C)for(let T=0;T<C.length;T++)m(v,C[T]);if($){let T=$.subTree;if(y===T||qc(T.type)&&(T.ssContent===y||T.ssFallback===y)){const N=$.vnode;R(v,N,N.scopeId,N.slotScopeIds,$.parent)}}},E=(v,y,S,C,$,T,N,D,M=0)=>{for(let I=M;I<v.length;I++){const Y=v[I]=D?nn(v[I]):$t(v[I]);w(null,Y,y,S,C,$,T,N,D)}},P=(v,y,S,C,$,T,N)=>{const D=y.el=v.el;let{patchFlag:M,dynamicChildren:I,dirs:Y}=y;M|=v.patchFlag&16;const B=v.props||pe,z=y.props||pe;let Q;if(S&&vn(S,!1),(Q=z.onVnodeBeforeUpdate)&&Tt(Q,S,y,v),Y&&gn(y,v,S,"beforeUpdate"),S&&vn(S,!0),(B.innerHTML&&z.innerHTML==null||B.textContent&&z.textContent==null)&&c(D,""),I?de(v.dynamicChildren,I,D,S,C,xo(y,$),T):N||se(v,y,D,null,S,C,xo(y,$),T,!1),M>0){if(M&16)Le(D,B,z,S,$);else if(M&2&&B.class!==z.class&&o(D,"class",null,z.class,$),M&4&&o(D,"style",B.style,z.style,$),M&8){const oe=y.dynamicProps;for(let ye=0;ye<oe.length;ye++){const fe=oe[ye],Xe=B[fe],Qe=z[fe];(Qe!==Xe||fe==="value")&&o(D,fe,Xe,Qe,$,S)}}M&1&&v.children!==y.children&&c(D,y.children)}else!N&&I==null&&Le(D,B,z,S,$);((Q=z.onVnodeUpdated)||Y)&&ot(()=>{Q&&Tt(Q,S,y,v),Y&&gn(y,v,S,"updated")},C)},de=(v,y,S,C,$,T,N)=>{for(let D=0;D<y.length;D++){const M=v[D],I=y[D],Y=M.el&&(M.type===ge||!ps(M,I)||M.shapeFlag&198)?f(M.el):S;w(M,I,Y,null,C,$,T,N,!0)}},Le=(v,y,S,C,$)=>{if(y!==S){if(y!==pe)for(const T in y)!_s(T)&&!(T in S)&&o(v,T,y[T],null,$,C);for(const T in S){if(_s(T))continue;const N=S[T],D=y[T];N!==D&&T!=="value"&&o(v,T,D,N,$,C)}"value"in S&&o(v,"value",y.value,S.value,$)}},Ue=(v,y,S,C,$,T,N,D,M)=>{const I=y.el=v?v.el:a(""),Y=y.anchor=v?v.anchor:a("");let{patchFlag:B,dynamicChildren:z,slotScopeIds:Q}=y;Q&&(D=D?D.concat(Q):Q),v==null?(s(I,S,C),s(Y,S,C),E(y.children||[],S,Y,$,T,N,D,M)):B>0&&B&64&&z&&v.dynamicChildren?(de(v.dynamicChildren,z,S,$,T,N,D),(y.key!=null||$&&y===$.subTree)&&Nc(v,y,!0)):se(v,y,S,Y,$,T,N,D,M)},$e=(v,y,S,C,$,T,N,D,M)=>{y.slotScopeIds=D,v==null?y.shapeFlag&512?$.ctx.activate(y,S,C,N,M):Ke(y,S,C,$,T,N,M):ht(v,y,M)},Ke=(v,y,S,C,$,T,N)=>{const D=v.component=ch(v,C,$);if(yc(v)&&(D.ctx.renderer=V),uh(D,!1,N),D.asyncDep){if($&&$.registerDep(D,re,N),!v.el){const M=D.subTree=G(Kt);b(null,M,y,S),v.placeholder=M.el}}else re(D,v,y,S,$,T,N)},ht=(v,y,S)=>{const C=y.component=v.component;if(eh(v,y,S))if(C.asyncDep&&!C.asyncResolved){Z(C,y,S);return}else C.next=y,C.update();else y.el=v.el,C.vnode=y},re=(v,y,S,C,$,T,N)=>{const D=()=>{if(v.isMounted){let{next:B,bu:z,u:Q,parent:oe,vnode:ye}=v;{const Et=Lc(v);if(Et){B&&(B.el=ye.el,Z(v,B,N)),Et.asyncDep.then(()=>{v.isUnmounted||D()});return}}let fe=B,Xe;vn(v,!1),B?(B.el=ye.el,Z(v,B,N)):B=ye,z&&dr(z),(Xe=B.props&&B.props.onVnodeBeforeUpdate)&&Tt(Xe,oe,B,ye),vn(v,!0);const Qe=da(v),kt=v.subTree;v.subTree=Qe,w(kt,Qe,f(kt.el),A(kt),v,$,T),B.el=Qe.el,fe===null&&th(v,Qe.el),Q&&ot(Q,$),(Xe=B.props&&B.props.onVnodeUpdated)&&ot(()=>Tt(Xe,oe,B,ye),$)}else{let B;const{el:z,props:Q}=y,{bm:oe,m:ye,parent:fe,root:Xe,type:Qe}=v,kt=Zn(y);vn(v,!1),oe&&dr(oe),!kt&&(B=Q&&Q.onVnodeBeforeMount)&&Tt(B,fe,y),vn(v,!0);{Xe.ce&&Xe.ce._def.shadowRoot!==!1&&Xe.ce._injectChildStyle(Qe);const Et=v.subTree=da(v);w(null,Et,S,C,v,$,T),y.el=Et.el}if(ye&&ot(ye,$),!kt&&(B=Q&&Q.onVnodeMounted)){const Et=y;ot(()=>Tt(B,fe,Et),$)}(y.shapeFlag&256||fe&&Zn(fe.vnode)&&fe.vnode.shapeFlag&256)&&v.a&&ot(v.a,$),v.isMounted=!0,y=S=C=null}};v.scope.on();const M=v.effect=new Yl(D);v.scope.off();const I=v.update=M.run.bind(M),Y=v.job=M.runIfDirty.bind(M);Y.i=v,Y.id=v.uid,M.scheduler=()=>ji(Y),vn(v,!0),I()},Z=(v,y,S)=>{y.component=v;const C=v.vnode.props;v.vnode=y,v.next=null,Nf(v,y.props,C,S),Bf(v,y.children,S),Vt(),na(v),zt()},se=(v,y,S,C,$,T,N,D,M=!1)=>{const I=v&&v.children,Y=v?v.shapeFlag:0,B=y.children,{patchFlag:z,shapeFlag:Q}=y;if(z>0){if(z&128){xt(I,B,S,C,$,T,N,D,M);return}else if(z&256){lt(I,B,S,C,$,T,N,D,M);return}}Q&8?(Y&16&&ct(I,$,T),B!==I&&c(S,B)):Y&16?Q&16?xt(I,B,S,C,$,T,N,D,M):ct(I,$,T,!0):(Y&8&&c(S,""),Q&16&&E(B,S,C,$,T,N,D,M))},lt=(v,y,S,C,$,T,N,D,M)=>{v=v||Yn,y=y||Yn;const I=v.length,Y=y.length,B=Math.min(I,Y);let z;for(z=0;z<B;z++){const Q=y[z]=M?nn(y[z]):$t(y[z]);w(v[z],Q,S,null,$,T,N,D,M)}I>Y?ct(v,$,T,!0,!1,B):E(y,S,C,$,T,N,D,M,B)},xt=(v,y,S,C,$,T,N,D,M)=>{let I=0;const Y=y.length;let B=v.length-1,z=Y-1;for(;I<=B&&I<=z;){const Q=v[I],oe=y[I]=M?nn(y[I]):$t(y[I]);if(ps(Q,oe))w(Q,oe,S,null,$,T,N,D,M);else break;I++}for(;I<=B&&I<=z;){const Q=v[B],oe=y[z]=M?nn(y[z]):$t(y[z]);if(ps(Q,oe))w(Q,oe,S,null,$,T,N,D,M);else break;B--,z--}if(I>B){if(I<=z){const Q=z+1,oe=Q<Y?y[Q].el:C;for(;I<=z;)w(null,y[I]=M?nn(y[I]):$t(y[I]),S,oe,$,T,N,D,M),I++}}else if(I>z)for(;I<=B;)Oe(v[I],$,T,!0),I++;else{const Q=I,oe=I,ye=new Map;for(I=oe;I<=z;I++){const rt=y[I]=M?nn(y[I]):$t(y[I]);rt.key!=null&&ye.set(rt.key,I)}let fe,Xe=0;const Qe=z-oe+1;let kt=!1,Et=0;const hs=new Array(Qe);for(I=0;I<Qe;I++)hs[I]=0;for(I=Q;I<=B;I++){const rt=v[I];if(Xe>=Qe){Oe(rt,$,T,!0);continue}let Ot;if(rt.key!=null)Ot=ye.get(rt.key);else for(fe=oe;fe<=z;fe++)if(hs[fe-oe]===0&&ps(rt,y[fe])){Ot=fe;break}Ot===void 0?Oe(rt,$,T,!0):(hs[Ot-oe]=I+1,Ot>=Et?Et=Ot:kt=!0,w(rt,y[Ot],S,null,$,T,N,D,M),Xe++)}const Ji=kt?Vf(hs):Yn;for(fe=Ji.length-1,I=Qe-1;I>=0;I--){const rt=oe+I,Ot=y[rt],Gi=y[rt+1],Yi=rt+1<Y?Gi.el||Gi.placeholder:C;hs[I]===0?w(null,Ot,S,Yi,$,T,N,D,M):kt&&(fe<0||I!==Ji[fe]?Ie(Ot,S,Yi,2):fe--)}}},Ie=(v,y,S,C,$=null)=>{const{el:T,type:N,transition:D,children:M,shapeFlag:I}=v;if(I&6){Ie(v.component.subTree,y,S,C);return}if(I&128){v.suspense.move(y,S,C);return}if(I&64){N.move(v,y,S,V);return}if(N===ge){s(T,y,S);for(let B=0;B<M.length;B++)Ie(M[B],y,S,C);s(v.anchor,y,S);return}if(N===mr){_(v,y,S);return}if(C!==2&&I&1&&D)if(C===0)D.beforeEnter(T),s(T,y,S),ot(()=>D.enter(T),$);else{const{leave:B,delayLeave:z,afterLeave:Q}=D,oe=()=>{v.ctx.isUnmounted?r(T):s(T,y,S)},ye=()=>{T._isLeaving&&T[mf](!0),B(T,()=>{oe(),Q&&Q()})};z?z(T,oe,ye):ye()}else s(T,y,S)},Oe=(v,y,S,C=!1,$=!1)=>{const{type:T,props:N,ref:D,children:M,dynamicChildren:I,shapeFlag:Y,patchFlag:B,dirs:z,cacheIndex:Q}=v;if(B===-2&&($=!1),D!=null&&(Vt(),ks(D,null,S,v,!0),zt()),Q!=null&&(y.renderCache[Q]=void 0),Y&256){y.ctx.deactivate(v);return}const oe=Y&1&&z,ye=!Zn(v);let fe;if(ye&&(fe=N&&N.onVnodeBeforeUnmount)&&Tt(fe,y,v),Y&6)pn(v.component,S,C);else{if(Y&128){v.suspense.unmount(S,C);return}oe&&gn(v,null,y,"beforeUnmount"),Y&64?v.type.remove(v,y,S,V,C):I&&!I.hasOnce&&(T!==ge||B>0&&B&64)?ct(I,y,S,!1,!0):(T===ge&&B&384||!$&&Y&16)&&ct(M,y,S),C&&St(v)}(ye&&(fe=N&&N.onVnodeUnmounted)||oe)&&ot(()=>{fe&&Tt(fe,y,v),oe&&gn(v,null,y,"unmounted")},S)},St=v=>{const{type:y,el:S,anchor:C,transition:$}=v;if(y===ge){mt(S,C);return}if(y===mr){O(v);return}const T=()=>{r(S),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(v.shapeFlag&1&&$&&!$.persisted){const{leave:N,delayLeave:D}=$,M=()=>N(S,T);D?D(v.el,T,M):M()}else T()},mt=(v,y)=>{let S;for(;v!==y;)S=h(v),r(v),v=S;r(y)},pn=(v,y,S)=>{const{bum:C,scope:$,job:T,subTree:N,um:D,m:M,a:I}=v;ua(M),ua(I),C&&dr(C),$.stop(),T&&(T.flags|=8,Oe(N,v,y,S)),D&&ot(D,y),ot(()=>{v.isUnmounted=!0},y)},ct=(v,y,S,C=!1,$=!1,T=0)=>{for(let N=T;N<v.length;N++)Oe(v[N],y,S,C,$)},A=v=>{if(v.shapeFlag&6)return A(v.component.subTree);if(v.shapeFlag&128)return v.suspense.next();const y=h(v.anchor||v.el),S=y&&y[ff];return S?h(S):y};let q=!1;const F=(v,y,S)=>{v==null?y._vnode&&Oe(y._vnode,null,null,!0):w(y._vnode||null,v,y,null,null,null,S),y._vnode=v,q||(q=!0,na(),pc(),q=!1)},V={p:w,um:Oe,m:Ie,r:St,mt:Ke,mc:E,pc:se,pbc:de,n:A,o:t};return{render:F,hydrate:void 0,createApp:If(F)}}function xo({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function vn({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Wf(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Nc(t,e,n=!1){const s=t.children,r=e.children;if(X(s)&&X(r))for(let o=0;o<s.length;o++){const i=s[o];let a=r[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[o]=nn(r[o]),a.el=i.el),!n&&a.patchFlag!==-2&&Nc(i,a)),a.type===Zr&&a.patchFlag!==-1&&(a.el=i.el),a.type===Kt&&!a.el&&(a.el=i.el)}}function Vf(t){const e=t.slice(),n=[0];let s,r,o,i,a;const l=t.length;for(s=0;s<l;s++){const u=t[s];if(u!==0){if(r=n[n.length-1],t[r]<u){e[s]=r,n.push(s);continue}for(o=0,i=n.length-1;o<i;)a=o+i>>1,t[n[a]]<u?o=a+1:i=a;u<t[n[o]]&&(o>0&&(e[s]=n[o-1]),n[o]=s)}}for(o=n.length,i=n[o-1];o-- >0;)n[o]=i,i=e[i];return n}function Lc(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Lc(e)}function ua(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const zf=Symbol.for("v-scx"),Kf=()=>wt(zf);function es(t,e,n){return Uc(t,e,n)}function Uc(t,e,n=pe){const{immediate:s,deep:r,flush:o,once:i}=n,a=ze({},n),l=e&&s||!e&&o!=="post";let u;if(Ls){if(o==="sync"){const m=Kf();u=m.__watcherHandles||(m.__watcherHandles=[])}else if(!l){const m=()=>{};return m.stop=Mt,m.resume=Mt,m.pause=Mt,m}}const c=We;a.call=(m,p,w)=>Dt(m,c,p,w);let f=!1;o==="post"?a.scheduler=m=>{ot(m,c&&c.suspense)}:o!=="sync"&&(f=!0,a.scheduler=(m,p)=>{p?m():ji(m)}),a.augmentJob=m=>{e&&(m.flags|=4),f&&(m.flags|=2,c&&(m.id=c.uid,m.i=c))};const h=lf(t,e,a);return Ls&&(u?u.push(h):l&&h()),h}function Jf(t,e,n){const s=this.proxy,r=Ae(t)?t.includes(".")?Fc(s,t):()=>s[t]:t.bind(s,s);let o;te(e)?o=e:(o=e.handler,n=e);const i=Js(this),a=Uc(r,o.bind(s),n);return i(),a}function Fc(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const Gf=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${dt(e)}Modifiers`]||t[`${dn(e)}Modifiers`];function Yf(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||pe;let r=n;const o=e.startsWith("update:"),i=o&&Gf(s,e.slice(7));i&&(i.trim&&(r=n.map(c=>Ae(c)?c.trim():c)),i.number&&(r=n.map(xr)));let a,l=s[a=go(e)]||s[a=go(dt(e))];!l&&o&&(l=s[a=go(dn(e))]),l&&Dt(l,t,6,r);const u=s[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Dt(u,t,6,r)}}const Xf=new WeakMap;function Bc(t,e,n=!1){const s=n?Xf:e.emitsCache,r=s.get(t);if(r!==void 0)return r;const o=t.emits;let i={},a=!1;if(!te(t)){const l=u=>{const c=Bc(u,e,!0);c&&(a=!0,ze(i,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!a?(we(t)&&s.set(t,null),null):(X(o)?o.forEach(l=>i[l]=null):ze(i,o),we(t)&&s.set(t,i),i)}function Qr(t,e){return!t||!qr(e)?!1:(e=e.slice(2).replace(/Once$/,""),ce(t,e[0].toLowerCase()+e.slice(1))||ce(t,dn(e))||ce(t,e))}function da(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[o],slots:i,attrs:a,emit:l,render:u,renderCache:c,props:f,data:h,setupState:m,ctx:p,inheritAttrs:w}=t,g=Tr(t);let b,x;try{if(n.shapeFlag&4){const O=r||s,U=O;b=$t(u.call(U,O,c,f,m,h,p)),x=a}else{const O=e;b=$t(O.length>1?O(f,{attrs:a,slots:i,emit:l}):O(f,null)),x=e.props?a:Qf(a)}}catch(O){Os.length=0,Gr(O,t,1),b=G(Kt)}let _=b;if(x&&w!==!1){const O=Object.keys(x),{shapeFlag:U}=_;O.length&&U&7&&(o&&O.some(_i)&&(x=Zf(x,o)),_=rs(_,x,!1,!0))}return n.dirs&&(_=rs(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&Ii(_,n.transition),b=_,Tr(g),b}const Qf=t=>{let e;for(const n in t)(n==="class"||n==="style"||qr(n))&&((e||(e={}))[n]=t[n]);return e},Zf=(t,e)=>{const n={};for(const s in t)(!_i(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function eh(t,e,n){const{props:s,children:r,component:o}=t,{props:i,children:a,patchFlag:l}=e,u=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?fa(s,i,u):!!i;if(l&8){const c=e.dynamicProps;for(let f=0;f<c.length;f++){const h=c[f];if(i[h]!==s[h]&&!Qr(u,h))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===i?!1:s?i?fa(s,i,u):!0:!!i;return!1}function fa(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const o=s[r];if(e[o]!==t[o]&&!Qr(n,o))return!0}return!1}function th({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const qc=t=>t.__isSuspense;function nh(t,e){e&&e.pendingBranch?X(t)?e.effects.push(...t):e.effects.push(t):df(t)}const ge=Symbol.for("v-fgt"),Zr=Symbol.for("v-txt"),Kt=Symbol.for("v-cmt"),mr=Symbol.for("v-stc"),Os=[];let at=null;function j(t=!1){Os.push(at=t?null:[])}function sh(){Os.pop(),at=Os[Os.length-1]||null}let Ds=1;function Rr(t,e=!1){Ds+=t,t<0&&at&&e&&(at.hasOnce=!0)}function Hc(t){return t.dynamicChildren=Ds>0?at||Yn:null,sh(),Ds>0&&at&&at.push(t),t}function H(t,e,n,s,r,o){return Hc(d(t,e,n,s,r,o,!0))}function ie(t,e,n,s,r){return Hc(G(t,e,n,s,r,!0))}function Ns(t){return t?t.__v_isVNode===!0:!1}function ps(t,e){return t.type===e.type&&t.key===e.key}const Wc=({key:t})=>t??null,pr=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ae(t)||Ce(t)||te(t)?{i:Be,r:t,k:e,f:!!n}:t:null);function d(t,e=null,n=null,s=0,r=null,o=t===ge?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Wc(e),ref:e&&pr(e),scopeId:vc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Be};return a?(Ni(l,n),o&128&&t.normalize(l)):n&&(l.shapeFlag|=Ae(n)?8:16),Ds>0&&!i&&at&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&at.push(l),l}const G=rh;function rh(t,e=null,n=null,s=0,r=null,o=!1){if((!t||t===Sc)&&(t=Kt),Ns(t)){const a=rs(t,e,!0);return n&&Ni(a,n),Ds>0&&!o&&at&&(a.shapeFlag&6?at[at.indexOf(t)]=a:at.push(a)),a.patchFlag=-2,a}if(ph(t)&&(t=t.__vccOpts),e){e=oh(e);let{class:a,style:l}=e;a&&!Ae(a)&&(e.class=Ee(a)),we(l)&&($i(l)&&!X(l)&&(l=ze({},l)),e.style=ki(l))}const i=Ae(t)?1:qc(t)?128:hf(t)?64:we(t)?4:te(t)?2:0;return d(t,e,n,s,r,i,o,!0)}function oh(t){return t?$i(t)||$c(t)?ze({},t):t:null}function rs(t,e,n=!1,s=!1){const{props:r,ref:o,patchFlag:i,children:a,transition:l}=t,u=e?ih(r||{},e):r,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Wc(u),ref:e&&e.ref?n&&o?X(o)?o.concat(pr(e)):[o,pr(e)]:pr(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ge?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&rs(t.ssContent),ssFallback:t.ssFallback&&rs(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&Ii(c,l.clone(c)),c}function ke(t=" ",e=0){return G(Zr,null,t,e)}function gr(t,e){const n=G(mr,null,t);return n.staticCount=e,n}function Te(t="",e=!1){return e?(j(),ie(Kt,null,t)):G(Kt,null,t)}function $t(t){return t==null||typeof t=="boolean"?G(Kt):X(t)?G(ge,null,t.slice()):Ns(t)?nn(t):G(Zr,null,String(t))}function nn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:rs(t)}function Ni(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(X(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),Ni(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!$c(e)?e._ctx=Be:r===3&&Be&&(Be.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else te(e)?(e={default:e,_ctx:Be},n=32):(e=String(e),s&64?(n=16,e=[ke(e)]):n=8);t.children=e,t.shapeFlag|=n}function ih(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=Ee([e.class,s.class]));else if(r==="style")e.style=ki([e.style,s.style]);else if(qr(r)){const o=e[r],i=s[r];i&&o!==i&&!(X(o)&&o.includes(i))&&(e[r]=o?[].concat(o,i):i)}else r!==""&&(e[r]=s[r])}return e}function Tt(t,e,n,s=null){Dt(t,e,7,[n,s])}const ah=Cc();let lh=0;function ch(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||ah,o={uid:lh++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Kl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:jc(s,r),emitsOptions:Bc(s,r),emit:null,emitted:null,propsDefaults:pe,inheritAttrs:s.inheritAttrs,ctx:pe,data:pe,props:pe,attrs:pe,slots:pe,refs:pe,setupState:pe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=Yf.bind(null,o),t.ce&&t.ce(o),o}let We=null;const Vc=()=>We||Be;let $r,Jo;{const t=zr(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),o=>{r.length>1?r.forEach(i=>i(o)):r[0](o)}};$r=e("__VUE_INSTANCE_SETTERS__",n=>We=n),Jo=e("__VUE_SSR_SETTERS__",n=>Ls=n)}const Js=t=>{const e=We;return $r(t),t.scope.on(),()=>{t.scope.off(),$r(e)}},ha=()=>{We&&We.scope.off(),$r(null)};function zc(t){return t.vnode.shapeFlag&4}let Ls=!1;function uh(t,e=!1,n=!1){e&&Jo(e);const{props:s,children:r}=t.vnode,o=zc(t);Df(t,s,o,e),Ff(t,r,n||e);const i=o?dh(t,e):void 0;return e&&Jo(!1),i}function dh(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Tf);const{setup:s}=n;if(s){Vt();const r=t.setupContext=s.length>1?hh(t):null,o=Js(t),i=zs(s,t,0,[t.props,r]),a=Fl(i);if(zt(),o(),(a||t.sp)&&!Zn(t)&&wc(t),a){if(i.then(ha,ha),e)return i.then(l=>{ma(t,l)}).catch(l=>{Gr(l,t,0)});t.asyncDep=i}else ma(t,i)}else Kc(t)}function ma(t,e,n){te(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:we(e)&&(t.setupState=fc(e)),Kc(t)}function Kc(t,e,n){const s=t.type;t.render||(t.render=s.render||Mt);{const r=Js(t);Vt();try{Cf(t)}finally{zt(),r()}}}const fh={get(t,e){return He(t,"get",""),t[e]}};function hh(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,fh),slots:t.slots,emit:t.emit,expose:e}}function eo(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(fc(Pi(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Es)return Es[n](t)},has(e,n){return n in e||n in Es}})):t.proxy}function mh(t,e=!0){return te(t)?t.displayName||t.name:t.name||e&&t.__name}function ph(t){return te(t)&&"__vccOpts"in t}const Ne=(t,e)=>of(t,e,Ls);function Jc(t,e,n){try{Rr(-1);const s=arguments.length;return s===2?we(e)&&!X(e)?Ns(e)?G(t,null,[e]):G(t,e):G(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Ns(n)&&(n=[n]),G(t,e,n))}finally{Rr(1)}}const gh="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Go;const pa=typeof window<"u"&&window.trustedTypes;if(pa)try{Go=pa.createPolicy("vue",{createHTML:t=>t})}catch{}const Gc=Go?t=>Go.createHTML(t):t=>t,vh="http://www.w3.org/2000/svg",wh="http://www.w3.org/1998/Math/MathML",Bt=typeof document<"u"?document:null,ga=Bt&&Bt.createElement("template"),yh={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?Bt.createElementNS(vh,t):e==="mathml"?Bt.createElementNS(wh,t):n?Bt.createElement(t,{is:n}):Bt.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>Bt.createTextNode(t),createComment:t=>Bt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Bt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,o){const i=n?n.previousSibling:e.lastChild;if(r&&(r===o||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{ga.innerHTML=Gc(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=ga.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[i?i.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},bh=Symbol("_vtc");function _h(t,e,n){const s=t[bh];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const va=Symbol("_vod"),xh=Symbol("_vsh"),Sh=Symbol(""),kh=/(?:^|;)\s*display\s*:/;function Eh(t,e,n){const s=t.style,r=Ae(n);let o=!1;if(n&&!r){if(e)if(Ae(e))for(const i of e.split(";")){const a=i.slice(0,i.indexOf(":")).trim();n[a]==null&&vr(s,a,"")}else for(const i in e)n[i]==null&&vr(s,i,"");for(const i in n)i==="display"&&(o=!0),vr(s,i,n[i])}else if(r){if(e!==n){const i=s[Sh];i&&(n+=";"+i),s.cssText=n,o=kh.test(n)}}else e&&t.removeAttribute("style");va in t&&(t[va]=o?s.display:"",t[xh]&&(s.display="none"))}const wa=/\s*!important$/;function vr(t,e,n){if(X(n))n.forEach(s=>vr(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=Oh(t,e);wa.test(n)?t.setProperty(dn(s),n.replace(wa,""),"important"):t[s]=n}}const ya=["Webkit","Moz","ms"],So={};function Oh(t,e){const n=So[e];if(n)return n;let s=dt(e);if(s!=="filter"&&s in t)return So[e]=s;s=Vr(s);for(let r=0;r<ya.length;r++){const o=ya[r]+s;if(o in t)return So[e]=o}return e}const ba="http://www.w3.org/1999/xlink";function _a(t,e,n,s,r,o=Ad(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(ba,e.slice(6,e.length)):t.setAttributeNS(ba,e,n):n==null||o&&!Wl(n)?t.removeAttribute(e):t.setAttribute(e,o?"":yt(n)?String(n):n)}function xa(t,e,n,s,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Gc(n):n);return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let i=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Wl(n):n==null&&a==="string"?(n="",i=!0):a==="number"&&(n=0,i=!0)}try{t[e]=n}catch{}i&&t.removeAttribute(r||e)}function Sn(t,e,n,s){t.addEventListener(e,n,s)}function Th(t,e,n,s){t.removeEventListener(e,n,s)}const Sa=Symbol("_vei");function Ch(t,e,n,s,r=null){const o=t[Sa]||(t[Sa]={}),i=o[e];if(s&&i)i.value=s;else{const[a,l]=Ah(e);if(s){const u=o[e]=Ph(s,r);Sn(t,a,u,l)}else i&&(Th(t,a,i,l),o[e]=void 0)}}const ka=/(?:Once|Passive|Capture)$/;function Ah(t){let e;if(ka.test(t)){e={};let s;for(;s=t.match(ka);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):dn(t.slice(2)),e]}let ko=0;const Rh=Promise.resolve(),$h=()=>ko||(Rh.then(()=>ko=0),ko=Date.now());function Ph(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Dt(jh(s,n.value),e,5,[s])};return n.value=t,n.attached=$h(),n}function jh(t,e){if(X(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const Ea=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Ih=(t,e,n,s,r,o)=>{const i=r==="svg";e==="class"?_h(t,s,i):e==="style"?Eh(t,n,s):qr(e)?_i(e)||Ch(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Mh(t,e,s,i))?(xa(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&_a(t,e,s,i,o,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ae(s))?xa(t,dt(e),s,o,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),_a(t,e,s,i))};function Mh(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Ea(e)&&te(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Ea(e)&&Ae(n)?!1:e in t}const Pr=t=>{const e=t.props["onUpdate:modelValue"]||!1;return X(e)?n=>dr(e,n):e};function Dh(t){t.target.composing=!0}function Oa(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ts=Symbol("_assign"),Se={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[ts]=Pr(r);const o=s||r.props&&r.props.type==="number";Sn(t,e?"change":"input",i=>{if(i.target.composing)return;let a=t.value;n&&(a=a.trim()),o&&(a=xr(a)),t[ts](a)}),n&&Sn(t,"change",()=>{t.value=t.value.trim()}),e||(Sn(t,"compositionstart",Dh),Sn(t,"compositionend",Oa),Sn(t,"change",Oa))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:r,number:o}},i){if(t[ts]=Pr(i),t.composing)return;const a=(o||t.type==="number")&&!/^0\d/.test(t.value)?xr(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||r&&t.value.trim()===l)||(t.value=l))}},On={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const r=Hr(e);Sn(t,"change",()=>{const o=Array.prototype.filter.call(t.options,i=>i.selected).map(i=>n?xr(jr(i)):jr(i));t[ts](t.multiple?r?new Set(o):o:o[0]),t._assigning=!0,Ks(()=>{t._assigning=!1})}),t[ts]=Pr(s)},mounted(t,{value:e}){Ta(t,e)},beforeUpdate(t,e,n){t[ts]=Pr(n)},updated(t,{value:e}){t._assigning||Ta(t,e)}};function Ta(t,e){const n=t.multiple,s=X(e);if(!(n&&!s&&!Hr(e))){for(let r=0,o=t.options.length;r<o;r++){const i=t.options[r],a=jr(i);if(n)if(s){const l=typeof a;l==="string"||l==="number"?i.selected=e.some(u=>String(u)===String(a)):i.selected=$d(e,a)>-1}else i.selected=e.has(a);else if(Kr(jr(i),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function jr(t){return"_value"in t?t._value:t.value}const Nh=["ctrl","shift","alt","meta"],Lh={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Nh.some(n=>t[`${n}Key`]&&!e.includes(n))},$n=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(r,...o)=>{for(let i=0;i<e.length;i++){const a=Lh[e[i]];if(a&&a(r,e))return}return t(r,...o)})},Uh={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ca=(t,e)=>{const n=t._withKeys||(t._withKeys={}),s=e.join(".");return n[s]||(n[s]=r=>{if(!("key"in r))return;const o=dn(r.key);if(e.some(i=>i===o||Uh[i]===o))return t(r)})},Fh=ze({patchProp:Ih},yh);let Aa;function Bh(){return Aa||(Aa=qf(Fh))}const qh=(...t)=>{const e=Bh().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=Wh(s);if(!r)return;const o=e._component;!te(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const i=n(r,!1,Hh(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},e};function Hh(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Wh(t){return Ae(t)?document.querySelector(t):t}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Yc;const to=t=>Yc=t,Xc=Symbol();function Yo(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Ts;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Ts||(Ts={}));function Vh(){const t=Jl(!0),e=t.run(()=>J({}));let n=[],s=[];const r=Pi({install(o){to(r),r._a=o,o.provide(Xc,r),o.config.globalProperties.$pinia=r,s.forEach(i=>n.push(i)),s=[]},use(o){return this._a?n.push(o):s.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const Qc=()=>{};function Ra(t,e,n,s=Qc){t.push(e);const r=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),s())};return!n&&Gl()&&Pd(r),r}function Ln(t,...e){t.slice().forEach(n=>{n(...e)})}const zh=t=>t(),$a=Symbol(),Eo=Symbol();function Xo(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],r=t[n];Yo(r)&&Yo(s)&&t.hasOwnProperty(n)&&!Ce(s)&&!an(s)?t[n]=Xo(r,s):t[n]=s}return t}const Kh=Symbol();function Jh(t){return!Yo(t)||!t.hasOwnProperty(Kh)}const{assign:Zt}=Object;function Gh(t){return!!(Ce(t)&&t.effect)}function Yh(t,e,n,s){const{state:r,actions:o,getters:i}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=r?r():{});const c=tf(n.state.value[t]);return Zt(c,o,Object.keys(i||{}).reduce((f,h)=>(f[h]=Pi(Ne(()=>{to(n);const m=n._s.get(t);return i[h].call(m,m)})),f),{}))}return l=Zc(t,u,e,n,s,!0),l}function Zc(t,e,n={},s,r,o){let i;const a=Zt({actions:{}},n),l={deep:!0};let u,c,f=[],h=[],m;const p=s.state.value[t];!o&&!p&&(s.state.value[t]={}),J({});let w;function g(E){let P;u=c=!1,typeof E=="function"?(E(s.state.value[t]),P={type:Ts.patchFunction,storeId:t,events:m}):(Xo(s.state.value[t],E),P={type:Ts.patchObject,payload:E,storeId:t,events:m});const de=w=Symbol();Ks().then(()=>{w===de&&(u=!0)}),c=!0,Ln(f,P,s.state.value[t])}const b=o?function(){const{state:P}=n,de=P?P():{};this.$patch(Le=>{Zt(Le,de)})}:Qc;function x(){i.stop(),f=[],h=[],s._s.delete(t)}const _=(E,P="")=>{if($a in E)return E[Eo]=P,E;const de=function(){to(s);const Le=Array.from(arguments),Ue=[],$e=[];function Ke(Z){Ue.push(Z)}function ht(Z){$e.push(Z)}Ln(h,{args:Le,name:de[Eo],store:U,after:Ke,onError:ht});let re;try{re=E.apply(this&&this.$id===t?this:U,Le)}catch(Z){throw Ln($e,Z),Z}return re instanceof Promise?re.then(Z=>(Ln(Ue,Z),Z)).catch(Z=>(Ln($e,Z),Promise.reject(Z))):(Ln(Ue,re),re)};return de[$a]=!0,de[Eo]=P,de},O={_p:s,$id:t,$onAction:Ra.bind(null,h),$patch:g,$reset:b,$subscribe(E,P={}){const de=Ra(f,E,P.detached,()=>Le()),Le=i.run(()=>es(()=>s.state.value[t],Ue=>{(P.flush==="sync"?c:u)&&E({storeId:t,type:Ts.direct,events:m},Ue)},Zt({},l,P)));return de},$dispose:x},U=Vs(O);s._s.set(t,U);const R=(s._a&&s._a.runWithContext||zh)(()=>s._e.run(()=>(i=Jl()).run(()=>e({action:_}))));for(const E in R){const P=R[E];if(Ce(P)&&!Gh(P)||an(P))o||(p&&Jh(P)&&(Ce(P)?P.value=p[E]:Xo(P,p[E])),s.state.value[t][E]=P);else if(typeof P=="function"){const de=_(P,E);R[E]=de,a.actions[E]=P}}return Zt(U,R),Zt(ae(U),R),Object.defineProperty(U,"$state",{get:()=>s.state.value[t],set:E=>{g(P=>{Zt(P,E)})}}),s._p.forEach(E=>{Zt(U,i.run(()=>E({store:U,app:s._a,pinia:s,options:a})))}),p&&o&&n.hydrate&&n.hydrate(U.$state,p),u=!0,c=!0,U}/*! #__NO_SIDE_EFFECTS__ */function Xh(t,e,n){let s,r;const o=typeof e=="function";s=t,r=o?n:e;function i(a,l){const u=Mf();return a=a||(u?wt(Xc,null):null),a&&to(a),a=Yc,a._s.has(s)||(o?Zc(s,e,r,a):Yh(s,r,a)),a._s.get(s)}return i.$id=s,i}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Kn=typeof document<"u";function eu(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Qh(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&eu(t.default)}const le=Object.assign;function Oo(t,e){const n={};for(const s in e){const r=e[s];n[s]=bt(r)?r.map(t):t(r)}return n}const Cs=()=>{},bt=Array.isArray,tu=/#/g,Zh=/&/g,em=/\//g,tm=/=/g,nm=/\?/g,nu=/\+/g,sm=/%5B/g,rm=/%5D/g,su=/%5E/g,om=/%60/g,ru=/%7B/g,im=/%7C/g,ou=/%7D/g,am=/%20/g;function Li(t){return encodeURI(""+t).replace(im,"|").replace(sm,"[").replace(rm,"]")}function lm(t){return Li(t).replace(ru,"{").replace(ou,"}").replace(su,"^")}function Qo(t){return Li(t).replace(nu,"%2B").replace(am,"+").replace(tu,"%23").replace(Zh,"%26").replace(om,"`").replace(ru,"{").replace(ou,"}").replace(su,"^")}function cm(t){return Qo(t).replace(tm,"%3D")}function um(t){return Li(t).replace(tu,"%23").replace(nm,"%3F")}function dm(t){return t==null?"":um(t).replace(em,"%2F")}function Us(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const fm=/\/$/,hm=t=>t.replace(fm,"");function To(t,e,n="/"){let s,r={},o="",i="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),o=e.slice(l+1,a>-1?a:e.length),r=t(o)),a>-1&&(s=s||e.slice(0,a),i=e.slice(a,e.length)),s=vm(s??e,n),{fullPath:s+(o&&"?")+o+i,path:s,query:r,hash:Us(i)}}function mm(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Pa(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function pm(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&os(e.matched[s],n.matched[r])&&iu(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function os(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function iu(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!gm(t[n],e[n]))return!1;return!0}function gm(t,e){return bt(t)?ja(t,e):bt(e)?ja(e,t):t===e}function ja(t,e){return bt(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function vm(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let o=n.length-1,i,a;for(i=0;i<s.length;i++)if(a=s[i],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+s.slice(i).join("/")}const Yt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Fs;(function(t){t.pop="pop",t.push="push"})(Fs||(Fs={}));var As;(function(t){t.back="back",t.forward="forward",t.unknown=""})(As||(As={}));function wm(t){if(!t)if(Kn){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),hm(t)}const ym=/^[^#]+#/;function bm(t,e){return t.replace(ym,"#")+e}function _m(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const no=()=>({left:window.scrollX,top:window.scrollY});function xm(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=_m(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Ia(t,e){return(history.state?history.state.position-e:-1)+t}const Zo=new Map;function Sm(t,e){Zo.set(t,e)}function km(t){const e=Zo.get(t);return Zo.delete(t),e}let Em=()=>location.protocol+"//"+location.host;function au(t,e){const{pathname:n,search:s,hash:r}=e,o=t.indexOf("#");if(o>-1){let a=r.includes(t.slice(o))?t.slice(o).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Pa(l,"")}return Pa(n,t)+s+r}function Om(t,e,n,s){let r=[],o=[],i=null;const a=({state:h})=>{const m=au(t,location),p=n.value,w=e.value;let g=0;if(h){if(n.value=m,e.value=h,i&&i===p){i=null;return}g=w?h.position-w.position:0}else s(m);r.forEach(b=>{b(n.value,p,{delta:g,type:Fs.pop,direction:g?g>0?As.forward:As.back:As.unknown})})};function l(){i=n.value}function u(h){r.push(h);const m=()=>{const p=r.indexOf(h);p>-1&&r.splice(p,1)};return o.push(m),m}function c(){const{history:h}=window;h.state&&h.replaceState(le({},h.state,{scroll:no()}),"")}function f(){for(const h of o)h();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function Ma(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?no():null}}function Tm(t){const{history:e,location:n}=window,s={value:au(t,n)},r={value:e.state};r.value||o(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(l,u,c){const f=t.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+l:Em()+t+l;try{e[c?"replaceState":"pushState"](u,"",h),r.value=u}catch(m){console.error(m),n[c?"replace":"assign"](h)}}function i(l,u){const c=le({},e.state,Ma(r.value.back,l,r.value.forward,!0),u,{position:r.value.position});o(l,c,!0),s.value=l}function a(l,u){const c=le({},r.value,e.state,{forward:l,scroll:no()});o(c.current,c,!0);const f=le({},Ma(s.value,l,null),{position:c.position+1},u);o(l,f,!1),s.value=l}return{location:s,state:r,push:a,replace:i}}function Cm(t){t=wm(t);const e=Tm(t),n=Om(t,e.state,e.location,e.replace);function s(o,i=!0){i||n.pauseListeners(),history.go(o)}const r=le({location:"",base:t,go:s,createHref:bm.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function Am(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),Cm(t)}function Rm(t){return typeof t=="string"||t&&typeof t=="object"}function lu(t){return typeof t=="string"||typeof t=="symbol"}const cu=Symbol("");var Da;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Da||(Da={}));function is(t,e){return le(new Error,{type:t,[cu]:!0},e)}function Lt(t,e){return t instanceof Error&&cu in t&&(e==null||!!(t.type&e))}const Na="[^/]+?",$m={sensitive:!1,strict:!1,start:!0,end:!0},Pm=/[.+*?^${}()[\]/\\]/g;function jm(t,e){const n=le({},$m,e),s=[];let r=n.start?"^":"";const o=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(r+="/");for(let f=0;f<u.length;f++){const h=u[f];let m=40+(n.sensitive?.25:0);if(h.type===0)f||(r+="/"),r+=h.value.replace(Pm,"\\$&"),m+=40;else if(h.type===1){const{value:p,repeatable:w,optional:g,regexp:b}=h;o.push({name:p,repeatable:w,optional:g});const x=b||Na;if(x!==Na){m+=10;try{new RegExp(`(${x})`)}catch(O){throw new Error(`Invalid custom RegExp for param "${p}" (${x}): `+O.message)}}let _=w?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;f||(_=g&&u.length<2?`(?:/${_})`:"/"+_),g&&(_+="?"),r+=_,m+=20,g&&(m+=-8),w&&(m+=-20),x===".*"&&(m+=-50)}c.push(m)}s.push(c)}if(n.strict&&n.end){const u=s.length-1;s[u][s[u].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const i=new RegExp(r,n.sensitive?"":"i");function a(u){const c=u.match(i),f={};if(!c)return null;for(let h=1;h<c.length;h++){const m=c[h]||"",p=o[h-1];f[p.name]=m&&p.repeatable?m.split("/"):m}return f}function l(u){let c="",f=!1;for(const h of t){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const m of h)if(m.type===0)c+=m.value;else if(m.type===1){const{value:p,repeatable:w,optional:g}=m,b=p in u?u[p]:"";if(bt(b)&&!w)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const x=bt(b)?b.join("/"):b;if(!x)if(g)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${p}"`);c+=x}}return c||"/"}return{re:i,score:s,keys:o,parse:a,stringify:l}}function Im(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function uu(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const o=Im(s[n],r[n]);if(o)return o;n++}if(Math.abs(r.length-s.length)===1){if(La(s))return 1;if(La(r))return-1}return r.length-s.length}function La(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Mm={type:0,value:""},Dm=/[a-zA-Z0-9_]/;function Nm(t){if(!t)return[[]];if(t==="/")return[[Mm]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(m){throw new Error(`ERR (${n})/"${u}": ${m}`)}let n=0,s=n;const r=[];let o;function i(){o&&r.push(o),o=[]}let a=0,l,u="",c="";function f(){u&&(n===0?o.push({type:0,value:u}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(u&&f(),i()):l===":"?(f(),n=1):h();break;case 4:h(),n=s;break;case 1:l==="("?n=2:Dm.test(l)?h():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),f(),i(),r}function Lm(t,e,n){const s=jm(Nm(t.path),n),r=le(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function Um(t,e){const n=[],s=new Map;e=qa({strict:!1,end:!0,sensitive:!1},e);function r(f){return s.get(f)}function o(f,h,m){const p=!m,w=Fa(f);w.aliasOf=m&&m.record;const g=qa(e,f),b=[w];if("alias"in f){const O=typeof f.alias=="string"?[f.alias]:f.alias;for(const U of O)b.push(Fa(le({},w,{components:m?m.record.components:w.components,path:U,aliasOf:m?m.record:w})))}let x,_;for(const O of b){const{path:U}=O;if(h&&U[0]!=="/"){const W=h.record.path,R=W[W.length-1]==="/"?"":"/";O.path=h.record.path+(U&&R+U)}if(x=Lm(O,h,g),m?m.alias.push(x):(_=_||x,_!==x&&_.alias.push(x),p&&f.name&&!Ba(x)&&i(f.name)),du(x)&&l(x),w.children){const W=w.children;for(let R=0;R<W.length;R++)o(W[R],x,m&&m.children[R])}m=m||x}return _?()=>{i(_)}:Cs}function i(f){if(lu(f)){const h=s.get(f);h&&(s.delete(f),n.splice(n.indexOf(h),1),h.children.forEach(i),h.alias.forEach(i))}else{const h=n.indexOf(f);h>-1&&(n.splice(h,1),f.record.name&&s.delete(f.record.name),f.children.forEach(i),f.alias.forEach(i))}}function a(){return n}function l(f){const h=qm(f,n);n.splice(h,0,f),f.record.name&&!Ba(f)&&s.set(f.record.name,f)}function u(f,h){let m,p={},w,g;if("name"in f&&f.name){if(m=s.get(f.name),!m)throw is(1,{location:f});g=m.record.name,p=le(Ua(h.params,m.keys.filter(_=>!_.optional).concat(m.parent?m.parent.keys.filter(_=>_.optional):[]).map(_=>_.name)),f.params&&Ua(f.params,m.keys.map(_=>_.name))),w=m.stringify(p)}else if(f.path!=null)w=f.path,m=n.find(_=>_.re.test(w)),m&&(p=m.parse(w),g=m.record.name);else{if(m=h.name?s.get(h.name):n.find(_=>_.re.test(h.path)),!m)throw is(1,{location:f,currentLocation:h});g=m.record.name,p=le({},h.params,f.params),w=m.stringify(p)}const b=[];let x=m;for(;x;)b.unshift(x.record),x=x.parent;return{name:g,path:w,params:p,matched:b,meta:Bm(b)}}t.forEach(f=>o(f));function c(){n.length=0,s.clear()}return{addRoute:o,resolve:u,removeRoute:i,clearRoutes:c,getRoutes:a,getRecordMatcher:r}}function Ua(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function Fa(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Fm(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Fm(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function Ba(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Bm(t){return t.reduce((e,n)=>le(e,n.meta),{})}function qa(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function qm(t,e){let n=0,s=e.length;for(;n!==s;){const o=n+s>>1;uu(t,e[o])<0?s=o:n=o+1}const r=Hm(t);return r&&(s=e.lastIndexOf(r,s-1)),s}function Hm(t){let e=t;for(;e=e.parent;)if(du(e)&&uu(t,e)===0)return e}function du({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Wm(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const o=s[r].replace(nu," "),i=o.indexOf("="),a=Us(i<0?o:o.slice(0,i)),l=i<0?null:Us(o.slice(i+1));if(a in e){let u=e[a];bt(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function Ha(t){let e="";for(let n in t){const s=t[n];if(n=cm(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(bt(s)?s.map(o=>o&&Qo(o)):[s&&Qo(s)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function Vm(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=bt(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const zm=Symbol(""),Wa=Symbol(""),so=Symbol(""),fu=Symbol(""),ei=Symbol("");function gs(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function sn(t,e,n,s,r,o=i=>i()){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const u=h=>{h===!1?l(is(4,{from:n,to:e})):h instanceof Error?l(h):Rm(h)?l(is(2,{from:e,to:h})):(i&&s.enterCallbacks[r]===i&&typeof h=="function"&&i.push(h),a())},c=o(()=>t.call(s&&s.instances[r],e,n,u));let f=Promise.resolve(c);t.length<3&&(f=f.then(u)),f.catch(h=>l(h))})}function Co(t,e,n,s,r=o=>o()){const o=[];for(const i of t)for(const a in i.components){let l=i.components[a];if(!(e!=="beforeRouteEnter"&&!i.instances[a]))if(eu(l)){const c=(l.__vccOpts||l)[e];c&&o.push(sn(c,n,s,i,a,r))}else{let u=l();o.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${i.path}"`);const f=Qh(c)?c.default:c;i.mods[a]=c,i.components[a]=f;const m=(f.__vccOpts||f)[e];return m&&sn(m,n,s,i,a,r)()}))}}return o}function Va(t){const e=wt(so),n=wt(fu),s=Ne(()=>{const l=xe(t.to);return e.resolve(l)}),r=Ne(()=>{const{matched:l}=s.value,{length:u}=l,c=l[u-1],f=n.matched;if(!c||!f.length)return-1;const h=f.findIndex(os.bind(null,c));if(h>-1)return h;const m=za(l[u-2]);return u>1&&za(c)===m&&f[f.length-1].path!==m?f.findIndex(os.bind(null,l[u-2])):h}),o=Ne(()=>r.value>-1&&Xm(n.params,s.value.params)),i=Ne(()=>r.value>-1&&r.value===n.matched.length-1&&iu(n.params,s.value.params));function a(l={}){if(Ym(l)){const u=e[xe(t.replace)?"replace":"push"](xe(t.to)).catch(Cs);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:s,href:Ne(()=>s.value.href),isActive:o,isExactActive:i,navigate:a}}function Km(t){return t.length===1?t[0]:t}const Jm=st({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Va,setup(t,{slots:e}){const n=Vs(Va(t)),{options:s}=wt(so),r=Ne(()=>({[Ka(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Ka(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&Km(e.default(n));return t.custom?o:Jc("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},o)}}}),Gm=Jm;function Ym(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Xm(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!bt(r)||r.length!==s.length||s.some((o,i)=>o!==r[i]))return!1}return!0}function za(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Ka=(t,e,n)=>t??e??n,Qm=st({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=wt(ei),r=Ne(()=>t.route||s.value),o=wt(Wa,0),i=Ne(()=>{let u=xe(o);const{matched:c}=r.value;let f;for(;(f=c[u])&&!f.components;)u++;return u}),a=Ne(()=>r.value.matched[i.value]);hr(Wa,Ne(()=>i.value+1)),hr(zm,a),hr(ei,r);const l=J();return es(()=>[l.value,a.value,t.name],([u,c,f],[h,m,p])=>{c&&(c.instances[f]=u,m&&m!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=m.leaveGuards),c.updateGuards.size||(c.updateGuards=m.updateGuards))),u&&c&&(!m||!os(c,m)||!h)&&(c.enterCallbacks[f]||[]).forEach(w=>w(u))},{flush:"post"}),()=>{const u=r.value,c=t.name,f=a.value,h=f&&f.components[c];if(!h)return Ja(n.default,{Component:h,route:u});const m=f.props[c],p=m?m===!0?u.params:typeof m=="function"?m(u):m:null,g=Jc(h,le({},p,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(f.instances[c]=null)},ref:l}));return Ja(n.default,{Component:g,route:u})||g}}});function Ja(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const hu=Qm;function Zm(t){const e=Um(t.routes,t),n=t.parseQuery||Wm,s=t.stringifyQuery||Ha,r=t.history,o=gs(),i=gs(),a=gs(),l=Qd(Yt);let u=Yt;Kn&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Oo.bind(null,A=>""+A),f=Oo.bind(null,dm),h=Oo.bind(null,Us);function m(A,q){let F,V;return lu(A)?(F=e.getRecordMatcher(A),V=q):V=A,e.addRoute(V,F)}function p(A){const q=e.getRecordMatcher(A);q&&e.removeRoute(q)}function w(){return e.getRoutes().map(A=>A.record)}function g(A){return!!e.getRecordMatcher(A)}function b(A,q){if(q=le({},q||l.value),typeof A=="string"){const S=To(n,A,q.path),C=e.resolve({path:S.path},q),$=r.createHref(S.fullPath);return le(S,C,{params:h(C.params),hash:Us(S.hash),redirectedFrom:void 0,href:$})}let F;if(A.path!=null)F=le({},A,{path:To(n,A.path,q.path).path});else{const S=le({},A.params);for(const C in S)S[C]==null&&delete S[C];F=le({},A,{params:f(S)}),q.params=f(q.params)}const V=e.resolve(F,q),me=A.hash||"";V.params=c(h(V.params));const v=mm(s,le({},A,{hash:lm(me),path:V.path})),y=r.createHref(v);return le({fullPath:v,hash:me,query:s===Ha?Vm(A.query):A.query||{}},V,{redirectedFrom:void 0,href:y})}function x(A){return typeof A=="string"?To(n,A,l.value.path):le({},A)}function _(A,q){if(u!==A)return is(8,{from:q,to:A})}function O(A){return R(A)}function U(A){return O(le(x(A),{replace:!0}))}function W(A){const q=A.matched[A.matched.length-1];if(q&&q.redirect){const{redirect:F}=q;let V=typeof F=="function"?F(A):F;return typeof V=="string"&&(V=V.includes("?")||V.includes("#")?V=x(V):{path:V},V.params={}),le({query:A.query,hash:A.hash,params:V.path!=null?{}:A.params},V)}}function R(A,q){const F=u=b(A),V=l.value,me=A.state,v=A.force,y=A.replace===!0,S=W(F);if(S)return R(le(x(S),{state:typeof S=="object"?le({},me,S.state):me,force:v,replace:y}),q||F);const C=F;C.redirectedFrom=q;let $;return!v&&pm(s,V,F)&&($=is(16,{to:C,from:V}),Ie(V,V,!0,!1)),($?Promise.resolve($):de(C,V)).catch(T=>Lt(T)?Lt(T,2)?T:xt(T):se(T,C,V)).then(T=>{if(T){if(Lt(T,2))return R(le({replace:y},x(T.to),{state:typeof T.to=="object"?le({},me,T.to.state):me,force:v}),q||C)}else T=Ue(C,V,!0,y,me);return Le(C,V,T),T})}function E(A,q){const F=_(A,q);return F?Promise.reject(F):Promise.resolve()}function P(A){const q=mt.values().next().value;return q&&typeof q.runWithContext=="function"?q.runWithContext(A):A()}function de(A,q){let F;const[V,me,v]=ep(A,q);F=Co(V.reverse(),"beforeRouteLeave",A,q);for(const S of V)S.leaveGuards.forEach(C=>{F.push(sn(C,A,q))});const y=E.bind(null,A,q);return F.push(y),ct(F).then(()=>{F=[];for(const S of o.list())F.push(sn(S,A,q));return F.push(y),ct(F)}).then(()=>{F=Co(me,"beforeRouteUpdate",A,q);for(const S of me)S.updateGuards.forEach(C=>{F.push(sn(C,A,q))});return F.push(y),ct(F)}).then(()=>{F=[];for(const S of v)if(S.beforeEnter)if(bt(S.beforeEnter))for(const C of S.beforeEnter)F.push(sn(C,A,q));else F.push(sn(S.beforeEnter,A,q));return F.push(y),ct(F)}).then(()=>(A.matched.forEach(S=>S.enterCallbacks={}),F=Co(v,"beforeRouteEnter",A,q,P),F.push(y),ct(F))).then(()=>{F=[];for(const S of i.list())F.push(sn(S,A,q));return F.push(y),ct(F)}).catch(S=>Lt(S,8)?S:Promise.reject(S))}function Le(A,q,F){a.list().forEach(V=>P(()=>V(A,q,F)))}function Ue(A,q,F,V,me){const v=_(A,q);if(v)return v;const y=q===Yt,S=Kn?history.state:{};F&&(V||y?r.replace(A.fullPath,le({scroll:y&&S&&S.scroll},me)):r.push(A.fullPath,me)),l.value=A,Ie(A,q,F,y),xt()}let $e;function Ke(){$e||($e=r.listen((A,q,F)=>{if(!pn.listening)return;const V=b(A),me=W(V);if(me){R(le(me,{replace:!0,force:!0}),V).catch(Cs);return}u=V;const v=l.value;Kn&&Sm(Ia(v.fullPath,F.delta),no()),de(V,v).catch(y=>Lt(y,12)?y:Lt(y,2)?(R(le(x(y.to),{force:!0}),V).then(S=>{Lt(S,20)&&!F.delta&&F.type===Fs.pop&&r.go(-1,!1)}).catch(Cs),Promise.reject()):(F.delta&&r.go(-F.delta,!1),se(y,V,v))).then(y=>{y=y||Ue(V,v,!1),y&&(F.delta&&!Lt(y,8)?r.go(-F.delta,!1):F.type===Fs.pop&&Lt(y,20)&&r.go(-1,!1)),Le(V,v,y)}).catch(Cs)}))}let ht=gs(),re=gs(),Z;function se(A,q,F){xt(A);const V=re.list();return V.length?V.forEach(me=>me(A,q,F)):console.error(A),Promise.reject(A)}function lt(){return Z&&l.value!==Yt?Promise.resolve():new Promise((A,q)=>{ht.add([A,q])})}function xt(A){return Z||(Z=!A,Ke(),ht.list().forEach(([q,F])=>A?F(A):q()),ht.reset()),A}function Ie(A,q,F,V){const{scrollBehavior:me}=t;if(!Kn||!me)return Promise.resolve();const v=!F&&km(Ia(A.fullPath,0))||(V||!F)&&history.state&&history.state.scroll||null;return Ks().then(()=>me(A,q,v)).then(y=>y&&xm(y)).catch(y=>se(y,A,q))}const Oe=A=>r.go(A);let St;const mt=new Set,pn={currentRoute:l,listening:!0,addRoute:m,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:g,getRoutes:w,resolve:b,options:t,push:O,replace:U,go:Oe,back:()=>Oe(-1),forward:()=>Oe(1),beforeEach:o.add,beforeResolve:i.add,afterEach:a.add,onError:re.add,isReady:lt,install(A){const q=this;A.component("RouterLink",Gm),A.component("RouterView",hu),A.config.globalProperties.$router=q,Object.defineProperty(A.config.globalProperties,"$route",{enumerable:!0,get:()=>xe(l)}),Kn&&!St&&l.value===Yt&&(St=!0,O(r.location).catch(me=>{}));const F={};for(const me in Yt)Object.defineProperty(F,me,{get:()=>l.value[me],enumerable:!0});A.provide(so,q),A.provide(fu,uc(F)),A.provide(ei,l);const V=A.unmount;mt.add(A),A.unmount=function(){mt.delete(A),mt.size<1&&(u=Yt,$e&&$e(),$e=null,l.value=Yt,St=!1,Z=!1),V()}}};function ct(A){return A.reduce((q,F)=>q.then(()=>P(F)),Promise.resolve())}return pn}function ep(t,e){const n=[],s=[],r=[],o=Math.max(e.matched.length,t.matched.length);for(let i=0;i<o;i++){const a=e.matched[i];a&&(t.matched.find(u=>os(u,a))?s.push(a):n.push(a));const l=t.matched[i];l&&(e.matched.find(u=>os(u,l))||r.push(l))}return[n,s,r]}function Mn(){return wt(so)}function mu(t,e){return function(){return t.apply(e,arguments)}}const{toString:tp}=Object.prototype,{getPrototypeOf:Ui}=Object,{iterator:ro,toStringTag:pu}=Symbol,oo=(t=>e=>{const n=tp.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),_t=t=>(t=t.toLowerCase(),e=>oo(e)===t),io=t=>e=>typeof e===t,{isArray:cs}=Array,as=io("undefined");function Gs(t){return t!==null&&!as(t)&&t.constructor!==null&&!as(t.constructor)&&tt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const gu=_t("ArrayBuffer");function np(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&gu(t.buffer),e}const sp=io("string"),tt=io("function"),vu=io("number"),Ys=t=>t!==null&&typeof t=="object",rp=t=>t===!0||t===!1,wr=t=>{if(oo(t)!=="object")return!1;const e=Ui(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(pu in t)&&!(ro in t)},op=t=>{if(!Ys(t)||Gs(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},ip=_t("Date"),ap=_t("File"),lp=_t("Blob"),cp=_t("FileList"),up=t=>Ys(t)&&tt(t.pipe),dp=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||tt(t.append)&&((e=oo(t))==="formdata"||e==="object"&&tt(t.toString)&&t.toString()==="[object FormData]"))},fp=_t("URLSearchParams"),[hp,mp,pp,gp]=["ReadableStream","Request","Response","Headers"].map(_t),vp=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xs(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,r;if(typeof t!="object"&&(t=[t]),cs(t))for(s=0,r=t.length;s<r;s++)e.call(null,t[s],s,t);else{if(Gs(t))return;const o=n?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let a;for(s=0;s<i;s++)a=o[s],e.call(null,t[a],a,t)}}function wu(t,e){if(Gs(t))return null;e=e.toLowerCase();const n=Object.keys(t);let s=n.length,r;for(;s-- >0;)if(r=n[s],e===r.toLowerCase())return r;return null}const Tn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,yu=t=>!as(t)&&t!==Tn;function ti(){const{caseless:t,skipUndefined:e}=yu(this)&&this||{},n={},s=(r,o)=>{const i=t&&wu(n,o)||o;wr(n[i])&&wr(r)?n[i]=ti(n[i],r):wr(r)?n[i]=ti({},r):cs(r)?n[i]=r.slice():(!e||!as(r))&&(n[i]=r)};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&Xs(arguments[r],s);return n}const wp=(t,e,n,{allOwnKeys:s}={})=>(Xs(e,(r,o)=>{n&&tt(r)?t[o]=mu(r,n):t[o]=r},{allOwnKeys:s}),t),yp=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),bp=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},_p=(t,e,n,s)=>{let r,o,i;const a={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),o=r.length;o-- >0;)i=r[o],(!s||s(i,t,e))&&!a[i]&&(e[i]=t[i],a[i]=!0);t=n!==!1&&Ui(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},xp=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},Sp=t=>{if(!t)return null;if(cs(t))return t;let e=t.length;if(!vu(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},kp=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ui(Uint8Array)),Ep=(t,e)=>{const s=(t&&t[ro]).call(t);let r;for(;(r=s.next())&&!r.done;){const o=r.value;e.call(t,o[0],o[1])}},Op=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},Tp=_t("HTMLFormElement"),Cp=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),Ga=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Ap=_t("RegExp"),bu=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};Xs(n,(r,o)=>{let i;(i=e(r,o,t))!==!1&&(s[o]=i||r)}),Object.defineProperties(t,s)},Rp=t=>{bu(t,(e,n)=>{if(tt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(tt(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},$p=(t,e)=>{const n={},s=r=>{r.forEach(o=>{n[o]=!0})};return cs(t)?s(t):s(String(t).split(e)),n},Pp=()=>{},jp=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Ip(t){return!!(t&&tt(t.append)&&t[pu]==="FormData"&&t[ro])}const Mp=t=>{const e=new Array(10),n=(s,r)=>{if(Ys(s)){if(e.indexOf(s)>=0)return;if(Gs(s))return s;if(!("toJSON"in s)){e[r]=s;const o=cs(s)?[]:{};return Xs(s,(i,a)=>{const l=n(i,r+1);!as(l)&&(o[a]=l)}),e[r]=void 0,o}}return s};return n(t,0)},Dp=_t("AsyncFunction"),Np=t=>t&&(Ys(t)||tt(t))&&tt(t.then)&&tt(t.catch),_u=((t,e)=>t?setImmediate:e?((n,s)=>(Tn.addEventListener("message",({source:r,data:o})=>{r===Tn&&o===n&&s.length&&s.shift()()},!1),r=>{s.push(r),Tn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",tt(Tn.postMessage)),Lp=typeof queueMicrotask<"u"?queueMicrotask.bind(Tn):typeof process<"u"&&process.nextTick||_u,Up=t=>t!=null&&tt(t[ro]),k={isArray:cs,isArrayBuffer:gu,isBuffer:Gs,isFormData:dp,isArrayBufferView:np,isString:sp,isNumber:vu,isBoolean:rp,isObject:Ys,isPlainObject:wr,isEmptyObject:op,isReadableStream:hp,isRequest:mp,isResponse:pp,isHeaders:gp,isUndefined:as,isDate:ip,isFile:ap,isBlob:lp,isRegExp:Ap,isFunction:tt,isStream:up,isURLSearchParams:fp,isTypedArray:kp,isFileList:cp,forEach:Xs,merge:ti,extend:wp,trim:vp,stripBOM:yp,inherits:bp,toFlatObject:_p,kindOf:oo,kindOfTest:_t,endsWith:xp,toArray:Sp,forEachEntry:Ep,matchAll:Op,isHTMLForm:Tp,hasOwnProperty:Ga,hasOwnProp:Ga,reduceDescriptors:bu,freezeMethods:Rp,toObjectSet:$p,toCamelCase:Cp,noop:Pp,toFiniteNumber:jp,findKey:wu,global:Tn,isContextDefined:yu,isSpecCompliantForm:Ip,toJSONObject:Mp,isAsyncFn:Dp,isThenable:Np,setImmediate:_u,asap:Lp,isIterable:Up};function ne(t,e,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}k.inherits(ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:k.toJSONObject(this.config),code:this.code,status:this.status}}});const xu=ne.prototype,Su={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Su[t]={value:t}});Object.defineProperties(ne,Su);Object.defineProperty(xu,"isAxiosError",{value:!0});ne.from=(t,e,n,s,r,o)=>{const i=Object.create(xu);k.toFlatObject(t,i,function(c){return c!==Error.prototype},u=>u!=="isAxiosError");const a=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return ne.call(i,a,l,n,s,r),t&&i.cause==null&&Object.defineProperty(i,"cause",{value:t,configurable:!0}),i.name=t&&t.name||"Error",o&&Object.assign(i,o),i};const Fp=null;function ni(t){return k.isPlainObject(t)||k.isArray(t)}function ku(t){return k.endsWith(t,"[]")?t.slice(0,-2):t}function Ya(t,e,n){return t?t.concat(e).map(function(r,o){return r=ku(r),!n&&o?"["+r+"]":r}).join(n?".":""):e}function Bp(t){return k.isArray(t)&&!t.some(ni)}const qp=k.toFlatObject(k,{},null,function(e){return/^is[A-Z]/.test(e)});function ao(t,e,n){if(!k.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=k.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,g){return!k.isUndefined(g[w])});const s=n.metaTokens,r=n.visitor||c,o=n.dots,i=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&k.isSpecCompliantForm(e);if(!k.isFunction(r))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(k.isDate(p))return p.toISOString();if(k.isBoolean(p))return p.toString();if(!l&&k.isBlob(p))throw new ne("Blob is not supported. Use a Buffer instead.");return k.isArrayBuffer(p)||k.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,w,g){let b=p;if(p&&!g&&typeof p=="object"){if(k.endsWith(w,"{}"))w=s?w:w.slice(0,-2),p=JSON.stringify(p);else if(k.isArray(p)&&Bp(p)||(k.isFileList(p)||k.endsWith(w,"[]"))&&(b=k.toArray(p)))return w=ku(w),b.forEach(function(_,O){!(k.isUndefined(_)||_===null)&&e.append(i===!0?Ya([w],O,o):i===null?w:w+"[]",u(_))}),!1}return ni(p)?!0:(e.append(Ya(g,w,o),u(p)),!1)}const f=[],h=Object.assign(qp,{defaultVisitor:c,convertValue:u,isVisitable:ni});function m(p,w){if(!k.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(p),k.forEach(p,function(b,x){(!(k.isUndefined(b)||b===null)&&r.call(e,b,k.isString(x)?x.trim():x,w,h))===!0&&m(b,w?w.concat(x):[x])}),f.pop()}}if(!k.isObject(t))throw new TypeError("data must be an object");return m(t),e}function Xa(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Fi(t,e){this._pairs=[],t&&ao(t,this,e)}const Eu=Fi.prototype;Eu.append=function(e,n){this._pairs.push([e,n])};Eu.toString=function(e){const n=e?function(s){return e.call(this,s,Xa)}:Xa;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function Hp(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ou(t,e,n){if(!e)return t;const s=n&&n.encode||Hp;k.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let o;if(r?o=r(e,n):o=k.isURLSearchParams(e)?e.toString():new Fi(e,n).toString(s),o){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Qa{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){k.forEach(this.handlers,function(s){s!==null&&e(s)})}}const Tu={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Wp=typeof URLSearchParams<"u"?URLSearchParams:Fi,Vp=typeof FormData<"u"?FormData:null,zp=typeof Blob<"u"?Blob:null,Kp={isBrowser:!0,classes:{URLSearchParams:Wp,FormData:Vp,Blob:zp},protocols:["http","https","file","blob","url","data"]},Bi=typeof window<"u"&&typeof document<"u",si=typeof navigator=="object"&&navigator||void 0,Jp=Bi&&(!si||["ReactNative","NativeScript","NS"].indexOf(si.product)<0),Gp=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Yp=Bi&&window.location.href||"http://localhost",Xp=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Bi,hasStandardBrowserEnv:Jp,hasStandardBrowserWebWorkerEnv:Gp,navigator:si,origin:Yp},Symbol.toStringTag,{value:"Module"})),Ve={...Xp,...Kp};function Qp(t,e){return ao(t,new Ve.classes.URLSearchParams,{visitor:function(n,s,r,o){return Ve.isNode&&k.isBuffer(n)?(this.append(s,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function Zp(t){return k.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function eg(t){const e={},n=Object.keys(t);let s;const r=n.length;let o;for(s=0;s<r;s++)o=n[s],e[o]=t[o];return e}function Cu(t){function e(n,s,r,o){let i=n[o++];if(i==="__proto__")return!0;const a=Number.isFinite(+i),l=o>=n.length;return i=!i&&k.isArray(r)?r.length:i,l?(k.hasOwnProp(r,i)?r[i]=[r[i],s]:r[i]=s,!a):((!r[i]||!k.isObject(r[i]))&&(r[i]=[]),e(n,s,r[i],o)&&k.isArray(r[i])&&(r[i]=eg(r[i])),!a)}if(k.isFormData(t)&&k.isFunction(t.entries)){const n={};return k.forEachEntry(t,(s,r)=>{e(Zp(s),r,n,0)}),n}return null}function tg(t,e,n){if(k.isString(t))try{return(e||JSON.parse)(t),k.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const Qs={transitional:Tu,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,o=k.isObject(e);if(o&&k.isHTMLForm(e)&&(e=new FormData(e)),k.isFormData(e))return r?JSON.stringify(Cu(e)):e;if(k.isArrayBuffer(e)||k.isBuffer(e)||k.isStream(e)||k.isFile(e)||k.isBlob(e)||k.isReadableStream(e))return e;if(k.isArrayBufferView(e))return e.buffer;if(k.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Qp(e,this.formSerializer).toString();if((a=k.isFileList(e))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return ao(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||r?(n.setContentType("application/json",!1),tg(e)):e}],transformResponse:[function(e){const n=this.transitional||Qs.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(k.isResponse(e)||k.isReadableStream(e))return e;if(e&&k.isString(e)&&(s&&!this.responseType||r)){const i=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(a){if(i)throw a.name==="SyntaxError"?ne.from(a,ne.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ve.classes.FormData,Blob:Ve.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};k.forEach(["delete","get","head","post","put","patch"],t=>{Qs.headers[t]={}});const ng=k.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sg=t=>{const e={};let n,s,r;return t&&t.split(`
`).forEach(function(i){r=i.indexOf(":"),n=i.substring(0,r).trim().toLowerCase(),s=i.substring(r+1).trim(),!(!n||e[n]&&ng[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},Za=Symbol("internals");function vs(t){return t&&String(t).trim().toLowerCase()}function yr(t){return t===!1||t==null?t:k.isArray(t)?t.map(yr):String(t)}function rg(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const og=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ao(t,e,n,s,r){if(k.isFunction(s))return s.call(this,e,n);if(r&&(e=n),!!k.isString(e)){if(k.isString(s))return e.indexOf(s)!==-1;if(k.isRegExp(s))return s.test(e)}}function ig(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function ag(t,e){const n=k.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(r,o,i){return this[s].call(this,e,r,o,i)},configurable:!0})})}let nt=class{constructor(e){e&&this.set(e)}set(e,n,s){const r=this;function o(a,l,u){const c=vs(l);if(!c)throw new Error("header name must be a non-empty string");const f=k.findKey(r,c);(!f||r[f]===void 0||u===!0||u===void 0&&r[f]!==!1)&&(r[f||l]=yr(a))}const i=(a,l)=>k.forEach(a,(u,c)=>o(u,c,l));if(k.isPlainObject(e)||e instanceof this.constructor)i(e,n);else if(k.isString(e)&&(e=e.trim())&&!og(e))i(sg(e),n);else if(k.isObject(e)&&k.isIterable(e)){let a={},l,u;for(const c of e){if(!k.isArray(c))throw TypeError("Object iterator must return a key-value pair");a[u=c[0]]=(l=a[u])?k.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}i(a,n)}else e!=null&&o(n,e,s);return this}get(e,n){if(e=vs(e),e){const s=k.findKey(this,e);if(s){const r=this[s];if(!n)return r;if(n===!0)return rg(r);if(k.isFunction(n))return n.call(this,r,s);if(k.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=vs(e),e){const s=k.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||Ao(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let r=!1;function o(i){if(i=vs(i),i){const a=k.findKey(s,i);a&&(!n||Ao(s,s[a],a,n))&&(delete s[a],r=!0)}}return k.isArray(e)?e.forEach(o):o(e),r}clear(e){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const o=n[s];(!e||Ao(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const n=this,s={};return k.forEach(this,(r,o)=>{const i=k.findKey(s,o);if(i){n[i]=yr(r),delete n[o];return}const a=e?ig(o):String(o).trim();a!==o&&delete n[o],n[a]=yr(r),s[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return k.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=e&&k.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[Za]=this[Za]={accessors:{}}).accessors,r=this.prototype;function o(i){const a=vs(i);s[a]||(ag(r,i),s[a]=!0)}return k.isArray(e)?e.forEach(o):o(e),this}};nt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);k.reduceDescriptors(nt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});k.freezeMethods(nt);function Ro(t,e){const n=this||Qs,s=e||n,r=nt.from(s.headers);let o=s.data;return k.forEach(t,function(a){o=a.call(n,o,r.normalize(),e?e.status:void 0)}),r.normalize(),o}function Au(t){return!!(t&&t.__CANCEL__)}function us(t,e,n){ne.call(this,t??"canceled",ne.ERR_CANCELED,e,n),this.name="CanceledError"}k.inherits(us,ne,{__CANCEL__:!0});function Ru(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new ne("Request failed with status code "+n.status,[ne.ERR_BAD_REQUEST,ne.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function lg(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function cg(t,e){t=t||10;const n=new Array(t),s=new Array(t);let r=0,o=0,i;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=s[o];i||(i=u),n[r]=l,s[r]=u;let f=o,h=0;for(;f!==r;)h+=n[f++],f=f%t;if(r=(r+1)%t,r===o&&(o=(o+1)%t),u-i<e)return;const m=c&&u-c;return m?Math.round(h*1e3/m):void 0}}function ug(t,e){let n=0,s=1e3/e,r,o;const i=(u,c=Date.now())=>{n=c,r=null,o&&(clearTimeout(o),o=null),t(...u)};return[(...u)=>{const c=Date.now(),f=c-n;f>=s?i(u,c):(r=u,o||(o=setTimeout(()=>{o=null,i(r)},s-f)))},()=>r&&i(r)]}const Ir=(t,e,n=3)=>{let s=0;const r=cg(50,250);return ug(o=>{const i=o.loaded,a=o.lengthComputable?o.total:void 0,l=i-s,u=r(l),c=i<=a;s=i;const f={loaded:i,total:a,progress:a?i/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-i)/u:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},el=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},tl=t=>(...e)=>k.asap(()=>t(...e)),dg=Ve.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Ve.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Ve.origin),Ve.navigator&&/(msie|trident)/i.test(Ve.navigator.userAgent)):()=>!0,fg=Ve.hasStandardBrowserEnv?{write(t,e,n,s,r,o){const i=[t+"="+encodeURIComponent(e)];k.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),k.isString(s)&&i.push("path="+s),k.isString(r)&&i.push("domain="+r),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function hg(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function mg(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function $u(t,e,n){let s=!hg(e);return t&&(s||n==!1)?mg(t,e):e}const nl=t=>t instanceof nt?{...t}:t;function jn(t,e){e=e||{};const n={};function s(u,c,f,h){return k.isPlainObject(u)&&k.isPlainObject(c)?k.merge.call({caseless:h},u,c):k.isPlainObject(c)?k.merge({},c):k.isArray(c)?c.slice():c}function r(u,c,f,h){if(k.isUndefined(c)){if(!k.isUndefined(u))return s(void 0,u,f,h)}else return s(u,c,f,h)}function o(u,c){if(!k.isUndefined(c))return s(void 0,c)}function i(u,c){if(k.isUndefined(c)){if(!k.isUndefined(u))return s(void 0,u)}else return s(void 0,c)}function a(u,c,f){if(f in e)return s(u,c);if(f in t)return s(void 0,u)}const l={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(u,c,f)=>r(nl(u),nl(c),f,!0)};return k.forEach(Object.keys({...t,...e}),function(c){const f=l[c]||r,h=f(t[c],e[c],c);k.isUndefined(h)&&f!==a||(n[c]=h)}),n}const Pu=t=>{const e=jn({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:o,headers:i,auth:a}=e;if(e.headers=i=nt.from(i),e.url=Ou($u(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&i.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),k.isFormData(n)){if(Ve.hasStandardBrowserEnv||Ve.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(k.isFunction(n.getHeaders)){const l=n.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([c,f])=>{u.includes(c.toLowerCase())&&i.set(c,f)})}}if(Ve.hasStandardBrowserEnv&&(s&&k.isFunction(s)&&(s=s(e)),s||s!==!1&&dg(e.url))){const l=r&&o&&fg.read(o);l&&i.set(r,l)}return e},pg=typeof XMLHttpRequest<"u",gg=pg&&function(t){return new Promise(function(n,s){const r=Pu(t);let o=r.data;const i=nt.from(r.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=r,c,f,h,m,p;function w(){m&&m(),p&&p(),r.cancelToken&&r.cancelToken.unsubscribe(c),r.signal&&r.signal.removeEventListener("abort",c)}let g=new XMLHttpRequest;g.open(r.method.toUpperCase(),r.url,!0),g.timeout=r.timeout;function b(){if(!g)return;const _=nt.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),U={data:!a||a==="text"||a==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:_,config:t,request:g};Ru(function(R){n(R),w()},function(R){s(R),w()},U),g=null}"onloadend"in g?g.onloadend=b:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(b)},g.onabort=function(){g&&(s(new ne("Request aborted",ne.ECONNABORTED,t,g)),g=null)},g.onerror=function(O){const U=O&&O.message?O.message:"Network Error",W=new ne(U,ne.ERR_NETWORK,t,g);W.event=O||null,s(W),g=null},g.ontimeout=function(){let O=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const U=r.transitional||Tu;r.timeoutErrorMessage&&(O=r.timeoutErrorMessage),s(new ne(O,U.clarifyTimeoutError?ne.ETIMEDOUT:ne.ECONNABORTED,t,g)),g=null},o===void 0&&i.setContentType(null),"setRequestHeader"in g&&k.forEach(i.toJSON(),function(O,U){g.setRequestHeader(U,O)}),k.isUndefined(r.withCredentials)||(g.withCredentials=!!r.withCredentials),a&&a!=="json"&&(g.responseType=r.responseType),u&&([h,p]=Ir(u,!0),g.addEventListener("progress",h)),l&&g.upload&&([f,m]=Ir(l),g.upload.addEventListener("progress",f),g.upload.addEventListener("loadend",m)),(r.cancelToken||r.signal)&&(c=_=>{g&&(s(!_||_.type?new us(null,t,g):_),g.abort(),g=null)},r.cancelToken&&r.cancelToken.subscribe(c),r.signal&&(r.signal.aborted?c():r.signal.addEventListener("abort",c)));const x=lg(r.url);if(x&&Ve.protocols.indexOf(x)===-1){s(new ne("Unsupported protocol "+x+":",ne.ERR_BAD_REQUEST,t));return}g.send(o||null)})},vg=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,r;const o=function(u){if(!r){r=!0,a();const c=u instanceof Error?u:this.reason;s.abort(c instanceof ne?c:new us(c instanceof Error?c.message:c))}};let i=e&&setTimeout(()=>{i=null,o(new ne(`timeout ${e} of ms exceeded`,ne.ETIMEDOUT))},e);const a=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),t=null)};t.forEach(u=>u.addEventListener("abort",o));const{signal:l}=s;return l.unsubscribe=()=>k.asap(a),l}},wg=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,r;for(;s<n;)r=s+e,yield t.slice(s,r),s=r},yg=async function*(t,e){for await(const n of bg(t))yield*wg(n,e)},bg=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},sl=(t,e,n,s)=>{const r=yg(t,e);let o=0,i,a=l=>{i||(i=!0,s&&s(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await r.next();if(u){a(),l.close();return}let f=c.byteLength;if(n){let h=o+=f;n(h)}l.enqueue(new Uint8Array(c))}catch(u){throw a(u),u}},cancel(l){return a(l),r.return()}},{highWaterMark:2})},rl=64*1024,{isFunction:ir}=k,_g=(({Request:t,Response:e})=>({Request:t,Response:e}))(k.global),{ReadableStream:ol,TextEncoder:il}=k.global,al=(t,...e)=>{try{return!!t(...e)}catch{return!1}},xg=t=>{t=k.merge.call({skipUndefined:!0},_g,t);const{fetch:e,Request:n,Response:s}=t,r=e?ir(e):typeof fetch=="function",o=ir(n),i=ir(s);if(!r)return!1;const a=r&&ir(ol),l=r&&(typeof il=="function"?(p=>w=>p.encode(w))(new il):async p=>new Uint8Array(await new n(p).arrayBuffer())),u=o&&a&&al(()=>{let p=!1;const w=new n(Ve.origin,{body:new ol,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!w}),c=i&&a&&al(()=>k.isReadableStream(new s("").body)),f={stream:c&&(p=>p.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!f[p]&&(f[p]=(w,g)=>{let b=w&&w[p];if(b)return b.call(w);throw new ne(`Response type '${p}' is not supported`,ne.ERR_NOT_SUPPORT,g)})});const h=async p=>{if(p==null)return 0;if(k.isBlob(p))return p.size;if(k.isSpecCompliantForm(p))return(await new n(Ve.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(k.isArrayBufferView(p)||k.isArrayBuffer(p))return p.byteLength;if(k.isURLSearchParams(p)&&(p=p+""),k.isString(p))return(await l(p)).byteLength},m=async(p,w)=>{const g=k.toFiniteNumber(p.getContentLength());return g??h(w)};return async p=>{let{url:w,method:g,data:b,signal:x,cancelToken:_,timeout:O,onDownloadProgress:U,onUploadProgress:W,responseType:R,headers:E,withCredentials:P="same-origin",fetchOptions:de}=Pu(p),Le=e||fetch;R=R?(R+"").toLowerCase():"text";let Ue=vg([x,_&&_.toAbortSignal()],O),$e=null;const Ke=Ue&&Ue.unsubscribe&&(()=>{Ue.unsubscribe()});let ht;try{if(W&&u&&g!=="get"&&g!=="head"&&(ht=await m(E,b))!==0){let Ie=new n(w,{method:"POST",body:b,duplex:"half"}),Oe;if(k.isFormData(b)&&(Oe=Ie.headers.get("content-type"))&&E.setContentType(Oe),Ie.body){const[St,mt]=el(ht,Ir(tl(W)));b=sl(Ie.body,rl,St,mt)}}k.isString(P)||(P=P?"include":"omit");const re=o&&"credentials"in n.prototype,Z={...de,signal:Ue,method:g.toUpperCase(),headers:E.normalize().toJSON(),body:b,duplex:"half",credentials:re?P:void 0};$e=o&&new n(w,Z);let se=await(o?Le($e,de):Le(w,Z));const lt=c&&(R==="stream"||R==="response");if(c&&(U||lt&&Ke)){const Ie={};["status","statusText","headers"].forEach(pn=>{Ie[pn]=se[pn]});const Oe=k.toFiniteNumber(se.headers.get("content-length")),[St,mt]=U&&el(Oe,Ir(tl(U),!0))||[];se=new s(sl(se.body,rl,St,()=>{mt&&mt(),Ke&&Ke()}),Ie)}R=R||"text";let xt=await f[k.findKey(f,R)||"text"](se,p);return!lt&&Ke&&Ke(),await new Promise((Ie,Oe)=>{Ru(Ie,Oe,{data:xt,headers:nt.from(se.headers),status:se.status,statusText:se.statusText,config:p,request:$e})})}catch(re){throw Ke&&Ke(),re&&re.name==="TypeError"&&/Load failed|fetch/i.test(re.message)?Object.assign(new ne("Network Error",ne.ERR_NETWORK,p,$e),{cause:re.cause||re}):ne.from(re,re&&re.code,p,$e)}}},Sg=new Map,ju=t=>{let e=t?t.env:{};const{fetch:n,Request:s,Response:r}=e,o=[s,r,n];let i=o.length,a=i,l,u,c=Sg;for(;a--;)l=o[a],u=c.get(l),u===void 0&&c.set(l,u=a?new Map:xg(e)),c=u;return u};ju();const ri={http:Fp,xhr:gg,fetch:{get:ju}};k.forEach(ri,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ll=t=>`- ${t}`,kg=t=>k.isFunction(t)||t===null||t===!1,Iu={getAdapter:(t,e)=>{t=k.isArray(t)?t:[t];const{length:n}=t;let s,r;const o={};for(let i=0;i<n;i++){s=t[i];let a;if(r=s,!kg(s)&&(r=ri[(a=String(s)).toLowerCase()],r===void 0))throw new ne(`Unknown adapter '${a}'`);if(r&&(k.isFunction(r)||(r=r.get(e))))break;o[a||"#"+i]=r}if(!r){const i=Object.entries(o).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?i.length>1?`since :
`+i.map(ll).join(`
`):" "+ll(i[0]):"as no adapter specified";throw new ne("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:ri};function $o(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new us(null,t)}function cl(t){return $o(t),t.headers=nt.from(t.headers),t.data=Ro.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Iu.getAdapter(t.adapter||Qs.adapter,t)(t).then(function(s){return $o(t),s.data=Ro.call(t,t.transformResponse,s),s.headers=nt.from(s.headers),s},function(s){return Au(s)||($o(t),s&&s.response&&(s.response.data=Ro.call(t,t.transformResponse,s.response),s.response.headers=nt.from(s.response.headers))),Promise.reject(s)})}const Mu="1.12.2",lo={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{lo[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const ul={};lo.transitional=function(e,n,s){function r(o,i){return"[Axios v"+Mu+"] Transitional option '"+o+"'"+i+(s?". "+s:"")}return(o,i,a)=>{if(e===!1)throw new ne(r(i," has been removed"+(n?" in "+n:"")),ne.ERR_DEPRECATED);return n&&!ul[i]&&(ul[i]=!0,console.warn(r(i," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,i,a):!0}};lo.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function Eg(t,e,n){if(typeof t!="object")throw new ne("options must be an object",ne.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let r=s.length;for(;r-- >0;){const o=s[r],i=e[o];if(i){const a=t[o],l=a===void 0||i(a,o,t);if(l!==!0)throw new ne("option "+o+" must be "+l,ne.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ne("Unknown option "+o,ne.ERR_BAD_OPTION)}}const br={assertOptions:Eg,validators:lo},Ct=br.validators;let Pn=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Qa,response:new Qa}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=jn(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:o}=n;s!==void 0&&br.assertOptions(s,{silentJSONParsing:Ct.transitional(Ct.boolean),forcedJSONParsing:Ct.transitional(Ct.boolean),clarifyTimeoutError:Ct.transitional(Ct.boolean)},!1),r!=null&&(k.isFunction(r)?n.paramsSerializer={serialize:r}:br.assertOptions(r,{encode:Ct.function,serialize:Ct.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),br.assertOptions(n,{baseUrl:Ct.spelling("baseURL"),withXsrfToken:Ct.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&k.merge(o.common,o[n.method]);o&&k.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),n.headers=nt.concat(i,o);const a=[];let l=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(l=l&&w.synchronous,a.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let c,f=0,h;if(!l){const p=[cl.bind(this),void 0];for(p.unshift(...a),p.push(...u),h=p.length,c=Promise.resolve(n);f<h;)c=c.then(p[f++],p[f++]);return c}h=a.length;let m=n;for(;f<h;){const p=a[f++],w=a[f++];try{m=p(m)}catch(g){w.call(this,g);break}}try{c=cl.call(this,m)}catch(p){return Promise.reject(p)}for(f=0,h=u.length;f<h;)c=c.then(u[f++],u[f++]);return c}getUri(e){e=jn(this.defaults,e);const n=$u(e.baseURL,e.url,e.allowAbsoluteUrls);return Ou(n,e.params,e.paramsSerializer)}};k.forEach(["delete","get","head","options"],function(e){Pn.prototype[e]=function(n,s){return this.request(jn(s||{},{method:e,url:n,data:(s||{}).data}))}});k.forEach(["post","put","patch"],function(e){function n(s){return function(o,i,a){return this.request(jn(a||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}Pn.prototype[e]=n(),Pn.prototype[e+"Form"]=n(!0)});let Og=class Du{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const s=this;this.promise.then(r=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](r);s._listeners=null}),this.promise.then=r=>{let o;const i=new Promise(a=>{s.subscribe(a),o=a}).then(r);return i.cancel=function(){s.unsubscribe(o)},i},e(function(o,i,a){s.reason||(s.reason=new us(o,i,a),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Du(function(r){e=r}),cancel:e}}};function Tg(t){return function(n){return t.apply(null,n)}}function Cg(t){return k.isObject(t)&&t.isAxiosError===!0}const oi={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(oi).forEach(([t,e])=>{oi[e]=t});function Nu(t){const e=new Pn(t),n=mu(Pn.prototype.request,e);return k.extend(n,Pn.prototype,e,{allOwnKeys:!0}),k.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return Nu(jn(t,r))},n}const Re=Nu(Qs);Re.Axios=Pn;Re.CanceledError=us;Re.CancelToken=Og;Re.isCancel=Au;Re.VERSION=Mu;Re.toFormData=ao;Re.AxiosError=ne;Re.Cancel=Re.CanceledError;Re.all=function(e){return Promise.all(e)};Re.spread=Tg;Re.isAxiosError=Cg;Re.mergeConfig=jn;Re.AxiosHeaders=nt;Re.formToJSON=t=>Cu(k.isHTMLForm(t)?new FormData(t):t);Re.getAdapter=Iu.getAdapter;Re.HttpStatusCode=oi;Re.default=Re;const{Axios:mk,AxiosError:pk,CanceledError:gk,isCancel:vk,CancelToken:wk,VERSION:yk,all:bk,Cancel:_k,isAxiosError:xk,spread:Sk,toFormData:kk,AxiosHeaders:Ek,HttpStatusCode:Ok,formToJSON:Tk,getAdapter:Ck,mergeConfig:Ak}=Re;class Ag{constructor(){Xi(this,"api");this.api=Re.create({baseURL:"http://localhost:3000/api",timeout:1e4,headers:{"Content-Type":"application/json"}}),this.api.interceptors.response.use(e=>e,e=>{var n;return((n=e.response)==null?void 0:n.status)===401&&(localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),window.location.href="/login"),Promise.reject(e)})}setAuthToken(e){e?this.api.defaults.headers.common.Authorization=`Bearer ${e}`:delete this.api.defaults.headers.common.Authorization}async login(e,n,s){return(await this.api.post("/auth/admin-login",{email:e,password:n,filial_id:s})).data}async getDashboardStats(){return(await this.api.get("/admin/dashboard-stats")).data.data}async getClients(e){return(await this.api.get(`/admin/clients?filial_id=${e}`)).data.data}async getChatSessions(e){return(await this.api.get(`/admin/chat-sessions?filial_id=${e}`)).data.data}async getMessages(e){return(await this.api.get(`/admin/messages/${e}`)).data.data}async sendMessage(e,n){try{return(await this.api.post("/admin/send-message",{client_cnpj:e,content:n})).data.success}catch(s){return console.error("Error sending message:",s),!1}}async markAsRead(e){try{return(await this.api.post("/admin/mark-read",{client_cnpj:e})).data.success}catch(n){return console.error("Error marking as read:",n),!1}}async getBoletos(e){return(await this.api.get(`/admin/boletos?filial_id=${e}`)).data.data}}const It=new Ag,Rg="modulepreload",$g=function(t){return"/APP_Dnotas/"+t},dl={},Zs=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=$g(l),l in dl)return;dl[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Rg,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})},Pg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Zs(async()=>{const{default:s}=await Promise.resolve().then(()=>ds);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)};class qi extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class fl extends qi{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class hl extends qi{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ml extends qi{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ii;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ii||(ii={}));var jg=function(t,e,n,s){function r(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(c){try{u(s.next(c))}catch(f){i(f)}}function l(c){try{u(s.throw(c))}catch(f){i(f)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};class Ig{constructor(e,{headers:n={},customFetch:s,region:r=ii.Any}={}){this.url=e,this.headers=n,this.region=r,this.fetch=Pg(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return jg(this,arguments,void 0,function*(n,s={}){var r;try{const{headers:o,method:i,body:a,signal:l}=s;let u={},{region:c}=s;c||(c=this.region);const f=new URL(`${this.url}/${n}`);c&&c!=="any"&&(u["x-region"]=c,f.searchParams.set("forceFunctionRegion",c));let h;a&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=a):typeof a=="string"?(u["Content-Type"]="text/plain",h=a):typeof FormData<"u"&&a instanceof FormData?h=a:(u["Content-Type"]="application/json",h=JSON.stringify(a)));const m=yield this.fetch(f.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),o),body:h,signal:l}).catch(b=>{throw b.name==="AbortError"?b:new fl(b)}),p=m.headers.get("x-relay-error");if(p&&p==="true")throw new hl(m);if(!m.ok)throw new ml(m);let w=((r=m.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return w==="application/json"?g=yield m.json():w==="application/octet-stream"?g=yield m.blob():w==="text/event-stream"?g=m:w==="multipart/form-data"?g=yield m.formData():g=yield m.text(),{data:g,error:null,response:m}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new fl(o)}:{data:null,error:o,response:o instanceof ml||o instanceof hl?o.context:void 0}}})}}var ft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mg(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var r=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:function(){return t[s]}})}),n}var et={},Hi={},co={},er={},uo={},fo={},Dg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ls=Dg();const Ng=ls.fetch,Lu=ls.fetch.bind(ls),Uu=ls.Headers,Lg=ls.Request,Ug=ls.Response,ds=Object.freeze(Object.defineProperty({__proto__:null,Headers:Uu,Request:Lg,Response:Ug,default:Lu,fetch:Ng},Symbol.toStringTag,{value:"Module"})),Fg=Mg(ds);var ho={};Object.defineProperty(ho,"__esModule",{value:!0});let Bg=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ho.default=Bg;var Fu=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fo,"__esModule",{value:!0});const qg=Fu(Fg),Hg=Fu(ho);let Wg=class{constructor(e){var n,s;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(s=e.isMaybeSingle)!==null&&s!==void 0?s:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=qg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let r=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,a,l,u;let c=null,f=null,h=null,m=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){const x=await o.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((i=this.headers.get("Accept"))===null||i===void 0)&&i.includes("application/vnd.pgrst.plan+text"))?f=x:f=JSON.parse(x))}const g=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),b=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,m=406,p="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const g=await o.text();try{c=JSON.parse(g),Array.isArray(c)&&o.status===404&&(f=[],c=null,m=200,p="OK")}catch{o.status===404&&g===""?(m=204,p="No Content"):c={message:g}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,m=200,p="OK"),c&&this.shouldThrowOnError)throw new Hg.default(c)}return{error:c,data:f,count:h,status:m,statusText:p}});return this.shouldThrowOnError||(r=r.catch(o=>{var i,a,l;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o==null?void 0:o.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,n)}returns(){return this}overrideTypes(){return this}};fo.default=Wg;var Vg=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(uo,"__esModule",{value:!0});const zg=Vg(fo);let Kg=class extends zg.default{select(e){let n=!1;const s=(e??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:s,foreignTable:r,referencedTable:o=r}={}){const i=o?`${o}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:s=n}={}){const r=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,n,{foreignTable:s,referencedTable:r=s}={}){const o=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(i,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:s=!1,buffers:r=!1,wal:o=!1,format:i="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,s?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${u}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};uo.default=Kg;var Jg=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(er,"__esModule",{value:!0});const Gg=Jg(uo);let Yg=class extends Gg.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const s=Array.from(new Set(n)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:s,type:r}={}){let o="";r==="plain"?o="pl":r==="phrase"?o="ph":r==="websearch"&&(o="w");const i=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${o}fts${i}.${n}`),this}match(e){return Object.entries(e).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(e,n,s){return this.url.searchParams.append(e,`not.${n}.${s}`),this}or(e,{foreignTable:n,referencedTable:s=n}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,n,s){return this.url.searchParams.append(e,`${n}.${s}`),this}};er.default=Yg;var Xg=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(co,"__esModule",{value:!0});const ws=Xg(er);let Qg=class{constructor(e,{headers:n={},schema:s,fetch:r}){this.url=e,this.headers=new Headers(n),this.schema=s,this.fetch=r}select(e,n){const{head:s=!1,count:r}=n??{},o=s?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new ws.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:s=!0}={}){var r;const o="POST";if(n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(i.length>0){const a=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ws.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:s=!1,count:r,defaultToNull:o=!0}={}){var i;const a="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),r&&this.headers.append("Prefer",`count=${r}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new ws.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:n}={}){var s;const r="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new ws.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:e}={}){var n;const s="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new ws.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};co.default=Qg;var Bu=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hi,"__esModule",{value:!0});const Zg=Bu(co),e0=Bu(er);let t0=class qu{constructor(e,{headers:n={},schema:s,fetch:r}={}){this.url=e,this.headers=new Headers(n),this.schemaName=s,this.fetch=r}from(e){const n=new URL(`${this.url}/${e}`);return new Zg.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new qu(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:s=!1,get:r=!1,count:o}={}){var i;let a;const l=new URL(`${this.url}/rpc/${e}`);let u;s||r?(a=s?"HEAD":"GET",Object.entries(n).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{l.searchParams.append(f,h)})):(a="POST",u=n);const c=new Headers(this.headers);return o&&c.set("Prefer",`count=${o}`),new e0.default({method:a,url:l,headers:c,schema:this.schemaName,body:u,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};Hi.default=t0;var fs=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(et,"__esModule",{value:!0});et.PostgrestError=et.PostgrestBuilder=et.PostgrestTransformBuilder=et.PostgrestFilterBuilder=et.PostgrestQueryBuilder=et.PostgrestClient=void 0;const Hu=fs(Hi);et.PostgrestClient=Hu.default;const Wu=fs(co);et.PostgrestQueryBuilder=Wu.default;const Vu=fs(er);et.PostgrestFilterBuilder=Vu.default;const zu=fs(uo);et.PostgrestTransformBuilder=zu.default;const Ku=fs(fo);et.PostgrestBuilder=Ku.default;const Ju=fs(ho);et.PostgrestError=Ju.default;var n0=et.default={PostgrestClient:Hu.default,PostgrestQueryBuilder:Wu.default,PostgrestFilterBuilder:Vu.default,PostgrestTransformBuilder:zu.default,PostgrestBuilder:Ku.default,PostgrestError:Ju.default};const{PostgrestClient:s0,PostgrestQueryBuilder:Mk,PostgrestFilterBuilder:Dk,PostgrestTransformBuilder:Nk,PostgrestBuilder:Lk,PostgrestError:Uk}=n0;class r0{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,r=parseInt(s.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const o0="2.75.0",i0=`realtime-js/${o0}`,a0="1.0.0",ai=1e4,l0=1e3,c0=100;var Rs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Rs||(Rs={}));var Me;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Me||(Me={}));var gt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(gt||(gt={}));var li;(function(t){t.websocket="websocket"})(li||(li={}));var kn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(kn||(kn={}));class u0{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,n,s)}_decodeBroadcast(e,n,s){const r=n.getUint8(1),o=n.getUint8(2);let i=this.HEADER_LENGTH+2;const a=s.decode(e.slice(i,i+r));i=i+r;const l=s.decode(e.slice(i,i+o));i=i+o;const u=JSON.parse(s.decode(e.slice(i,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Gu{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var be;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(be||(be={}));const pl=(t,e,n={})=>{var s;const r=(s=n.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((o,i)=>(o[i]=d0(i,t,e,r),o),{}):{}},d0=(t,e,n,s)=>{const r=e.find(a=>a.name===t),o=r==null?void 0:r.type,i=n[t];return o&&!s.includes(o)?Yu(o,i):ci(i)},Yu=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return p0(e,n)}switch(t){case be.bool:return f0(e);case be.float4:case be.float8:case be.int2:case be.int4:case be.int8:case be.numeric:case be.oid:return h0(e);case be.json:case be.jsonb:return m0(e);case be.timestamp:return g0(e);case be.abstime:case be.date:case be.daterange:case be.int4range:case be.int8range:case be.money:case be.reltime:case be.text:case be.time:case be.timestamptz:case be.timetz:case be.tsrange:case be.tstzrange:return ci(e);default:return ci(e)}},ci=t=>t,f0=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},h0=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},m0=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},p0=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let o;const i=t.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>Yu(e,a))}return t},g0=t=>typeof t=="string"?t.replace(" ","T"):t,Xu=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Po{constructor(e,n,s={},r=ai){this.channel=e,this.event=n,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var gl;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(gl||(gl={}));class $s{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$s.syncState(this.state,r,o,i),this.pendingDiffs.forEach(l=>{this.state=$s.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},r=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=$s.syncDiff(this.state,r,o,i),a())}),this.onJoin((r,o,i)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:o,newPresences:i})}),this.onLeave((r,o,i)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,r){const o=this.cloneDeep(e),i=this.transformState(n),a={},l={};return this.map(o,(u,c)=>{i[u]||(l[u]=c)}),this.map(i,(u,c)=>{const f=o[u];if(f){const h=c.map(g=>g.presence_ref),m=f.map(g=>g.presence_ref),p=c.filter(g=>m.indexOf(g.presence_ref)<0),w=f.filter(g=>h.indexOf(g.presence_ref)<0);p.length>0&&(a[u]=p),w.length>0&&(l[u]=w)}else a[u]=c}),this.syncDiff(o,{joins:a,leaves:l},s,r)}static syncDiff(e,n,s,r){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(o,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const f=e[a].map(m=>m.presence_ref),h=c.filter(m=>f.indexOf(m.presence_ref)<0);e[a].unshift(...h)}s(a,c,l)}),this.map(i,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),e[a]=u,r(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const r=e[s];return"metas"in r?n[s]=r.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[s]=r,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vl;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(vl||(vl={}));var Ps;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ps||(Ps={}));var qt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(qt||(qt={}));class Wi{constructor(e,n={config:{}},s){var r,o;if(this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=Me.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Po(this,gt.join,this.params,this.timeout),this.rejoinTimer=new Gu(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Me.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Me.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gt.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new $s(this),this.broadcastEndpointURL=Xu(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var s,r,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Me.closed){const{config:{broadcast:i,presence:a,private:l}}=this.params,u=(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(m=>m.filter))!==null&&r!==void 0?r:[],c=!!this.bindings[Ps.PRESENCE]&&this.bindings[Ps.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},h={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(qt.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(qt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){e==null||e(qt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,g=(p=w==null?void 0:w.length)!==null&&p!==void 0?p:0,b=[];for(let x=0;x<g;x++){const _=w[x],{filter:{event:O,schema:U,table:W,filter:R}}=_,E=m&&m[x];if(E&&E.event===O&&E.schema===U&&E.table===W&&E.filter===R)b.push(Object.assign(Object.assign({},_),{id:E.id}));else{this.unsubscribe(),this.state=Me.errored,e==null||e(qt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(qt.SUBSCRIBED);return}}).receive("error",m=>{this.state=Me.errored,e==null||e(qt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(qt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===Me.joined&&e===Ps.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,s)}async send(e,n={}){var s,r;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:i}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Me.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gt.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(r=>{s=new Po(this,gt.leave,{},e),s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Me.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const r=new AbortController,o=setTimeout(()=>r.abort(),s),i=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(o),i}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Po(this,e,n,s);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>c0){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var r,o;const i=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=gt;if(s&&[a,l,u,c].indexOf(i)>=0&&s!==this._joinRef())return;let h=this._onMessage(i,n,s);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(m=>{var p,w,g;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((g=(w=m.filter)===null||w===void 0?void 0:w.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===i}).map(m=>m.callback(h,s)):(o=this.bindings[i])===null||o===void 0||o.filter(m=>{var p,w,g,b,x,_;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const O=m.id,U=(p=m.filter)===null||p===void 0?void 0:p.event;return O&&((w=n.ids)===null||w===void 0?void 0:w.includes(O))&&(U==="*"||(U==null?void 0:U.toLocaleLowerCase())===((g=n.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const O=(x=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return O==="*"||O===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:w,table:g,commit_timestamp:b,type:x,errors:_}=p;h=Object.assign(Object.assign({},{schema:w,table:g,commit_timestamp:b,eventType:x,new:{},old:{},errors:_}),this._getPayloadRecords(p))}m.callback(h,s)})}_isClosed(){return this.state===Me.closed}_isJoined(){return this.state===Me.joined}_isJoining(){return this.state===Me.joining}_isLeaving(){return this.state===Me.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const r=e.toLocaleLowerCase(),o={type:r,filter:n,callback:s};return this.bindings[r]?this.bindings[r].push(o):this.bindings[r]=[o],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(r=>{var o;return!(((o=r.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===s&&Wi.isEqual(r.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(gt.close,{},e)}_onError(e){this._on(gt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Me.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=pl(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=pl(e.columns,e.old_record)),n}}const jo=()=>{},ar={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},v0=[1e3,2e3,5e3,1e4],w0=1e4,y0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class b0{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ai,this.transport=null,this.heartbeatIntervalMs=ar.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jo,this.ref=0,this.reconnectTimer=null,this.logger=jo,this.conn=null,this.sendBuffer=[],this.serializer=new u0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>{let o;return r?o=r:typeof fetch>"u"?o=(...i)=>Zs(async()=>{const{default:a}=await Promise.resolve().then(()=>ds);return{default:a}},void 0).then(({default:a})=>a(...i)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...i)=>o(...i)},!(!((s=n==null?void 0:n.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${li.websocket}`,this.httpEndpoint=Xu(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=r0.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:a0}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Rs.connecting:return kn.Connecting;case Rs.open:return kn.Open;case Rs.closing:return kn.Closing;default:return kn.Closed}}isConnected(){return this.connectionState()===kn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,r=this.getChannels().find(o=>o.topic===s);if(r)return r;{const o=new Wi(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:s,payload:r,ref:o}=e,i=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${s} (${o})`,r),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(l0,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ar.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:r,payload:o,ref:i}=n,a=i?`(${i})`:"",l=o.status||"";this.log("receive",`${l} ${s} ${r} ${a}`.trim(),o),this.channels.filter(u=>u._isMember(s)).forEach(u=>u._trigger(r,o,i)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(gt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${e}${s}${r}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([y0],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const r={access_token:n,version:i0};n&&s.updateJoinPayload(r),s.joinedOnce&&s._isJoined()&&s._push(gt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Gu(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ar.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,r,o,i,a,l,u,c;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:ai,this.heartbeatIntervalMs=(r=e==null?void 0:e.heartbeatIntervalMs)!==null&&r!==void 0?r:ar.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=e==null?void 0:e.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:jo,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:f=>v0[f-1]||w0,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Vi extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function je(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class _0 extends Vi{constructor(e,n,s){super(e),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ui extends Vi{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var x0=function(t,e,n,s){function r(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(c){try{u(s.next(c))}catch(f){i(f)}}function l(c){try{u(s.throw(c))}catch(f){i(f)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};const Qu=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Zs(async()=>{const{default:s}=await Promise.resolve().then(()=>ds);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},S0=()=>x0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Zs(()=>Promise.resolve().then(()=>ds),void 0)).Response:Response}),di=t=>{if(Array.isArray(t))return t.map(n=>di(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const r=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[r]=di(s)}),e},k0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Dn=function(t,e,n,s){function r(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(c){try{u(s.next(c))}catch(f){i(f)}}function l(c){try{u(s.throw(c))}catch(f){i(f)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};const Io=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),E0=(t,e,n)=>Dn(void 0,void 0,void 0,function*(){const s=yield S0();t instanceof s&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const o=t.status||500,i=(r==null?void 0:r.statusCode)||o+"";e(new _0(Io(r),o,i))}).catch(r=>{e(new ui(Io(r),r))}):e(new ui(Io(t),t))}),O0=(t,e,n,s)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!s?r:(k0(s)?(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(s)):r.body=s,e!=null&&e.duplex&&(r.duplex=e.duplex),Object.assign(Object.assign({},r),n))};function tr(t,e,n,s,r,o){return Dn(this,void 0,void 0,function*(){return new Promise((i,a)=>{t(n,O0(e,s,r,o)).then(l=>{if(!l.ok)throw l;return s!=null&&s.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>E0(l,a,s))})})}function Mr(t,e,n,s){return Dn(this,void 0,void 0,function*(){return tr(t,"GET",e,n,s)})}function Rt(t,e,n,s,r){return Dn(this,void 0,void 0,function*(){return tr(t,"POST",e,s,r,n)})}function fi(t,e,n,s,r){return Dn(this,void 0,void 0,function*(){return tr(t,"PUT",e,s,r,n)})}function T0(t,e,n,s){return Dn(this,void 0,void 0,function*(){return tr(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function Zu(t,e,n,s,r){return Dn(this,void 0,void 0,function*(){return tr(t,"DELETE",e,s,r,n)})}var C0=function(t,e,n,s){function r(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(c){try{u(s.next(c))}catch(f){i(f)}}function l(c){try{u(s.throw(c))}catch(f){i(f)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};class A0{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return C0(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(je(e))return{data:null,error:e};throw e}})}}var R0=function(t,e,n,s){function r(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(c){try{u(s.next(c))}catch(f){i(f)}}function l(c){try{u(s.throw(c))}catch(f){i(f)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};class $0{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new A0(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return R0(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(je(e))return{data:null,error:e};throw e}})}}var Ze=function(t,e,n,s){function r(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(c){try{u(s.next(c))}catch(f){i(f)}}function l(c){try{u(s.throw(c))}catch(f){i(f)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};const P0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wl={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class j0{constructor(e,n={},s,r){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=s,this.fetch=Qu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,s,r){return Ze(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},wl),r);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&s instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",s)):typeof FormData<"u"&&s instanceof FormData?(o=s,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=s,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r!=null&&r.headers&&(a=Object.assign(Object.assign({},a),r.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),f=yield(e=="PUT"?fi:Rt)(this.fetch,`${this.url}/object/${c}`,o,Object.assign({headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(je(o))return{data:null,error:o};throw o}})}upload(e,n,s){return Ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,s)})}uploadToSignedUrl(e,n,s,r){return Ze(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:wl.upsert},r),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",u.cacheControl)):(l=s,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield fi(this.fetch,a.toString(),l,{headers:c});return{data:{path:o,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(je(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Ze(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const r=Object.assign({},this.headers);n!=null&&n.upsert&&(r["x-upsert"]="true");const o=yield Rt(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:r}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new Vi("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:a},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(je(s))return{data:null,error:s};throw s}})}update(e,n,s){return Ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,s)})}move(e,n,s){return Ze(this,void 0,void 0,function*(){try{return{data:yield Rt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}})}copy(e,n,s){return Ze(this,void 0,void 0,function*(){try{return{data:{path:(yield Rt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,s){return Ze(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),o=yield Rt(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}})}createSignedUrls(e,n,s){return Ze(this,void 0,void 0,function*(){try{const r=yield Rt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:r.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}})}download(e,n){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=o?`?${o}`:"",a=this._getFinalPath(e),l=()=>Mr(this.fetch,`${this.url}/${r}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new $0(l,this.shouldThrowOnError)}info(e){return Ze(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const s=yield Mr(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:di(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(je(s))return{data:null,error:s};throw s}})}exists(e){return Ze(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield T0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(je(s)&&s instanceof ui){const r=s.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,n){const s=this._getFinalPath(e),r=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&r.push(o);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&r.push(l);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${u}`)}}}remove(e){return Ze(this,void 0,void 0,function*(){try{return{data:yield Zu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}list(e,n,s){return Ze(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},P0),n),{prefix:e||""});return{data:yield Rt(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}})}listV2(e,n){return Ze(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield Rt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(je(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const I0="2.75.0",M0={"X-Client-Info":`storage-js/${I0}`};var Un=function(t,e,n,s){function r(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(c){try{u(s.next(c))}catch(f){i(f)}}function l(c){try{u(s.throw(c))}catch(f){i(f)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};class D0{constructor(e,n={},s,r){this.shouldThrowOnError=!1;const o=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},M0),n),this.fetch=Qu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Un(this,void 0,void 0,function*(){try{return{data:yield Mr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(je(e))return{data:null,error:e};throw e}})}getBucket(e){return Un(this,void 0,void 0,function*(){try{return{data:yield Mr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}createBucket(e){return Un(this,arguments,void 0,function*(n,s={public:!1}){try{return{data:yield Rt(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Un(this,void 0,void 0,function*(){try{return{data:yield fi(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(je(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Un(this,void 0,void 0,function*(){try{return{data:yield Rt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Un(this,void 0,void 0,function*(){try{return{data:yield Zu(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}}class N0 extends D0{constructor(e,n={},s,r){super(e,n,s,r)}from(e){return new j0(this.url,this.headers,e,this.fetch)}}const L0="2.75.0";let bs="";typeof Deno<"u"?bs="deno":typeof document<"u"?bs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bs="react-native":bs="node";const U0={"X-Client-Info":`supabase-js-${bs}/${L0}`},F0={headers:U0},B0={schema:"public"},q0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},H0={};var W0=function(t,e,n,s){function r(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(c){try{u(s.next(c))}catch(f){i(f)}}function l(c){try{u(s.throw(c))}catch(f){i(f)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};const V0=t=>{let e;return t?e=t:typeof fetch>"u"?e=Lu:e=fetch,(...n)=>e(...n)},z0=()=>typeof Headers>"u"?Uu:Headers,K0=(t,e,n)=>{const s=V0(n),r=z0();return(o,i)=>W0(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new r(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),s(o,Object.assign(Object.assign({},i),{headers:u}))})};var J0=function(t,e,n,s){function r(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(c){try{u(s.next(c))}catch(f){i(f)}}function l(c){try{u(s.throw(c))}catch(f){i(f)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};function G0(t){return t.endsWith("/")?t:t+"/"}function Y0(t,e){var n,s;const{db:r,auth:o,realtime:i,global:a}=t,{db:l,auth:u,realtime:c,global:f}=e,h={db:Object.assign(Object.assign({},l),r),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},c),i),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(s=a==null?void 0:a.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>J0(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function X0(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(G0(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const ed="2.75.0",Jn=30*1e3,hi=3,Mo=hi*Jn,Q0="http://localhost:9999",Z0="supabase.auth.token",ev={"X-Client-Info":`gotrue-js/${ed}`},mi="X-Supabase-Api-Version",td={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nv=10*60*1e3;class Bs extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function K(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class sv extends Bs{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function rv(t){return K(t)&&t.name==="AuthApiError"}class En extends Bs{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class fn extends Bs{constructor(e,n,s,r){super(e,s,r),this.name=n,this.status=s}}class en extends fn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ov(t){return K(t)&&t.name==="AuthSessionMissingError"}class Fn extends fn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class lr extends fn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class cr extends fn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function iv(t){return K(t)&&t.name==="AuthImplicitGrantRedirectError"}class yl extends fn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pi extends fn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Do(t){return K(t)&&t.name==="AuthRetryableFetchError"}class bl extends fn{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class gi extends fn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Dr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_l=` 	
\r=`.split(""),av=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<_l.length;e+=1)t[_l[e].charCodeAt(0)]=-2;for(let e=0;e<Dr.length;e+=1)t[Dr[e].charCodeAt(0)]=e;return t})();function xl(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(Dr[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(Dr[s]),e.queuedBits-=6}}function nd(t,e,n){const s=av[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Sl(t){const e=[],n=i=>{e.push(String.fromCodePoint(i))},s={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},o=i=>{uv(i,s,n)};for(let i=0;i<t.length;i+=1)nd(t.charCodeAt(i),r,o);return e.join("")}function lv(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function cv(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const r=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}lv(s,e)}}function uv(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if(!(t>>7-s&1)){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function ns(t){const e=[],n={queue:0,queuedBits:0},s=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)nd(t.charCodeAt(r),n,s);return new Uint8Array(e)}function dv(t){const e=[];return cv(t,n=>e.push(n)),new Uint8Array(e)}function Cn(t){const e=[],n={queue:0,queuedBits:0},s=r=>{e.push(r)};return t.forEach(r=>xl(r,n,s)),xl(null,n,s),e.join("")}function fv(t){return Math.round(Date.now()/1e3)+t}function hv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const it=()=>typeof window<"u"&&typeof document<"u",wn={tested:!1,writable:!1},sd=()=>{if(!it())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wn.tested)return wn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),wn.tested=!0,wn.writable=!0}catch{wn.tested=!0,wn.writable=!1}return wn.writable};function mv(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,o)=>{e[o]=r})}catch{}return n.searchParams.forEach((s,r)=>{e[r]=s}),e}const rd=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Zs(async()=>{const{default:s}=await Promise.resolve().then(()=>ds);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},pv=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Gn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},yn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Xt=async(t,e)=>{await t.removeItem(e)};class mo{constructor(){this.promise=new mo.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}mo.promiseConstructor=Promise;function No(t){const e=t.split(".");if(e.length!==3)throw new gi("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!tv.test(e[s]))throw new gi("JWT not in base64url format");return{header:JSON.parse(Sl(e[0])),payload:JSON.parse(Sl(e[1])),signature:ns(e[2]),raw:{header:e[0],payload:e[1]}}}async function gv(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function vv(t,e){return new Promise((s,r)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await t(o);if(!e(o,null,i)){s(i);return}}catch(i){if(!e(o,i)){r(i);return}}})()})}function wv(t){return("0"+t.toString(16)).substr(-2)}function yv(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let r="";for(let o=0;o<56;o++)r+=n.charAt(Math.floor(Math.random()*s));return r}return crypto.getRandomValues(e),Array.from(e,wv).join("")}async function bv(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(s);return Array.from(r).map(o=>String.fromCharCode(o)).join("")}async function _v(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await bv(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bn(t,e,n=!1){const s=yv();let r=s;n&&(r+="/PASSWORD_RECOVERY"),await Gn(t,`${e}-code-verifier`,r);const o=await _v(s);return[o,s===o?"plain":"s256"]}const xv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Sv(t){const e=t.headers.get(mi);if(!e||!e.match(xv))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function kv(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Ev(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ov=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function qn(t){if(!Ov.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Lo(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function kl(t){return JSON.parse(JSON.stringify(t))}var Tv=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};const _n=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Cv=[502,503,504];async function El(t){var e;if(!pv(t))throw new pi(_n(t),0);if(Cv.includes(t.status))throw new pi(_n(t),t.status);let n;try{n=await t.json()}catch(o){throw new En(_n(o),o)}let s;const r=Sv(t);if(r&&r.getTime()>=td["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new bl(_n(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new en}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new bl(_n(n),t.status,n.weak_password.reasons);throw new sv(_n(n),t.status||500,s)}const Av=(t,e,n,s)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),n))};async function ee(t,e,n,s){var r;const o=Object.assign({},s==null?void 0:s.headers);o[mi]||(o[mi]=td["2024-01-01"].name),s!=null&&s.jwt&&(o.Authorization=`Bearer ${s.jwt}`);const i=(r=s==null?void 0:s.query)!==null&&r!==void 0?r:{};s!=null&&s.redirectTo&&(i.redirect_to=s.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await Rv(t,e,n+a,{headers:o,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function Rv(t,e,n,s,r,o){const i=Av(e,s,r,o);let a;try{a=await t(n,Object.assign({},i))}catch(l){throw console.error(l),new pi(_n(l),0)}if(a.ok||await El(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(l){await El(l)}}function pt(t){var e;let n=null;jv(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=fv(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function Ol(t){const e=pt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function rn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function $v(t){return{data:t,error:null}}function Pv(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:r,verification_type:o}=t,i=Tv(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:s,redirect_to:r,verification_type:o},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function Tl(t){return t}function jv(t){return t.access_token&&t.refresh_token&&t.expires_in}const Uo=["global","local","others"];var Iv=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};class Mv{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=rd(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Uo[0]){if(Uo.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Uo.join(", ")}`);try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:rn})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=Iv(e,["options"]),r=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(r.new_email=s==null?void 0:s.newEmail,delete r.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Pv,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(K(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:rn})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,r,o,i,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(o=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:""},xform:Tl});if(c.error)throw c.error;const f=await c.json(),h=(i=c.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(p=>{const w=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(p.split(";")[1].split("=")[1]);u[`${g}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(K(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){qn(e);try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:rn})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){qn(e);try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:rn})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){qn(e);try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:rn})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){qn(e.userId);try{const{data:n,error:s}=await ee(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:s}}catch(n){if(K(n))return{data:null,error:n};throw n}}async _deleteFactor(e){qn(e.userId),qn(e.id);try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,s,r,o,i,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(o=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:""},xform:Tl});if(c.error)throw c.error;const f=await c.json(),h=(i=c.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(p=>{const w=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(p.split(";")[1].split("=")[1]);u[`${g}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(K(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(K(n))return{data:null,error:n};throw n}}}function Cl(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Hn={debug:!!(globalThis&&sd()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class od extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Dv extends od{}async function Nv(t,e,n){Hn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Hn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async r=>{if(r){Hn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await n()}finally{Hn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw Hn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Dv(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Hn.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Lv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function id(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Uv(t){return parseInt(t,16)}function Fv(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function Bv(t){var e;const{chainId:n,domain:s,expirationTime:r,issuedAt:o=new Date,nonce:i,notBefore:a,requestId:l,resources:u,scheme:c,uri:f,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=id(t.address),p=c?`${c}://${s}`:s,w=t.statement?`${t.statement}
`:"",g=`${p} wants you to sign in with your Ethereum account:
${m}

${w}`;let b=`URI: ${f}
Version: ${h}
Chain ID: ${n}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(r&&(b+=`
Expiration Time: ${r.toISOString()}`),a&&(b+=`
Not Before: ${a.toISOString()}`),l&&(b+=`
Request ID: ${l}`),u){let x=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);x+=`
- ${_}`}b+=x}return`${g}
${b}`}class Pe extends Error{constructor({message:e,code:n,cause:s,name:r}){var o;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(o=r??(s instanceof Error?s.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Nr extends Pe{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function qv({error:t,options:e}){var n,s,r;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Pe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Pe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Pe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Pe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Pe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Pe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Pe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Pe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(ld(i)){if(o.rp.id!==i)return new Pe({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Pe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Pe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Pe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Pe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Hv({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Pe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Pe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(ld(s)){if(n.rpId!==s)return new Pe({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Pe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Pe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Pe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var ad=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};class Wv{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Vv=new Wv;function zv(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:s}=t,r=ad(t,["challenge","user","excludeCredentials"]),o=ns(e).buffer,i=Object.assign(Object.assign({},n),{id:ns(n.id).buffer}),a=Object.assign(Object.assign({},r),{challenge:o,user:i});if(s&&s.length>0){a.excludeCredentials=new Array(s.length);for(let l=0;l<s.length;l++){const u=s[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:ns(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function Kv(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,s=ad(t,["challenge","allowCredentials"]),r=ns(e).buffer,o=Object.assign(Object.assign({},s),{challenge:r});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let i=0;i<n.length;i++){const a=n[i];o.allowCredentials[i]=Object.assign(Object.assign({},a),{id:ns(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function Jv(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Cn(new Uint8Array(t.response.attestationObject)),clientDataJSON:Cn(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Gv(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,s=t.getClientExtensionResults(),r=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Cn(new Uint8Array(r.authenticatorData)),clientDataJSON:Cn(new Uint8Array(r.clientDataJSON)),signature:Cn(new Uint8Array(r.signature)),userHandle:r.userHandle?Cn(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ld(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Al(){var t,e;return!!(it()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Yv(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Nr("Browser returned unexpected credential type",e)}:{data:null,error:new Nr("Empty credential response",e)}}catch(e){return{data:null,error:qv({error:e,options:t})}}}async function Xv(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Nr("Browser returned unexpected credential type",e)}:{data:null,error:new Nr("Empty credential response",e)}}catch(e){return{data:null,error:Hv({error:e,options:t})}}}const Qv={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Zv={userVerification:"preferred",hints:["security-key"]};function Lr(...t){const e=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),n=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),s={};for(const r of t)if(r)for(const o in r){const i=r[o];if(i!==void 0)if(Array.isArray(i))s[o]=i;else if(n(i))s[o]=i;else if(e(i)){const a=s[o];e(a)?s[o]=Lr(a,i):s[o]=Lr(i)}else s[o]=i}return s}function ew(t,e){return Lr(Qv,t,e||{})}function tw(t,e){return Lr(Zv,t,e||{})}class nw{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:s,signal:r},o){try{const{data:i,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!i)return{data:null,error:a};const l=r??Vv.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${s}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=ew(i.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:c,error:f}=await Yv({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:c}},error:null}:{data:null,error:f}}case"request":{const u=tw(i.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:c,error:f}=await Xv(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:c}},error:null}:{data:null,error:f}}}}catch(i){return K(i)?{data:null,error:i}:{data:null,error:new En("Unexpected error in challenge",i)}}}async _verify({challengeId:e,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:r}},o){if(!n)return{data:null,error:new Bs("rpId is required for WebAuthn authentication")};try{if(!Al())return{data:null,error:new En("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:s},signal:r},{request:o});if(!i)return{data:null,error:a};const{webauthn:l}=i;return this._verify({factorId:e,challengeId:i.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:s,credential_response:l.credential_response}})}catch(i){return K(i)?{data:null,error:i}:{data:null,error:new En("Unexpected error in authenticate",i)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:r},o){if(!n)return{data:null,error:new Bs("rpId is required for WebAuthn registration")};try{if(!Al())return{data:null,error:new En("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this._enroll({friendlyName:e});if(!i)return await this.client.mfa.listFactors().then(c=>{var f;return(f=c.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:r},{create:o});return l?this._verify({factorId:i.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:s,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(i){return K(i)?{data:null,error:i}:{data:null,error:new En("Unexpected error in register",i)}}}}Lv();const sw={url:Q0,storageKey:Z0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ev,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Rl(t,e,n){return await n()}const Wn={};class qs{get jwks(){var e,n;return(n=(e=Wn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Wn[this.storageKey]=Object.assign(Object.assign({},Wn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Wn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Wn[this.storageKey]=Object.assign(Object.assign({},Wn[this.storageKey]),{cachedAt:e})}constructor(e){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=qs.nextInstanceID,qs.nextInstanceID+=1,this.instanceID>0&&it()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},sw),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Mv({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=rd(r.fetch),this.lock=r.lock||Rl,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:it()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Nv:this.lock=Rl,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new nw(this)},this.persistSession?(r.storage?this.storage=r.storage:sd()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Cl(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=Cl(this.memoryStorage)),it()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ed}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=mv(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),it()&&this.detectSessionInUrl&&s!=="none"){const{data:r,error:o}=await this._getSessionFromURL(n,s);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),iv(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return K(n)?{error:n}:{error:new En("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,r;try{const o=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:pt}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(K(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var n,s,r;try{let o;if("email"in e){const{email:c,password:f,options:h}=e;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Bn(this.storage,this.storageKey)),o=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:p},xform:pt})}else if("phone"in e){const{phone:c,password:f,options:h}=e;o=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},channel:(r=h==null?void 0:h.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:pt})}else throw new lr("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(K(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:i,options:a}=e;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ol})}else if("phone"in e){const{phone:o,password:i,options:a}=e;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ol})}else throw new lr("You must provide either an email or phone number and a password");const{data:s,error:r}=n;return r?{data:{user:null,session:null},error:r}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Fn}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,s,r,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,r,o,i,a,l,u,c,f,h;let m,p;if("message"in e)m=e.message,p=e.signature;else{const{chain:w,wallet:g,statement:b,options:x}=e;let _;if(it())if(typeof g=="object")_=g;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")_=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const O=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href),U=await _.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!U||U.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const W=id(U[0]);let R=(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!R){const P=await _.request({method:"eth_chainId"});R=Uv(P)}const E={domain:O.host,address:W,statement:b,uri:O.href,version:"1",chainId:R,nonce:(r=x==null?void 0:x.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(i=(o=x==null?void 0:x.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.resources};m=Bv(E),p=await _.request({method:"personal_sign",params:[Fv(m),W]})}try{const{data:w,error:g}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:p},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:pt});if(g)throw g;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Fn}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:g})}catch(w){if(K(w))return{data:{user:null,session:null},error:w};throw w}}async signInWithSolana(e){var n,s,r,o,i,a,l,u,c,f,h,m;let p,w;if("message"in e)p=e.message,w=e.signature;else{const{chain:g,wallet:b,statement:x,options:_}=e;let O;if(it())if(typeof b=="object")O=b;else{const W=window;if("solana"in W&&typeof W.solana=="object"&&("signIn"in W.solana&&typeof W.solana.signIn=="function"||"signMessage"in W.solana&&typeof W.solana.signMessage=="function"))O=W.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=b}const U=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in O&&O.signIn){const W=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),x?{statement:x}:null));let R;if(Array.isArray(W)&&W[0]&&typeof W[0]=="object")R=W[0];else if(W&&typeof W=="object"&&"signedMessage"in W&&"signature"in W)R=W;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)p=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),w=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${U.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(r=(s=_==null?void 0:_.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((i=_==null?void 0:_.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(c=_==null?void 0:_.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const W=await O.signMessage(new TextEncoder().encode(p),"utf8");if(!W||!(W instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=W}}try{const{data:g,error:b}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:Cn(w)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:pt});if(b)throw b;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new Fn}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:b})}catch(g){if(K(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(e){const n=await yn(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(n??"").split("/");try{const{data:o,error:i}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:pt});if(await Xt(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Fn}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:r??null}),error:i})}catch(o){if(K(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:n,provider:s,token:r,access_token:o,nonce:i}=e,a=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:pt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Fn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,s,r,o,i;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Bn(this.storage,this.storageKey));const{error:f}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new lr("You must provide either an email or phone number.")}catch(a){if(K(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,s;try{let r,o;"options"in e&&(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:i,error:a}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:r,xform:pt});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,u=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var n,s,r;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await Bn(this.storage,this.storageKey)),await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:$v})}catch(o){if(K(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new en;const{error:r}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(K(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:r,options:o}=e,{error:i}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:s,type:r,options:o}=e,{data:i,error:a}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new lr("You must provide either an email or phone number and a type")}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await yn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Mo:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const i=await yn(this.userStorage,this.storageKey+"-user");i!=null&&i.user?e.user=i.user:e.user=Lo()}if(this.storage.isServer&&e.user){let i=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{data:r,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:rn}):await this._useSession(async n=>{var s,r,o;const{data:i,error:a}=n;if(a)throw a;return!(!((s=i.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new en}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0,xform:rn})})}catch(n){if(K(n))return ov(n)&&(await this._removeSession(),await Xt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:r,error:o}=s;if(o)throw o;if(!r.session)throw new en;const i=r.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Bn(this.storage,this.storageKey));const{data:u,error:c}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:rn});if(c)throw c;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new en;const n=Date.now()/1e3;let s=n,r=!0,o=null;const{payload:i}=No(e.access_token);if(i.exp&&(s=i.exp,r=s<=n),r){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(K(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:i,error:a}=n;if(a)throw a;e=(s=i.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new en;const{data:r,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!it())throw new cr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new cr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new yl("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cr("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new yl("No code detected.");const{data:x,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:o,refresh_token:i,expires_in:a,expires_at:l,token_type:u}=e;if(!o||!a||!i||!u)throw new cr("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(a);let h=c+f;l&&(h=parseInt(l));const m=h-c;m*1e3<=Jn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const p=h-f;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,c);const{data:w,error:g}=await this._getUser(o);if(g)throw g;const b={provider_token:s,provider_refresh_token:r,access_token:o,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(s){if(K(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await yn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:r,error:o}=n;if(o)return{error:o};const i=(s=r.session)===null||s===void 0?void 0:s.access_token;if(i){const{error:a}=await this.admin.signOut(i,e);if(a&&!(rv(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Xt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=hv(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,r;try{const{data:{session:o},error:i}=n;if(i)throw i;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let s=null,r=null;this.flowType==="pkce"&&([s,r]=await Bn(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(K(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:s,error:r}=await this._useSession(async o=>{var i,a,l,u,c;const{data:f,error:h}=o;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(r)throw r;return it()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(K(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var s;try{const{error:r,data:{session:o}}=n;if(r)throw r;const{options:i,provider:a,token:l,access_token:u,nonce:c}=e,f=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=o==null?void 0:o.access_token)!==null&&s!==void 0?s:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:pt}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Fn}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,r;const{data:o,error:i}=n;if(i)throw i;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await vv(async r=>(r>0&&await gv(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:pt})),(r,o)=>{const i=200*Math.pow(2,r);return o&&Do(o)&&Date.now()+i-s<Jn})}catch(s){if(this._debug(n,"error",s),K(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),it()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await yn(this.storage,this.storageKey);if(r&&this.userStorage){let i=await yn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:r.user},await Gn(this.userStorage,this.storageKey+"-user",i)),r.user=(e=i==null?void 0:i.user)!==null&&e!==void 0?e:Lo()}else if(r&&!r.user&&!r.user){const i=await yn(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(r.user=i.user,await Xt(this.storage,this.storageKey+"-user"),await Gn(this.storage,this.storageKey,r)):r.user=Lo()}if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const o=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Mo;if(this._debug(s,`session has${o?"":" not"} expired with margin of ${Mo}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Do(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(r.access_token);!a&&(i!=null&&i.user)?(r.user=i.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(s,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new en;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new mo;const{data:o,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!o.session)throw new en;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={data:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(r,"error",o),K(o)){const i={data:null,error:o};return Do(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(o),o}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,n,s=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){o.push(l)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Gn(this.userStorage,this.storageKey+"-user",{user:n.user});const r=Object.assign({},n);delete r.user;const o=kl(r);await Gn(this.storage,this.storageKey,o)}else{const r=kl(n);await Gn(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await Xt(this.storage,this.storageKey),await Xt(this.storage,this.storageKey+"-code-verifier"),await Xt(this.storage,this.storageKey+"-user"),this.userStorage&&await Xt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&it()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Jn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((s.expires_at*1e3-e)/Jn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Jn}ms, refresh threshold is ${hi} ticks`),r<=hi&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof od)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!it()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const r=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[o,i]=await Bn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});r.push(a.toString())}if(s!=null&&s.queryParams){const o=new URLSearchParams(s.queryParams);r.push(o.toString())}return s!=null&&s.skipBrowserRedirect&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:r,error:o}=n;return o?{data:null,error:o}:await ee(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,r;const{data:o,error:i}=n;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&l.type==="totp"&&(!((r=l==null?void 0:l.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:o}=n;if(o)return{data:null,error:o};const i=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Jv(e.webauthn.credential_response):Gv(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:i,headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(K(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:o}=n;if(o)return{data:null,error:o};const i=await ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});if(i.error)return i;const{data:a}=i;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:zv(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Kv(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(K(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const r={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])r.all.push(o),o.status==="verified"&&r[o.factor_type].push(o);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,s;const{data:{session:r},error:o}=e;if(o)return{data:null,error:o};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=No(r.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((s=(n=r.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const c=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(a=>a.kid===e);if(s)return s;const r=Date.now();if(s=this.jwks.keys.find(a=>a.kid===e),s&&this.jwks_cached_at+nv>r)return s;const{data:o,error:i}=await ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=r,s=o.keys.find(a=>a.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:m,error:p}=await this.getSession();if(p||!m.session)return{data:null,error:p};s=m.session.access_token}const{header:r,payload:o,signature:i,raw:{header:a,payload:l}}=No(s);n!=null&&n.allowExpired||kv(o.exp);const u=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(s);if(m)throw m;return{data:{claims:o,header:r,signature:i},error:null}}const c=Ev(r.alg),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,i,dv(`${a}.${l}`)))throw new gi("Invalid JWT signature");return{data:{claims:o,header:r,signature:i},error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}}}qs.nextInstanceID=0;const rw=qs;class ow extends rw{constructor(e){super(e)}}var iw=function(t,e,n,s){function r(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(c){try{u(s.next(c))}catch(f){i(f)}}function l(c){try{u(s.throw(c))}catch(f){i(f)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};class aw{constructor(e,n,s){var r,o,i;this.supabaseUrl=e,this.supabaseKey=n;const a=X0(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:B0,realtime:H0,auth:Object.assign(Object.assign({},q0),{storageKey:l}),global:F0},c=Y0(s??{},u);this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(o=c.global.headers)!==null&&o!==void 0?o:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=c.auth)!==null&&i!==void 0?i:{},this.headers,c.global.fetch),this.fetch=K0(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new s0(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new N0(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Ig(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,s)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return iw(this,void 0,void 0,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:r,userStorage:o,storageKey:i,flowType:a,lock:l,debug:u},c,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ow({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:r,userStorage:o,flowType:a,lock:l,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new b0(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,n,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const cd=(t,e,n)=>new aw(t,e,n);function lw(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}lw()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const cw="https://cqqeylhspmpilzgmqfiu.supabase.co",uw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxcWV5bGhzcG1waWx6Z21xZml1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk1MTgxNTcsImV4cCI6MjA3NTA5NDE1N30.SDLuKQmwJu8gXEJX8CNMV5XVVFPnWNxklcfyOqnVtgw",Ut=cd(cw,uw);class dw{async login(e,n){try{console.log("OrganizacoesService: Tentando login:",e);const{data:s,error:r}=await Ut.from("funcionarios").select(`
          id, nome, email, senha, cargo, role, ativo, ultimo_login,
          organizacao_id
        `).eq("email",e).eq("ativo",!0).single();if(console.log("OrganizacoesService: Resposta login:",{data:s,error:r}),r||!s)return{success:!1,error:"Credenciais inválidas"};if(s.senha!==n)return{success:!1,error:"Senha incorreta"};let o="Organização não encontrada",i="desconhecido";if(s.organizacao_id){const{data:a}=await Ut.from("organizacoes").select("nome, tipo").eq("id",s.organizacao_id).single();a&&(o=a.nome,i=a.tipo)}return await Ut.from("funcionarios").update({ultimo_login:new Date().toISOString()}).eq("id",s.id),{success:!0,funcionario:{...s,organizacao_nome:o,organizacao_tipo:i}}}catch(s){return console.error("Erro no login:",s),{success:!1,error:"Erro interno do servidor"}}}async getOrganizacoes(){try{console.log("OrganizacoesService: Buscando organizações...");const{data:e,error:n}=await Ut.from("organizacoes").select("*").eq("ativo",!0).order("tipo, nome");if(console.log("OrganizacoesService: Resposta organizações:",{data:e,error:n}),n)throw n;return{success:!0,organizacoes:e}}catch(e){return console.error("Erro ao buscar organizações:",e),{success:!1,error:"Erro ao buscar organizações"}}}async getFiliais(){try{console.log("OrganizacoesService: Buscando filiais...");const{data:e,error:n}=await Ut.from("organizacoes").select("*").eq("tipo","filial").eq("ativo",!0).order("nome");if(console.log("OrganizacoesService: Resposta filiais:",{data:e,error:n}),n)throw n;return{success:!0,filiais:e}}catch(e){return console.error("Erro ao buscar filiais:",e),{success:!1,error:"Erro ao buscar filiais"}}}async criarFilial(e){try{console.log("OrganizacoesService: Criando filial:",e);const{data:n,error:s}=await Ut.from("organizacoes").insert([{...e,tipo:"filial",matriz_id:"matriz",ativo:!0}]).select().single();if(console.log("OrganizacoesService: Resposta criar filial:",{data:n,error:s}),s)throw s;return{success:!0,filial:n}}catch(n){return console.error("Erro ao criar filial:",n),{success:!1,error:"Erro ao criar filial"}}}async getFuncionarios(e){try{console.log("OrganizacoesService: Buscando funcionários de:",e);const{data:n,error:s}=await Ut.from("funcionarios").select(`
          id, nome, email, cargo, role, ativo, ultimo_login, created_at,
          organizacoes(nome)
        `).eq("organizacao_id",e).order("nome");if(console.log("OrganizacoesService: Resposta funcionários:",{data:n,error:s}),s)throw s;return{success:!0,funcionarios:n}}catch(n){return console.error("Erro ao buscar funcionários:",n),{success:!1,error:"Erro ao buscar funcionários"}}}async criarFuncionario(e){try{console.log("OrganizacoesService: Criando funcionário:",e);const{data:n,error:s}=await Ut.from("funcionarios").insert([{...e,ativo:!0}]).select().single();if(console.log("OrganizacoesService: Resposta criar funcionário:",{data:n,error:s}),s)throw s;return{success:!0,funcionario:n}}catch(n){return console.error("Erro ao criar funcionário:",n),{success:!1,error:"Erro ao criar funcionário"}}}async registrarAtividade(e,n,s,r={}){try{const{error:o}=await Ut.from("atividades_funcionarios").insert([{funcionario_id:e,tipo_atividade:n,descricao:s,dados_extras:r,resultado:"success"}]);if(o)throw o;return{success:!0}}catch(o){return console.error("Erro ao registrar atividade:",o),{success:!1}}}}const ln=new dw,hn=Xh("auth",()=>{const t=J(null),e=J(null),n=J(!1),s=J(null),r=Ne(()=>!!t.value&&!!e.value);return{user:t,token:e,isLoading:n,error:s,isAuthenticated:r,initializeAuth:()=>{const u=localStorage.getItem("auth_token"),c=localStorage.getItem("auth_user");u&&c&&(e.value=u,t.value=JSON.parse(c),It.setAuthToken(u))},login:async(u,c)=>{try{n.value=!0,s.value=null,console.log("AuthStore: Tentando login com:",u);const f=await ln.login(u,c);return console.log("AuthStore: Resposta do login:",f),f.success&&f.funcionario?(t.value=f.funcionario,e.value="func_token_"+Date.now(),localStorage.setItem("auth_token",e.value),localStorage.setItem("auth_user",JSON.stringify(f.funcionario)),It.setAuthToken(e.value),console.log("AuthStore: Login realizado com sucesso:",f.funcionario),!0):(s.value=f.error||"Erro ao fazer login",console.error("AuthStore: Erro no login:",f.error),!1)}catch(f){return s.value="Erro de conexão",console.error("AuthStore: Erro de conexão:",f),!1}finally{n.value=!1}},logout:()=>{t.value=null,e.value=null,s.value=null,localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),It.setAuthToken(null)},clearError:()=>{s.value=null}}}),fw={id:"app",class:"min-h-screen bg-gray-950 text-white font-inter"},hw=st({__name:"App",setup(t){const e=hn();return Gt(()=>{e.initializeAuth()}),(n,s)=>(j(),H("div",fw,[G(xe(hu))]))}}),mw={class:"min-h-screen relative overflow-hidden bg-gray-950"},pw={class:"relative z-10 min-h-screen flex"},gw={class:"w-full lg:w-1/2 flex items-center justify-center p-8"},vw={class:"w-full max-w-md"},ww={class:"card-glass glow-effect animate-fade-in"},yw={class:"space-y-4"},bw={class:"relative"},_w={class:"relative"},xw={key:0,class:"p-4 bg-red-500/10 border border-red-500/20 rounded-xl"},Sw={class:"flex items-center space-x-2"},kw={class:"text-red-400 text-sm"},Ew=["disabled"],Ow={key:0,class:"flex items-center justify-center"},Tw={key:1,class:"flex items-center justify-center"},Cw=st({__name:"LoginView",setup(t){const e=Mn(),n=hn(),s=J(""),r=J(""),o=async()=>{if(n.clearError(),await n.login(s.value,r.value)){const a=n.user;(a==null?void 0:a.organizacao_tipo)==="matriz"&&(a==null?void 0:a.role)==="admin"?e.push("/admin/dashboard"):e.push("/dashboard")}};return(i,a)=>(j(),H("div",mw,[a[11]||(a[11]=gr('<div class="absolute inset-0 bg-gradient-to-br from-blue-900/20 via-gray-900 to-purple-900/20"></div><div class="absolute inset-0"><div class="absolute top-10 left-10 w-72 h-72 bg-blue-500/10 rounded-full blur-3xl animate-pulse-slow"></div><div class="absolute bottom-10 right-10 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl animate-pulse-slow delay-1000"></div><div class="absolute top-1/2 left-1/3 w-64 h-64 bg-cyan-500/5 rounded-full blur-2xl animate-pulse-slow delay-2000"></div></div>',2)),d("div",pw,[a[10]||(a[10]=gr('<div class="hidden lg:flex lg:w-1/2 flex-col justify-center items-center p-12 text-center"><div class="animate-fade-in"><div class="mb-8 relative"><div class="w-24 h-12 bg-gradient-to-r from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-2xl transform rotate-3 hover:rotate-0 transition-transform duration-300"><span class="text-white font-black text-xl tracking-wider">DNOTAS</span></div><div class="absolute -inset-4 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-2xl blur-xl opacity-50"></div></div><h1 class="text-5xl font-bold mb-6 bg-gradient-to-r from-blue-400 via-blue-500 to-purple-500 bg-clip-text text-transparent"> Sistema de Gerenciamento </h1><p class="text-xl text-gray-400 mb-8 max-w-md leading-relaxed"> Plataforma completa para gestão de clientes, atendimento e relatórios financeiros </p><div class="flex items-center space-x-8 text-gray-500"><div class="flex items-center space-x-2"><div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div><span class="text-sm">Sistema Online</span></div><div class="flex items-center space-x-2"><div class="w-2 h-2 bg-blue-400 rounded-full animate-pulse delay-500"></div><span class="text-sm">Tempo Real</span></div><div class="flex items-center space-x-2"><div class="w-2 h-2 bg-purple-400 rounded-full animate-pulse delay-1000"></div><span class="text-sm">Seguro</span></div></div></div></div>',1)),d("div",gw,[d("div",vw,[d("div",ww,[a[9]||(a[9]=gr('<div class="text-center mb-8"><div class="lg:hidden mb-6"><div class="w-20 h-10 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mx-auto shadow-xl"><span class="text-white font-bold text-lg">DNOTAS</span></div></div><h2 class="text-3xl font-bold mb-2 bg-gradient-to-r from-blue-400 to-blue-500 bg-clip-text text-transparent"> Bem-vindo de volta </h2><p class="text-gray-400"> Acesse seu painel administrativo </p></div>',1)),d("form",{onSubmit:$n(o,["prevent"]),class:"space-y-6"},[d("div",yw,[d("div",bw,[a[2]||(a[2]=d("label",{for:"email",class:"block text-sm font-medium text-gray-300 mb-2"}," Email ",-1)),ue(d("input",{id:"email","onUpdate:modelValue":a[0]||(a[0]=l=>s.value=l),type:"email",required:"",class:"input-field",placeholder:"admin@dnotas.com"},null,512),[[Se,s.value]]),a[3]||(a[3]=d("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[d("svg",{class:"h-5 w-5 text-gray-500 mt-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})])],-1))]),d("div",_w,[a[4]||(a[4]=d("label",{for:"password",class:"block text-sm font-medium text-gray-300 mb-2"}," Senha ",-1)),ue(d("input",{id:"password","onUpdate:modelValue":a[1]||(a[1]=l=>r.value=l),type:"password",required:"",class:"input-field",placeholder:"••••••••"},null,512),[[Se,r.value]]),a[5]||(a[5]=d("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[d("svg",{class:"h-5 w-5 text-gray-500 mt-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])],-1))])]),xe(n).error?(j(),H("div",xw,[d("div",Sw,[a[6]||(a[6]=d("svg",{class:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),d("span",kw,L(xe(n).error),1)])])):Te("",!0),d("button",{type:"submit",disabled:xe(n).isLoading,class:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:transform-none relative overflow-hidden group"},[xe(n).isLoading?(j(),H("span",Ow,[...a[7]||(a[7]=[d("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),ke(" Entrando... ",-1)])])):(j(),H("span",Tw,[...a[8]||(a[8]=[d("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})],-1),ke(" Entrar no Sistema ",-1)])]))],8,Ew)],32)])])])])]))}}),Aw="https://cqqeylhspmpilzgmqfiu.supabase.co",Rw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxcWV5bGhzcG1waWx6Z21xZml1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk1MTgxNTcsImV4cCI6MjA3NTA5NDE1N30.SDLuKQmwJu8gXEJX8CNMV5XVVFPnWNxklcfyOqnVtgw",Ft=cd(Aw,Rw);class $w{async login(e,n){var s;try{const{data:r,error:o}=await Ft.from("funcionarios").select(`
          id, nome, email, cargo, role, ativo, ultimo_login,
          filial_id, filiais(nome)
        `).eq("email",e).eq("ativo",!0).single();return o||!r?{success:!1,error:"Credenciais inválidas"}:{"admin@dnotas.com":"admin123","gestor@dnotas.com":"gestor123","maria.silva@dnotas.com":"funcionario123","joao.santos@dnotas.com":"funcionario123","ana.costa@dnotas.com":"funcionario123","carlos.oliveira@dnotas.com":"funcionario123","paula.lima@dnotas.com":"funcionario123"}[e]!==n?{success:!1,error:"Senha incorreta"}:(await Ft.from("funcionarios").update({ultimo_login:new Date().toISOString()}).eq("id",r.id),await this.registrarAtividade(r.id,"login","Login realizado no sistema",{ip:"web",navegador:navigator.userAgent}),{success:!0,funcionario:{...r,filial_nome:(s=r.filiais)==null?void 0:s.nome}})}catch(r){return console.error("Erro no login:",r),{success:!1,error:"Erro interno do servidor"}}}async getFuncionarios(e){try{const{data:n,error:s}=await Ft.from("funcionarios").select(`
          id, nome, email, cargo, role, ativo, ultimo_login, created_at,
          filiais(nome)
        `).eq("filial_id",e).order("nome");if(s)throw s;return{success:!0,funcionarios:n}}catch(n){return console.error("Erro ao buscar funcionários:",n),{success:!1,error:"Erro ao buscar funcionários"}}}async criarFuncionario(e){try{const{data:n,error:s}=await Ft.from("funcionarios").insert([{...e,ativo:!0}]).select().single();if(s)throw s;return{success:!0,funcionario:n}}catch(n){return console.error("Erro ao criar funcionário:",n),{success:!1,error:"Erro ao criar funcionário"}}}async atualizarFuncionario(e,n){try{const{data:s,error:r}=await Ft.from("funcionarios").update(n).eq("id",e).select().single();if(r)throw r;return{success:!0,funcionario:s}}catch(s){return console.error("Erro ao atualizar funcionário:",s),{success:!1,error:"Erro ao atualizar funcionário"}}}async desativarFuncionario(e){try{const{error:n}=await Ft.from("funcionarios").update({ativo:!1}).eq("id",e);if(n)throw n;return{success:!0}}catch(n){return console.error("Erro ao desativar funcionário:",n),{success:!1,error:"Erro ao desativar funcionário"}}}async registrarAtividade(e,n,s,r={},o){try{const{error:i}=await Ft.from("atividades_funcionarios").insert([{funcionario_id:e,tipo_atividade:n,descricao:s,dados_extras:r,cliente_cnpj:o,resultado:"success"}]);if(i)throw i;return{success:!0}}catch(i){return console.error("Erro ao registrar atividade:",i),{success:!1}}}async getAtividades(e,n=50){try{const{data:s,error:r}=await Ft.from("atividades_funcionarios").select("*").eq("funcionario_id",e).order("created_at",{ascending:!1}).limit(n);if(r)throw r;return{success:!0,atividades:s}}catch(s){return console.error("Erro ao buscar atividades:",s),{success:!1,error:"Erro ao buscar atividades"}}}async getFiliais(){try{console.log("FuncionariosService: Buscando filiais...");const{data:e,error:n}=await Ft.from("filiais").select("*").eq("ativo",!0).order("nome");if(console.log("FuncionariosService: Resposta Supabase filiais:",{data:e,error:n}),n)throw n;return{success:!0,filiais:e}}catch(e){return console.error("Erro ao buscar filiais:",e),{success:!1,error:"Erro ao buscar filiais"}}}}const $l=new $w,Pw={class:"min-h-screen relative overflow-hidden bg-gray-950"},jw={class:"relative z-10 min-h-screen flex items-center justify-center p-8"},Iw={class:"w-full max-w-md"},Mw={class:"card-glass glow-effect animate-fade-in"},Dw={class:"space-y-4"},Nw=["value"],Lw={key:0,class:"p-4 bg-red-500/10 border border-red-500/20 rounded-xl"},Uw={class:"flex items-center space-x-2"},Fw={class:"text-red-400 text-sm"},Bw={key:1,class:"p-4 bg-green-500/10 border border-green-500/20 rounded-xl"},qw={class:"space-y-3"},Hw=["disabled"],Ww={key:0,class:"flex items-center justify-center"},Vw={key:1},zw=st({__name:"RegisterView",setup(t){const e=Mn(),n=J({nome:"",email:"",cargo:"",filial_id:"",role:"operator",senha:""}),s=J(""),r=J([]),o=J(!1),i=J(""),a=J(!1);Gt(async()=>{console.log("RegisterView: Carregando filiais...");try{const u=await $l.getFiliais();console.log("RegisterView: Resposta getFiliais:",u),u.success?(r.value=u.filiais,console.log("RegisterView: Filiais carregadas:",r.value)):console.error("RegisterView: Erro ao carregar filiais:",u.error)}catch(u){console.error("RegisterView: Erro na requisição:",u)}});const l=async()=>{if(console.log("RegisterView: handleRegister chamado"),n.value.senha!==s.value){i.value="As senhas não coincidem";return}if(n.value.senha.length<6){i.value="A senha deve ter pelo menos 6 caracteres";return}try{o.value=!0,i.value="",a.value=!1,console.log("RegisterView: Dados do formulário:",n.value);const u=await $l.criarFuncionario(n.value);console.log("RegisterView: Resposta do cadastro:",u),u.success?(a.value=!0,n.value={nome:"",email:"",cargo:"",filial_id:"",role:"operator",senha:""},s.value="",setTimeout(()=>{e.push("/login")},2e3)):i.value=u.error||"Erro ao cadastrar funcionário"}catch(u){i.value="Erro de conexão",console.error("Register error:",u)}finally{o.value=!1}};return(u,c)=>{const f=Xr("router-link");return j(),H("div",Pw,[c[23]||(c[23]=d("div",{class:"absolute inset-0 bg-gradient-to-br from-blue-900/20 via-gray-900 to-purple-900/20"},null,-1)),c[24]||(c[24]=d("div",{class:"absolute inset-0"},[d("div",{class:"absolute top-10 left-10 w-72 h-72 bg-blue-500/10 rounded-full blur-3xl animate-pulse-slow"}),d("div",{class:"absolute bottom-10 right-10 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl animate-pulse-slow delay-1000"})],-1)),d("div",jw,[d("div",Iw,[d("div",Mw,[c[22]||(c[22]=gr('<div class="text-center mb-8"><div class="mb-6"><div class="w-20 h-10 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mx-auto shadow-xl"><span class="text-white font-bold text-lg">DNOTAS</span></div></div><h2 class="text-3xl font-bold mb-2 bg-gradient-to-r from-blue-400 to-blue-500 bg-clip-text text-transparent"> Cadastrar Funcionário </h2><p class="text-gray-400"> Criar nova conta para funcionário </p></div>',1)),d("form",{onSubmit:$n(l,["prevent"]),class:"space-y-6"},[d("div",Dw,[d("div",null,[c[9]||(c[9]=d("label",{for:"nome",class:"block text-sm font-medium text-gray-300 mb-2"}," Nome Completo ",-1)),ue(d("input",{id:"nome","onUpdate:modelValue":c[0]||(c[0]=h=>n.value.nome=h),type:"text",required:"",class:"input-field",placeholder:"João Silva Santos"},null,512),[[Se,n.value.nome]])]),d("div",null,[c[10]||(c[10]=d("label",{for:"email",class:"block text-sm font-medium text-gray-300 mb-2"}," Email ",-1)),ue(d("input",{id:"email","onUpdate:modelValue":c[1]||(c[1]=h=>n.value.email=h),type:"email",required:"",class:"input-field",placeholder:"joao.silva@dnotas.com"},null,512),[[Se,n.value.email]])]),d("div",null,[c[11]||(c[11]=d("label",{for:"cargo",class:"block text-sm font-medium text-gray-300 mb-2"}," Cargo ",-1)),ue(d("input",{id:"cargo","onUpdate:modelValue":c[2]||(c[2]=h=>n.value.cargo=h),type:"text",required:"",class:"input-field",placeholder:"Atendente, Analista, Gerente..."},null,512),[[Se,n.value.cargo]])]),d("div",null,[c[13]||(c[13]=d("label",{for:"filial",class:"block text-sm font-medium text-gray-300 mb-2"}," Filial ",-1)),ue(d("select",{id:"filial","onUpdate:modelValue":c[3]||(c[3]=h=>n.value.filial_id=h),required:"",class:"input-field",onChange:c[4]||(c[4]=h=>console.log("Filial selecionada:",n.value.filial_id))},[c[12]||(c[12]=d("option",{value:""},"Selecione a filial",-1)),(j(!0),H(ge,null,Ye(r.value,h=>(j(),H("option",{key:h.id,value:h.id},L(h.tipo==="matriz"?"🏢":"🏪")+" "+L(h.nome),9,Nw))),128))],544),[[On,n.value.filial_id]])]),d("div",null,[c[15]||(c[15]=d("label",{for:"role",class:"block text-sm font-medium text-gray-300 mb-2"}," Perfil de Acesso ",-1)),ue(d("select",{id:"role","onUpdate:modelValue":c[5]||(c[5]=h=>n.value.role=h),required:"",class:"input-field"},[...c[14]||(c[14]=[d("option",{value:"operator"},"👤 Operador",-1),d("option",{value:"manager"},"👨‍💼 Gerente",-1),d("option",{value:"admin"},"👑 Administrador",-1)])],512),[[On,n.value.role]])]),d("div",null,[c[16]||(c[16]=d("label",{for:"senha",class:"block text-sm font-medium text-gray-300 mb-2"}," Senha ",-1)),ue(d("input",{id:"senha","onUpdate:modelValue":c[6]||(c[6]=h=>n.value.senha=h),type:"password",required:"",class:"input-field",placeholder:"••••••••",minlength:"6"},null,512),[[Se,n.value.senha]])]),d("div",null,[c[17]||(c[17]=d("label",{for:"confirmarSenha",class:"block text-sm font-medium text-gray-300 mb-2"}," Confirmar Senha ",-1)),ue(d("input",{id:"confirmarSenha","onUpdate:modelValue":c[7]||(c[7]=h=>s.value=h),type:"password",required:"",class:"input-field",placeholder:"••••••••"},null,512),[[Se,s.value]])])]),i.value?(j(),H("div",Lw,[d("div",Uw,[c[18]||(c[18]=d("svg",{class:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),d("span",Fw,L(i.value),1)])])):Te("",!0),a.value?(j(),H("div",Bw,[...c[19]||(c[19]=[d("div",{class:"flex items-center space-x-2"},[d("svg",{class:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),d("span",{class:"text-green-400 text-sm"},"Funcionário cadastrado com sucesso!")],-1)])])):Te("",!0),d("div",qw,[d("button",{type:"submit",disabled:o.value,class:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",onClick:c[8]||(c[8]=h=>console.log("Botão clicado!"))},[o.value?(j(),H("span",Ww,[...c[20]||(c[20]=[d("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),ke(" Cadastrando... ",-1)])])):(j(),H("span",Vw,"Cadastrar Funcionário"))],8,Hw),G(f,{to:"/login",class:"w-full btn-secondary text-center block"},{default:De(()=>[...c[21]||(c[21]=[ke(" ← Voltar ao Login ",-1)])]),_:1})])],32)])])])])}}});function Kw(t,e){return j(),ie("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[G("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})])}function Ur(t,e){return j(),ie("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[G("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})])}function Jw(t,e){return j(),ie("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[G("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])}function Gw(t,e){return j(),ie("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[G("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),G("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})])}function vi(t,e){return j(),ie("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[G("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function wi(t,e){return j(),ie("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[G("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])}function Yw(t,e){return j(),ie("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[G("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})])}function Pl(t,e){return j(),ie("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[G("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})])}function Xw(t,e){return j(),ie("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[G("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])}function Qw(t,e){return j(),ie("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[G("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 6h16M4 12h16M4 18h16"})])}function Zw(t,e){return j(),ie("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[G("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})])}function ey(t,e){return j(),ie("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[G("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})])}function ty(t,e){return j(),ie("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[G("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})])}function ny(t,e){return j(),ie("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[G("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})])}function ud(t,e){return j(),ie("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[G("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])}function sy(t,e){return j(),ie("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[G("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])}function yi(t,e){return j(),ie("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[G("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])}const ry={class:"flex h-screen bg-gray-950"},oy={class:"hidden md:flex md:w-72 md:flex-col"},iy={class:"flex flex-col flex-grow pt-6 pb-4 overflow-y-auto bg-gray-900/50 backdrop-blur-xl border-r border-gray-800/50"},ay={class:"flex-grow flex flex-col"},ly={class:"flex-1 px-4 space-y-2"},cy={class:"font-medium"},uy={class:"flex-shrink-0 border-t border-gray-800/50 p-4"},dy={class:"flex items-center p-3 bg-gray-800/30 rounded-xl border border-gray-700/50"},fy={class:"flex-shrink-0"},hy={class:"h-10 w-10 rounded-xl bg-gradient-to-r from-blue-500 to-blue-600 flex items-center justify-center shadow-lg"},my={class:"text-white text-sm font-bold"},py={class:"ml-3 flex-1"},gy={class:"text-sm font-medium text-white"},vy={class:"text-xs text-gray-400 capitalize"},wy={class:"flex flex-col w-0 flex-1 overflow-hidden"},yy={class:"relative z-10 flex-shrink-0 flex h-16 bg-gray-900/80 backdrop-blur-xl border-b border-gray-800/50"},by={class:"flex-1 px-6 flex justify-between items-center"},_y={class:"flex-1 max-w-lg"},xy={class:"relative"},Sy={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},ky={class:"ml-6 flex items-center space-x-4"},Ey={type:"button",class:"relative p-2 text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-xl transition-colors hover:bg-gray-800/50"},Oy={key:0,class:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 rounded-full flex items-center justify-center text-white text-xs font-bold border-2 border-gray-900"},Ty={class:"flex-1 relative overflow-y-auto focus:outline-none bg-gray-950"},mn=st({__name:"AppLayout",setup(t){const e=Mn(),n=hn(),s=J(!1);J(!1);const r=J(""),o=J(5),i=Ne(()=>{const u=n.user;return(u==null?void 0:u.organizacao_tipo)==="matriz"&&(u==null?void 0:u.role)==="admin"?[{name:"admin-dashboard",label:"Dashboard Admin",href:"/admin/dashboard",icon:Pl},{name:"admin-filiais",label:"Gestão de Filiais",href:"/admin/filiais",icon:Zw},{name:"admin-funcionarios",label:"Funcionários",href:"/admin/funcionarios",icon:sy},{name:"clients",label:"Clientes",href:"/clients",icon:yi},{name:"reports",label:"Relatórios",href:"/reports",icon:wi},{name:"financial",label:"Financeiro",href:"/financial",icon:vi},{name:"chat",label:"Atendimento",href:"/chat",icon:Ur,badge:3,badgeClass:"bg-red-100 text-red-800"}]:[{name:"dashboard",label:"Dashboard",href:"/dashboard",icon:Pl},{name:"chat",label:"Atendimento",href:"/chat",icon:Ur,badge:3,badgeClass:"bg-red-100 text-red-800"},{name:"clients",label:"Clientes",href:"/clients",icon:yi},{name:"reports",label:"Relatórios",href:"/reports",icon:wi},{name:"financial",label:"Financeiro",href:"/financial",icon:vi}]}),a=Ne(()=>{var c;return(((c=n.user)==null?void 0:c.nome)||"Admin").split(" ").map(f=>f[0]).join("").toUpperCase()}),l=()=>{n.logout(),e.push("/login")};return(u,c)=>{var h,m;const f=Xr("router-link");return j(),H("div",ry,[d("div",oy,[d("div",iy,[c[3]||(c[3]=d("div",{class:"flex items-center flex-shrink-0 px-6 mb-8"},[d("div",{class:"h-10 w-20 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg"},[d("span",{class:"text-white font-bold text-sm tracking-wider"},"DNOTAS")])],-1)),d("div",ay,[d("nav",ly,[(j(!0),H(ge,null,Ye(i.value,p=>(j(),ie(f,{key:p.name,to:p.href,class:Ee(["sidebar-item group",{active:u.$route.name===p.name}])},{default:De(()=>[(j(),ie(fr(p.icon),{class:"mr-3 flex-shrink-0 h-5 w-5","aria-hidden":"true"})),d("span",cy,L(p.label),1),p.badge?(j(),H("span",{key:0,class:Ee(["ml-auto inline-flex items-center px-2 py-1 text-xs font-bold rounded-full",p.badgeClass||"bg-red-500/20 text-red-400 border border-red-500/30"])},L(p.badge),3)):Te("",!0)]),_:2},1032,["to","class"]))),128))])]),d("div",uy,[d("div",dy,[d("div",fy,[d("div",hy,[d("span",my,L(a.value),1)])]),d("div",py,[d("p",gy,L(((h=xe(n).user)==null?void 0:h.nome)||"Usuário"),1),d("p",vy,L(((m=xe(n).user)==null?void 0:m.organizacao_nome)||"DNOTAS"),1)]),d("button",{onClick:l,class:"ml-2 p-2 text-gray-400 hover:text-red-400 transition-colors rounded-lg hover:bg-gray-800/50",title:"Sair"},[...c[2]||(c[2]=[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1)])])])])])]),d("div",wy,[d("div",yy,[d("button",{type:"button",class:"px-4 border-r border-gray-800/50 text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 md:hidden transition-colors",onClick:c[0]||(c[0]=p=>s.value=!0)},[c[4]||(c[4]=d("span",{class:"sr-only"},"Open sidebar",-1)),G(xe(Qw),{class:"h-6 w-6","aria-hidden":"true"})]),d("div",by,[d("div",_y,[d("div",xy,[d("div",Sy,[G(xe(ud),{class:"h-5 w-5 text-gray-500","aria-hidden":"true"})]),ue(d("input",{"onUpdate:modelValue":c[1]||(c[1]=p=>r.value=p),class:"block w-full pl-10 pr-3 py-2 bg-gray-800/50 border border-gray-700/50 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Buscar clientes, mensagens...",type:"search"},null,512),[[Se,r.value]])])]),d("div",ky,[d("button",Ey,[c[5]||(c[5]=d("span",{class:"sr-only"},"View notifications",-1)),G(xe(Kw),{class:"h-6 w-6","aria-hidden":"true"}),o.value>0?(j(),H("span",Oy,L(o.value),1)):Te("",!0)]),c[6]||(c[6]=d("div",{class:"flex items-center space-x-2 px-3 py-2 bg-green-500/10 border border-green-500/20 rounded-xl"},[d("div",{class:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),d("span",{class:"text-green-400 text-sm font-medium"},"Online")],-1))])])]),d("main",Ty,[Of(u.$slots,"default")])])])}}});function ve(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function un(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const dd=6048e5,Cy=864e5,ur=43200,jl=1440;let Ay={};function nr(){return Ay}function Hs(t,e){var a,l,u,c;const n=nr(),s=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,r=ve(t),o=r.getDay(),i=(o<s?7:0)+o-s;return r.setDate(r.getDate()-i),r.setHours(0,0,0,0),r}function Fr(t){return Hs(t,{weekStartsOn:1})}function fd(t){const e=ve(t),n=e.getFullYear(),s=un(t,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const r=Fr(s),o=un(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const i=Fr(o);return e.getTime()>=r.getTime()?n+1:e.getTime()>=i.getTime()?n:n-1}function Il(t){const e=ve(t);return e.setHours(0,0,0,0),e}function Br(t){const e=ve(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Ry(t,e){const n=Il(t),s=Il(e),r=+n-Br(n),o=+s-Br(s);return Math.round((r-o)/Cy)}function $y(t){const e=fd(t),n=un(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Fr(n)}function _r(t,e){const n=ve(t),s=ve(e),r=n.getTime()-s.getTime();return r<0?-1:r>0?1:r}function Py(t){return un(t,Date.now())}function jy(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Iy(t){if(!jy(t)&&typeof t!="number")return!1;const e=ve(t);return!isNaN(Number(e))}function My(t,e){const n=ve(t),s=ve(e),r=n.getFullYear()-s.getFullYear(),o=n.getMonth()-s.getMonth();return r*12+o}function Dy(t){return e=>{const s=(t?Math[t]:Math.trunc)(e);return s===0?0:s}}function Ny(t,e){return+ve(t)-+ve(e)}function Ly(t){const e=ve(t);return e.setHours(23,59,59,999),e}function Uy(t){const e=ve(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Fy(t){const e=ve(t);return+Ly(e)==+Uy(e)}function By(t,e){const n=ve(t),s=ve(e),r=_r(n,s),o=Math.abs(My(n,s));let i;if(o<1)i=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-r*o);let a=_r(n,s)===-r;Fy(ve(t))&&o===1&&_r(t,s)===1&&(a=!1),i=r*(o-Number(a))}return i===0?0:i}function qy(t,e,n){const s=Ny(t,e)/1e3;return Dy(n==null?void 0:n.roundingMethod)(s)}function Hy(t){const e=ve(t),n=un(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Wy={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Vy=(t,e,n)=>{let s;const r=Wy[t];return typeof r=="string"?s=r:e===1?s=r.one:s=r.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function ss(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const zy={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ky={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Jy={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Gy={date:ss({formats:zy,defaultWidth:"full"}),time:ss({formats:Ky,defaultWidth:"full"}),dateTime:ss({formats:Jy,defaultWidth:"full"})},Yy={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Xy=(t,e,n,s)=>Yy[t];function Pt(t){return(e,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let r;if(s==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):i;r=t.formattingValues[a]||t.formattingValues[i]}else{const i=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;r=t.values[a]||t.values[i]}const o=t.argumentCallback?t.argumentCallback(e):e;return r[o]}}const Qy={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Zy={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},eb={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},tb={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nb={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},sb={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rb=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},ob={ordinalNumber:rb,era:Pt({values:Qy,defaultWidth:"wide"}),quarter:Pt({values:Zy,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Pt({values:eb,defaultWidth:"wide"}),day:Pt({values:tb,defaultWidth:"wide"}),dayPeriod:Pt({values:nb,defaultWidth:"wide",formattingValues:sb,defaultFormattingWidth:"wide"})};function jt(t){return(e,n={})=>{const s=n.width,r=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],o=e.match(r);if(!o)return null;const i=o[0],a=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?ab(a,f=>f.test(i)):ib(a,f=>f.test(i));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(i.length);return{value:u,rest:c}}}function ib(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function ab(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function hd(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const r=s[0],o=e.match(t.parsePattern);if(!o)return null;let i=t.valueCallback?t.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;const a=e.slice(r.length);return{value:i,rest:a}}}const lb=/^(\d+)(th|st|nd|rd)?/i,cb=/\d+/i,ub={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},db={any:[/^b/i,/^(a|c)/i]},fb={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},hb={any:[/1/i,/2/i,/3/i,/4/i]},mb={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},pb={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gb={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vb={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wb={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},yb={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bb={ordinalNumber:hd({matchPattern:lb,parsePattern:cb,valueCallback:t=>parseInt(t,10)}),era:jt({matchPatterns:ub,defaultMatchWidth:"wide",parsePatterns:db,defaultParseWidth:"any"}),quarter:jt({matchPatterns:fb,defaultMatchWidth:"wide",parsePatterns:hb,defaultParseWidth:"any",valueCallback:t=>t+1}),month:jt({matchPatterns:mb,defaultMatchWidth:"wide",parsePatterns:pb,defaultParseWidth:"any"}),day:jt({matchPatterns:gb,defaultMatchWidth:"wide",parsePatterns:vb,defaultParseWidth:"any"}),dayPeriod:jt({matchPatterns:wb,defaultMatchWidth:"any",parsePatterns:yb,defaultParseWidth:"any"})},md={code:"en-US",formatDistance:Vy,formatLong:Gy,formatRelative:Xy,localize:ob,match:bb,options:{weekStartsOn:0,firstWeekContainsDate:1}};function _b(t){const e=ve(t);return Ry(e,Hy(e))+1}function xb(t){const e=ve(t),n=+Fr(e)-+$y(e);return Math.round(n/dd)+1}function pd(t,e){var c,f,h,m;const n=ve(t),s=n.getFullYear(),r=nr(),o=(e==null?void 0:e.firstWeekContainsDate)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,i=un(t,0);i.setFullYear(s+1,0,o),i.setHours(0,0,0,0);const a=Hs(i,e),l=un(t,0);l.setFullYear(s,0,o),l.setHours(0,0,0,0);const u=Hs(l,e);return n.getTime()>=a.getTime()?s+1:n.getTime()>=u.getTime()?s:s-1}function Sb(t,e){var a,l,u,c;const n=nr(),s=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,r=pd(t,e),o=un(t,0);return o.setFullYear(r,0,s),o.setHours(0,0,0,0),Hs(o,e)}function kb(t,e){const n=ve(t),s=+Hs(n,e)-+Sb(n,e);return Math.round(s/dd)+1}function he(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const Qt={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return he(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):he(n+1,2)},d(t,e){return he(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return he(t.getHours()%12||12,e.length)},H(t,e){return he(t.getHours(),e.length)},m(t,e){return he(t.getMinutes(),e.length)},s(t,e){return he(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),r=Math.trunc(s*Math.pow(10,n-3));return he(r,e.length)}},Vn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ml={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),r=s>0?s:1-s;return n.ordinalNumber(r,{unit:"year"})}return Qt.y(t,e)},Y:function(t,e,n,s){const r=pd(t,s),o=r>0?r:1-r;if(e==="YY"){const i=o%100;return he(i,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):he(o,e.length)},R:function(t,e){const n=fd(t);return he(n,e.length)},u:function(t,e){const n=t.getFullYear();return he(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return he(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return he(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return Qt.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return he(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const r=kb(t,s);return e==="wo"?n.ordinalNumber(r,{unit:"week"}):he(r,e.length)},I:function(t,e,n){const s=xb(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):he(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Qt.d(t,e)},D:function(t,e,n){const s=_b(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):he(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const r=t.getDay(),o=(r-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return he(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const r=t.getDay(),o=(r-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return he(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),r=s===0?7:s;switch(e){case"i":return String(r);case"ii":return he(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let r;switch(s===12?r=Vn.noon:s===0?r=Vn.midnight:r=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let r;switch(s>=17?r=Vn.evening:s>=12?r=Vn.afternoon:s>=4?r=Vn.morning:r=Vn.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Qt.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Qt.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):he(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):he(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Qt.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Qt.s(t,e)},S:function(t,e){return Qt.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return Nl(s);case"XXXX":case"XX":return xn(s);case"XXXXX":case"XXX":default:return xn(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return Nl(s);case"xxxx":case"xx":return xn(s);case"xxxxx":case"xxx":default:return xn(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Dl(s,":");case"OOOO":default:return"GMT"+xn(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Dl(s,":");case"zzzz":default:return"GMT"+xn(s,":")}},t:function(t,e,n){const s=Math.trunc(t.getTime()/1e3);return he(s,e.length)},T:function(t,e,n){const s=t.getTime();return he(s,e.length)}};function Dl(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=Math.trunc(s/60),o=s%60;return o===0?n+String(r):n+String(r)+e+he(o,2)}function Nl(t,e){return t%60===0?(t>0?"-":"+")+he(Math.abs(t)/60,2):xn(t,e)}function xn(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=he(Math.trunc(s/60),2),o=he(s%60,2);return n+r+e+o}const Ll=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},gd=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Eb=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],r=n[2];if(!r)return Ll(t,e);let o;switch(s){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",Ll(s,e)).replace("{{time}}",gd(r,e))},Ob={p:gd,P:Eb},Tb=/^D+$/,Cb=/^Y+$/,Ab=["D","DD","YY","YYYY"];function Rb(t){return Tb.test(t)}function $b(t){return Cb.test(t)}function Pb(t,e,n){const s=jb(t,e,n);if(console.warn(s),Ab.includes(t))throw new RangeError(s)}function jb(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ib=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Mb=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Db=/^'([^]*?)'?$/,Nb=/''/g,Lb=/[a-zA-Z]/;function zi(t,e,n){var c,f,h,m,p,w,g,b;const s=nr(),r=(n==null?void 0:n.locale)??s.locale??md,o=(n==null?void 0:n.firstWeekContainsDate)??((f=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,i=(n==null?void 0:n.weekStartsOn)??((w=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:w.weekStartsOn)??s.weekStartsOn??((b=(g=s.locale)==null?void 0:g.options)==null?void 0:b.weekStartsOn)??0,a=ve(t);if(!Iy(a))throw new RangeError("Invalid time value");let l=e.match(Mb).map(x=>{const _=x[0];if(_==="p"||_==="P"){const O=Ob[_];return O(x,r.formatLong)}return x}).join("").match(Ib).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const _=x[0];if(_==="'")return{isToken:!1,value:Ub(x)};if(Ml[_])return{isToken:!0,value:x};if(_.match(Lb))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:x}});r.localize.preprocessor&&(l=r.localize.preprocessor(a,l));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:r};return l.map(x=>{if(!x.isToken)return x.value;const _=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&$b(_)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Rb(_))&&Pb(_,e,String(t));const O=Ml[_[0]];return O(a,_,r.localize,u)}).join("")}function Ub(t){const e=t.match(Db);return e?e[1].replace(Nb,"'"):t}function Fb(t,e,n){const s=nr(),r=(n==null?void 0:n.locale)??s.locale??md,o=2520,i=_r(t,e);if(isNaN(i))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:i});let l,u;i>0?(l=ve(e),u=ve(t)):(l=ve(t),u=ve(e));const c=qy(u,l),f=(Br(u)-Br(l))/1e3,h=Math.round((c-f)/60);let m;if(h<2)return n!=null&&n.includeSeconds?c<5?r.formatDistance("lessThanXSeconds",5,a):c<10?r.formatDistance("lessThanXSeconds",10,a):c<20?r.formatDistance("lessThanXSeconds",20,a):c<40?r.formatDistance("halfAMinute",0,a):c<60?r.formatDistance("lessThanXMinutes",1,a):r.formatDistance("xMinutes",1,a):h===0?r.formatDistance("lessThanXMinutes",1,a):r.formatDistance("xMinutes",h,a);if(h<45)return r.formatDistance("xMinutes",h,a);if(h<90)return r.formatDistance("aboutXHours",1,a);if(h<jl){const p=Math.round(h/60);return r.formatDistance("aboutXHours",p,a)}else{if(h<o)return r.formatDistance("xDays",1,a);if(h<ur){const p=Math.round(h/jl);return r.formatDistance("xDays",p,a)}else if(h<ur*2)return m=Math.round(h/ur),r.formatDistance("aboutXMonths",m,a)}if(m=By(u,l),m<12){const p=Math.round(h/ur);return r.formatDistance("xMonths",p,a)}else{const p=m%12,w=Math.trunc(m/12);return p<3?r.formatDistance("aboutXYears",w,a):p<9?r.formatDistance("overXYears",w,a):r.formatDistance("almostXYears",w+1,a)}}function po(t,e){return Fb(t,Py(t),e)}const Bb={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},qb=(t,e,n)=>{let s;const r=Bb[t];return typeof r=="string"?s=r:e===1?s=r.one:s=r.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+s:"há "+s:s},Hb={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},Wb={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Vb={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zb={date:ss({formats:Hb,defaultWidth:"full"}),time:ss({formats:Wb,defaultWidth:"full"}),dateTime:ss({formats:Vb,defaultWidth:"full"})},Kb={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},Jb=(t,e,n,s)=>{const r=Kb[t];return typeof r=="function"?r(e):r},Gb={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},Yb={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},Xb={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Qb={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},Zb={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},e_={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},t_=(t,e)=>{const n=Number(t);return(e==null?void 0:e.unit)==="week"?n+"ª":n+"º"},n_={ordinalNumber:t_,era:Pt({values:Gb,defaultWidth:"wide"}),quarter:Pt({values:Yb,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Pt({values:Xb,defaultWidth:"wide"}),day:Pt({values:Qb,defaultWidth:"wide"}),dayPeriod:Pt({values:Zb,defaultWidth:"wide",formattingValues:e_,defaultFormattingWidth:"wide"})},s_=/^(\d+)[ºªo]?/i,r_=/\d+/i,o_={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},i_={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},a_={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},l_={any:[/1/i,/2/i,/3/i,/4/i]},c_={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},u_={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},d_={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},f_={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},h_={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},m_={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},p_={ordinalNumber:hd({matchPattern:s_,parsePattern:r_,valueCallback:t=>parseInt(t,10)}),era:jt({matchPatterns:o_,defaultMatchWidth:"wide",parsePatterns:i_,defaultParseWidth:"any"}),quarter:jt({matchPatterns:a_,defaultMatchWidth:"wide",parsePatterns:l_,defaultParseWidth:"any",valueCallback:t=>t+1}),month:jt({matchPatterns:c_,defaultMatchWidth:"wide",parsePatterns:u_,defaultParseWidth:"any"}),day:jt({matchPatterns:d_,defaultMatchWidth:"wide",parsePatterns:f_,defaultParseWidth:"any"}),dayPeriod:jt({matchPatterns:h_,defaultMatchWidth:"any",parsePatterns:m_,defaultParseWidth:"any"})},In={code:"pt-BR",formatDistance:qb,formatLong:zb,formatRelative:Jb,localize:n_,match:p_,options:{weekStartsOn:0,firstWeekContainsDate:1}},g_={class:"py-6"},v_={class:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8"},w_={class:"mt-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},y_={class:"p-5"},b_={class:"flex items-center"},__={class:"flex-shrink-0"},x_={class:"ml-5 w-0 flex-1"},S_={class:"text-sm font-medium text-gray-500 truncate"},k_={class:"text-lg font-medium text-gray-900"},E_={class:"bg-gray-50 px-5 py-3"},O_={class:"text-sm"},T_={class:"mt-8 grid grid-cols-1 gap-6 lg:grid-cols-2"},C_={class:"bg-white shadow rounded-lg"},A_={class:"p-6"},R_={class:"mt-6 flow-root"},$_={role:"list",class:"-my-5 divide-y divide-gray-200"},P_={class:"flex items-center space-x-4"},j_={class:"flex-shrink-0"},I_={class:"h-8 w-8 rounded-full bg-primary-500 flex items-center justify-center"},M_={class:"text-white text-sm font-medium"},D_={class:"flex-1 min-w-0"},N_={class:"text-sm font-medium text-gray-900 truncate"},L_={class:"text-sm text-gray-500 truncate"},U_={class:"flex-shrink-0 text-right"},F_={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800"},B_={class:"text-xs text-gray-500 mt-1"},q_={class:"mt-6"},H_={class:"bg-white shadow rounded-lg"},W_={class:"p-6"},V_={class:"mt-6 flow-root"},z_={role:"list",class:"-my-5 divide-y divide-gray-200"},K_={class:"flex items-center space-x-4"},J_={class:"flex-shrink-0"},G_={class:"flex-1 min-w-0"},Y_={class:"text-sm font-medium text-gray-900 truncate"},X_={class:"text-sm text-gray-500"},Q_={class:"flex-shrink-0 text-right"},Z_={class:"mt-6"},e1={class:"mt-8"},t1={class:"bg-white shadow rounded-lg"},n1={class:"p-6"},s1={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4"},r1=["onClick"],o1={class:"mt-8"},i1={class:"text-lg font-medium"},a1={class:"mt-2 text-sm text-gray-500"},l1=st({__name:"DashboardView",setup(t){const e=Mn(),n=hn(),s=J({total_clients:0,active_chats:0,pending_boletos:0,monthly_revenue:0,daily_messages:0,response_time_avg:0}),r=J([]),o=J([]),i=Ne(()=>[{name:"Total de Clientes",value:s.value.total_clients.toString(),icon:yi,change:"+12%",changeType:"increase"},{name:"Atendimentos Ativos",value:s.value.active_chats.toString(),icon:Ur,change:"+8%",changeType:"increase"},{name:"Boletos Pendentes",value:s.value.pending_boletos.toString(),icon:vi,change:"-3%",changeType:"decrease"},{name:"Tempo Médio de Resposta",value:`${s.value.response_time_avg}min`,icon:Jw,change:"-15%",changeType:"decrease"}]),a=[{name:"Novo Cliente",description:"Cadastrar um novo cliente",icon:ny,iconColor:"text-primary-600",iconBackground:"bg-primary-50",action:()=>e.push("/clients")},{name:"Gerar Relatório",description:"Criar novo relatório",icon:wi,iconColor:"text-green-600",iconBackground:"bg-green-50",action:()=>e.push("/reports")},{name:"Enviar Comunicado",description:"Comunicado para clientes",icon:Xw,iconColor:"text-yellow-600",iconBackground:"bg-yellow-50",action:()=>console.log("Enviar comunicado")},{name:"Configurações",description:"Ajustar configurações",icon:Gw,iconColor:"text-gray-600",iconBackground:"bg-gray-50",action:()=>console.log("Configurações")}],l=h=>po(new Date(h),{addSuffix:!0,locale:In}),u=h=>zi(new Date(h),"dd/MM/yyyy",{locale:In}),c=h=>h.toFixed(2).replace(".",","),f=async()=>{var h;try{const[m,p]=await Promise.all([It.getDashboardStats(),It.getChatSessions(((h=n.user)==null?void 0:h.filial_id)||"matriz")]);s.value=m,r.value=p.slice(0,5),o.value=[{id:"1",description:"Pagamento Empresa ABC",amount:850,type:"received",date:new Date().toISOString()},{id:"2",description:"Taxa bancária",amount:15.5,type:"sent",date:new Date(Date.now()-36e5).toISOString()},{id:"3",description:"Mensalidade XYZ",amount:450,type:"received",date:new Date(Date.now()-72e5).toISOString()}]}catch(m){console.error("Erro ao carregar dados do dashboard:",m)}};return Gt(()=>{f()}),(h,m)=>{const p=Xr("router-link");return j(),ie(mn,null,{default:De(()=>[d("div",g_,[m[7]||(m[7]=d("div",{class:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8"},[d("h1",{class:"text-2xl font-semibold text-gray-900"},"Dashboard")],-1)),d("div",v_,[d("div",w_,[(j(!0),H(ge,null,Ye(i.value,w=>(j(),H("div",{key:w.name,class:"bg-white overflow-hidden shadow rounded-lg"},[d("div",y_,[d("div",b_,[d("div",__,[(j(),ie(fr(w.icon),{class:"h-6 w-6 text-gray-400","aria-hidden":"true"}))]),d("div",x_,[d("dl",null,[d("dt",S_,L(w.name),1),d("dd",null,[d("div",k_,L(w.value),1)])])])])]),d("div",E_,[d("div",O_,[d("span",{class:Ee(["font-medium",w.changeType==="increase"?"text-green-600":"text-red-600"])},L(w.change),3),m[0]||(m[0]=d("span",{class:"text-gray-500"}," desde ontem",-1))])])]))),128))]),d("div",T_,[d("div",C_,[d("div",A_,[m[2]||(m[2]=d("h3",{class:"text-lg leading-6 font-medium text-gray-900"}," Atendimentos Ativos ",-1)),d("div",R_,[d("ul",$_,[(j(!0),H(ge,null,Ye(r.value,w=>(j(),H("li",{key:w.client_cnpj,class:"py-4"},[d("div",P_,[d("div",j_,[d("div",I_,[d("span",M_,L(w.client_name.charAt(0)),1)])]),d("div",D_,[d("p",N_,L(w.client_name),1),d("p",L_,L(w.last_message),1)]),d("div",U_,[w.unread_count>0?(j(),H("div",F_,L(w.unread_count),1)):Te("",!0),d("p",B_,L(l(w.last_message_time)),1)])])]))),128))])]),d("div",q_,[G(p,{to:"/chat",class:"w-full flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:De(()=>[...m[1]||(m[1]=[ke(" Ver todos os atendimentos ",-1)])]),_:1})])])]),d("div",H_,[d("div",W_,[m[4]||(m[4]=d("h3",{class:"text-lg leading-6 font-medium text-gray-900"}," Atividade Financeira ",-1)),d("div",V_,[d("ul",z_,[(j(!0),H(ge,null,Ye(o.value,w=>(j(),H("li",{key:w.id,class:"py-4"},[d("div",K_,[d("div",J_,[d("div",{class:Ee(["h-8 w-8 rounded-full flex items-center justify-center",w.type==="received"?"bg-green-100":"bg-red-100"])},[(j(),ie(fr(w.type==="received"?"ArrowDownIcon":"ArrowUpIcon"),{class:Ee(["h-4 w-4",w.type==="received"?"text-green-600":"text-red-600"])},null,8,["class"]))],2)]),d("div",G_,[d("p",Y_,L(w.description),1),d("p",X_,L(u(w.date)),1)]),d("div",Q_,[d("p",{class:Ee(["text-sm font-medium",w.type==="received"?"text-green-600":"text-red-600"])},L(w.type==="received"?"+":"-")+"R$ "+L(c(w.amount)),3)])])]))),128))])]),d("div",Z_,[G(p,{to:"/financial",class:"w-full flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:De(()=>[...m[3]||(m[3]=[ke(" Ver relatório financeiro ",-1)])]),_:1})])])])]),d("div",e1,[d("div",t1,[d("div",n1,[m[6]||(m[6]=d("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-6"}," Ações Rápidas ",-1)),d("div",s1,[(j(),H(ge,null,Ye(a,w=>d("button",{key:w.name,onClick:w.action,class:"relative group bg-white p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-primary-500 border border-gray-200 rounded-lg hover:border-gray-300 transition-colors"},[d("div",null,[d("span",{class:Ee(["rounded-lg inline-flex p-3 ring-4 ring-white",w.iconBackground])},[(j(),ie(fr(w.icon),{class:Ee(["h-6 w-6",w.iconColor]),"aria-hidden":"true"},null,8,["class"]))],2)]),d("div",o1,[d("h3",i1,[m[5]||(m[5]=d("span",{class:"absolute inset-0","aria-hidden":"true"},null,-1)),ke(" "+L(w.name),1)]),d("p",a1,L(w.description),1)])],8,r1)),64))])])])])])])]),_:1})}}}),c1={class:"py-6"},u1={class:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8"},d1={class:"md:flex md:items-center md:justify-between"},f1={class:"flex-1 min-w-0"},h1={class:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate"},m1={class:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8"},p1={class:"mt-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},g1={class:"bg-white overflow-hidden shadow-lg rounded-lg border border-gray-200"},v1={class:"p-5"},w1={class:"flex items-center"},y1={class:"ml-5 w-0 flex-1"},b1={class:"text-lg font-semibold text-gray-900"},_1={class:"bg-blue-50 px-5 py-3"},x1={class:"text-sm"},S1={class:"bg-white overflow-hidden shadow-lg rounded-lg border border-gray-200"},k1={class:"p-5"},E1={class:"flex items-center"},O1={class:"ml-5 w-0 flex-1"},T1={class:"text-lg font-semibold text-gray-900"},C1={class:"bg-green-50 px-5 py-3"},A1={class:"text-sm"},R1={class:"bg-white overflow-hidden shadow-lg rounded-lg border border-gray-200"},$1={class:"p-5"},P1={class:"flex items-center"},j1={class:"ml-5 w-0 flex-1"},I1={class:"text-lg font-semibold text-gray-900"},M1={class:"bg-purple-50 px-5 py-3"},D1={class:"text-sm"},N1={class:"bg-white overflow-hidden shadow-lg rounded-lg border border-gray-200"},L1={class:"p-5"},U1={class:"flex items-center"},F1={class:"ml-5 w-0 flex-1"},B1={class:"text-lg font-semibold text-gray-900"},q1={class:"bg-yellow-50 px-5 py-3"},H1={class:"text-sm"},W1={class:"mt-8 grid grid-cols-1 gap-6 lg:grid-cols-2"},V1={class:"bg-white shadow-lg rounded-lg border border-gray-200"},z1={class:"p-6"},K1={class:"flex items-center justify-between mb-6"},J1={class:"flow-root"},G1={role:"list",class:"-my-5 divide-y divide-gray-200"},Y1={class:"flex items-center space-x-4"},X1={class:"flex-1 min-w-0"},Q1={class:"text-sm font-medium text-gray-900 truncate"},Z1={class:"text-sm text-gray-500"},ex={class:"flex-shrink-0"},tx={class:"bg-white shadow-lg rounded-lg border border-gray-200"},nx={class:"p-6"},sx={class:"flex items-center justify-between mb-6"},rx={class:"flow-root"},ox={role:"list",class:"-my-5 divide-y divide-gray-200"},ix={class:"flex items-center space-x-4"},ax={class:"flex-shrink-0"},lx={class:"flex-1 min-w-0"},cx={class:"text-sm font-medium text-gray-900 truncate"},ux={class:"text-sm text-gray-500"},dx={class:"flex-shrink-0"},fx={class:"mt-8"},hx={class:"bg-white shadow-lg rounded-lg border border-gray-200"},mx={class:"p-6"},px={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"},gx=st({__name:"AdminDashboardView",setup(t){const e=Mn(),n=hn(),s=J({totalFiliais:0,totalFuncionarios:0,totalClientes:0,atividadesHoje:0}),r=J([]),o=J([]),i=c=>po(new Date(c),{addSuffix:!0,locale:In}),a=c=>{const f={login:"bg-green-100 text-green-600",create:"bg-blue-100 text-blue-600",update:"bg-yellow-100 text-yellow-600",delete:"bg-red-100 text-red-600",default:"bg-gray-100 text-gray-600"};return f[c]||f.default},l=c=>{const f={success:"bg-green-100 text-green-800",error:"bg-red-100 text-red-800",warning:"bg-yellow-100 text-yellow-800"};return f[c]||f.success},u=async()=>{try{console.log("AdminDashboard: Carregando dados...");const c=await ln.getOrganizacoes();c.success&&(r.value=c.organizacoes.filter(h=>h.tipo==="filial").slice(0,5),s.value.totalFiliais=c.organizacoes.filter(h=>h.tipo==="filial").length);const f=await ln.getFuncionarios("matriz");f.success&&(s.value.totalFuncionarios=f.funcionarios.length),s.value.totalClientes=156,s.value.atividadesHoje=23,o.value=[{id:"1",descricao:"Login realizado por Admin",tipo_atividade:"login",resultado:"success",created_at:new Date().toISOString()},{id:"2",descricao:"Nova filial criada: Filial São Paulo",tipo_atividade:"create",resultado:"success",created_at:new Date(Date.now()-36e5).toISOString()},{id:"3",descricao:"Funcionário atualizado: João Silva",tipo_atividade:"update",resultado:"success",created_at:new Date(Date.now()-72e5).toISOString()}],console.log("AdminDashboard: Dados carregados:",{stats:s.value,filiais:r.value})}catch(c){console.error("AdminDashboard: Erro ao carregar dados:",c)}};return Gt(()=>{console.log("AdminDashboard: Componente montado, usuário:",n.user),u()}),(c,f)=>{const h=Xr("router-link");return j(),ie(mn,null,{default:De(()=>{var m;return[d("div",c1,[d("div",u1,[d("div",d1,[d("div",f1,[d("h2",h1," Painel Administrativo - "+L((m=xe(n).user)==null?void 0:m.organizacao_nome),1),f[3]||(f[3]=d("p",{class:"mt-1 text-sm text-gray-500"}," Gestão completa do sistema DNOTAS ",-1))]),d("div",{class:"mt-4 flex md:mt-0 md:ml-4"},[d("button",{onClick:u,class:"ml-3 inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[...f[4]||(f[4]=[d("svg",{class:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),ke(" Atualizar ",-1)])])])])]),d("div",m1,[d("div",p1,[d("div",g1,[d("div",v1,[d("div",w1,[f[6]||(f[6]=d("div",{class:"flex-shrink-0"},[d("svg",{class:"h-8 w-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})])],-1)),d("div",y1,[d("dl",null,[f[5]||(f[5]=d("dt",{class:"text-sm font-medium text-gray-500 truncate"}," Total de Filiais ",-1)),d("dd",null,[d("div",b1,L(s.value.totalFiliais),1)])])])])]),d("div",_1,[d("div",x1,[G(h,{to:"/admin/filiais",class:"font-medium text-blue-700 hover:text-blue-900"},{default:De(()=>[...f[7]||(f[7]=[ke(" Gerenciar filiais → ",-1)])]),_:1})])])]),d("div",S1,[d("div",k1,[d("div",E1,[f[9]||(f[9]=d("div",{class:"flex-shrink-0"},[d("svg",{class:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})])],-1)),d("div",O1,[d("dl",null,[f[8]||(f[8]=d("dt",{class:"text-sm font-medium text-gray-500 truncate"}," Total de Funcionários ",-1)),d("dd",null,[d("div",T1,L(s.value.totalFuncionarios),1)])])])])]),d("div",C1,[d("div",A1,[G(h,{to:"/admin/funcionarios",class:"font-medium text-green-700 hover:text-green-900"},{default:De(()=>[...f[10]||(f[10]=[ke(" Gerenciar funcionários → ",-1)])]),_:1})])])]),d("div",R1,[d("div",$1,[d("div",P1,[f[12]||(f[12]=d("div",{class:"flex-shrink-0"},[d("svg",{class:"h-8 w-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),d("div",j1,[d("dl",null,[f[11]||(f[11]=d("dt",{class:"text-sm font-medium text-gray-500 truncate"}," Total de Clientes ",-1)),d("dd",null,[d("div",I1,L(s.value.totalClientes),1)])])])])]),d("div",M1,[d("div",D1,[G(h,{to:"/clients",class:"font-medium text-purple-700 hover:text-purple-900"},{default:De(()=>[...f[13]||(f[13]=[ke(" Ver clientes → ",-1)])]),_:1})])])]),d("div",N1,[d("div",L1,[d("div",U1,[f[15]||(f[15]=d("div",{class:"flex-shrink-0"},[d("svg",{class:"h-8 w-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),d("div",F1,[d("dl",null,[f[14]||(f[14]=d("dt",{class:"text-sm font-medium text-gray-500 truncate"}," Atividades Hoje ",-1)),d("dd",null,[d("div",B1,L(s.value.atividadesHoje),1)])])])])]),d("div",q1,[d("div",H1,[G(h,{to:"/reports",class:"font-medium text-yellow-700 hover:text-yellow-900"},{default:De(()=>[...f[16]||(f[16]=[ke(" Ver relatórios → ",-1)])]),_:1})])])])]),d("div",W1,[d("div",V1,[d("div",z1,[d("div",K1,[f[18]||(f[18]=d("h3",{class:"text-lg leading-6 font-medium text-gray-900"}," Filiais Ativas ",-1)),G(h,{to:"/admin/filiais",class:"text-sm text-blue-600 hover:text-blue-900 font-medium"},{default:De(()=>[...f[17]||(f[17]=[ke(" Ver todas ",-1)])]),_:1})]),d("div",J1,[d("ul",G1,[(j(!0),H(ge,null,Ye(r.value,p=>(j(),H("li",{key:p.id,class:"py-4"},[d("div",Y1,[f[19]||(f[19]=d("div",{class:"flex-shrink-0"},[d("div",{class:"h-10 w-10 rounded-lg bg-gradient-to-r from-blue-500 to-blue-600 flex items-center justify-center"},[d("svg",{class:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})])])],-1)),d("div",X1,[d("p",Q1,L(p.nome),1),d("p",Z1,L(p.funcionarios_count||0)+" funcionários ",1)]),d("div",ex,[d("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",p.ativo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},L(p.ativo?"Ativa":"Inativa"),3)])])]))),128))])])])]),d("div",tx,[d("div",nx,[d("div",sx,[f[21]||(f[21]=d("h3",{class:"text-lg leading-6 font-medium text-gray-900"}," Atividades Recentes ",-1)),G(h,{to:"/reports",class:"text-sm text-blue-600 hover:text-blue-900 font-medium"},{default:De(()=>[...f[20]||(f[20]=[ke(" Ver todas ",-1)])]),_:1})]),d("div",rx,[d("ul",ox,[(j(!0),H(ge,null,Ye(o.value,p=>(j(),H("li",{key:p.id,class:"py-4"},[d("div",ix,[d("div",ax,[d("div",{class:Ee(["h-8 w-8 rounded-full flex items-center justify-center",a(p.tipo_atividade)])},[...f[22]||(f[22]=[d("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)])],2)]),d("div",lx,[d("p",cx,L(p.descricao),1),d("p",ux,L(i(p.created_at)),1)]),d("div",dx,[d("span",{class:Ee(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",l(p.resultado)])},L(p.resultado),3)])])]))),128))])])])])]),d("div",fx,[d("div",hx,[d("div",mx,[f[26]||(f[26]=d("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-6"}," Ações Administrativas ",-1)),d("div",px,[d("button",{onClick:f[0]||(f[0]=p=>xe(e).push("/admin/filiais/novo")),class:"relative group bg-gradient-to-r from-blue-500 to-blue-600 p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-blue-500 rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all transform hover:scale-105"},[...f[23]||(f[23]=[d("div",{class:"flex items-center"},[d("span",{class:"rounded-lg inline-flex p-3 bg-white bg-opacity-20"},[d("svg",{class:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})])]),d("div",{class:"ml-4"},[d("h3",{class:"text-lg font-medium text-white"}," Nova Filial "),d("p",{class:"mt-1 text-sm text-blue-100"}," Criar uma nova filial ")])],-1)])]),d("button",{onClick:f[1]||(f[1]=p=>xe(e).push("/admin/funcionarios/novo")),class:"relative group bg-gradient-to-r from-green-500 to-green-600 p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-green-500 rounded-lg hover:from-green-600 hover:to-green-700 transition-all transform hover:scale-105"},[...f[24]||(f[24]=[d("div",{class:"flex items-center"},[d("span",{class:"rounded-lg inline-flex p-3 bg-white bg-opacity-20"},[d("svg",{class:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})])]),d("div",{class:"ml-4"},[d("h3",{class:"text-lg font-medium text-white"}," Novo Funcionário "),d("p",{class:"mt-1 text-sm text-green-100"}," Cadastrar funcionário ")])],-1)])]),d("button",{onClick:f[2]||(f[2]=p=>xe(e).push("/reports")),class:"relative group bg-gradient-to-r from-purple-500 to-purple-600 p-6 focus-within:ring-2 focus-within:ring-inset focus-within:ring-purple-500 rounded-lg hover:from-purple-600 hover:to-purple-700 transition-all transform hover:scale-105"},[...f[25]||(f[25]=[d("div",{class:"flex items-center"},[d("span",{class:"rounded-lg inline-flex p-3 bg-white bg-opacity-20"},[d("svg",{class:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])]),d("div",{class:"ml-4"},[d("h3",{class:"text-lg font-medium text-white"}," Relatórios "),d("p",{class:"mt-1 text-sm text-purple-100"}," Gerar relatórios ")])],-1)])])])])])])])])]}),_:1})}}}),vx=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},wx=vx(gx,[["__scopeId","data-v-564fc740"]]),yx={class:"py-6"},bx={class:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8"},_x={class:"md:flex md:items-center md:justify-between"},xx={class:"mt-4 flex md:mt-0 md:ml-4"},Sx={class:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8"},kx={class:"mt-6 bg-white shadow rounded-lg"},Ex={class:"p-6"},Ox={class:"grid grid-cols-1 gap-4 sm:grid-cols-3"},Tx={class:"mt-6 bg-white shadow overflow-hidden sm:rounded-md"},Cx={role:"list",class:"divide-y divide-gray-200"},Ax={class:"px-4 py-4 flex items-center justify-between hover:bg-gray-50"},Rx={class:"flex items-center"},$x={class:"ml-4"},Px={class:"flex items-center"},jx={class:"text-sm font-medium text-gray-900"},Ix={class:"text-sm text-gray-500"},Mx={key:0},Dx={key:1,class:"ml-3"},Nx={key:0,class:"text-sm text-gray-500"},Lx={key:0},Ux={key:1,class:"ml-3"},Fx={class:"flex items-center space-x-2"},Bx=["onClick"],qx=["onClick"],Hx={key:0,class:"h-4 w-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Wx={key:1,class:"h-4 w-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Vx={key:0,class:"mt-6 text-center"},zx={class:"mt-6"},Kx={key:0,class:"fixed z-10 inset-0 overflow-y-auto"},Jx={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Gx={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Yx={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Xx={class:"sm:flex sm:items-start"},Qx={class:"mt-3 text-center sm:mt-0 sm:text-left w-full"},Zx={class:"text-lg leading-6 font-medium text-gray-900"},e2={class:"mt-4 space-y-4"},t2={class:"grid grid-cols-2 gap-4"},n2={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},s2=["disabled"],r2=st({__name:"FiliaisView",setup(t){Mn();const e=J([]),n=J(""),s=J(""),r=J(!1),o=J(!1),i=J(!1),a=J(null),l=J({id:"",nome:"",codigo:"",cnpj:"",endereco:"",telefone:"",email:"",responsavel:""}),u=Ne(()=>{let w=e.value;if(n.value&&(w=w.filter(g=>g.nome.toLowerCase().includes(n.value.toLowerCase()))),s.value!==""){const g=s.value==="true";w=w.filter(b=>b.ativo===g)}return w}),c=async()=>{try{console.log("FiliaisView: Carregando filiais...");const w=await ln.getFiliais();w.success&&(e.value=w.filiais,console.log("FiliaisView: Filiais carregadas:",e.value))}catch(w){console.error("FiliaisView: Erro ao carregar filiais:",w)}},f=w=>{a.value=w,l.value={...w},o.value=!0},h=async w=>{try{i.value=!0,console.log("Toggle status filial:",w.id),w.ativo=!w.ativo}catch(g){console.error("Erro ao alterar status:",g)}finally{i.value=!1}},m=async()=>{try{i.value=!0,r.value?(l.value.id=`filial_${Date.now()}`,(await ln.criarFilial(l.value)).success&&(await c(),p())):(console.log("Editar filial:",l.value),p())}catch(w){console.error("Erro ao salvar filial:",w)}finally{i.value=!1}},p=()=>{r.value=!1,o.value=!1,a.value=null,l.value={id:"",nome:"",codigo:"",cnpj:"",endereco:"",telefone:"",email:"",responsavel:""}};return Gt(()=>{c()}),(w,g)=>(j(),ie(mn,null,{default:De(()=>[d("div",yx,[d("div",bx,[d("div",_x,[g[12]||(g[12]=d("div",{class:"flex-1 min-w-0"},[d("h2",{class:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate"}," Gestão de Filiais "),d("p",{class:"mt-1 text-sm text-gray-500"}," Gerencie todas as filiais da rede DNOTAS ")],-1)),d("div",xx,[d("button",{onClick:g[0]||(g[0]=b=>r.value=!0),class:"ml-3 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[...g[11]||(g[11]=[d("svg",{class:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),ke(" Nova Filial ",-1)])])])])]),d("div",Sx,[d("div",kx,[d("div",Ex,[d("div",Ox,[d("div",null,[g[13]||(g[13]=d("label",{for:"search",class:"block text-sm font-medium text-gray-700"},"Buscar",-1)),ue(d("input",{id:"search","onUpdate:modelValue":g[1]||(g[1]=b=>n.value=b),type:"text",placeholder:"Nome da filial...",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"},null,512),[[Se,n.value]])]),d("div",null,[g[15]||(g[15]=d("label",{for:"status",class:"block text-sm font-medium text-gray-700"},"Status",-1)),ue(d("select",{id:"status","onUpdate:modelValue":g[2]||(g[2]=b=>s.value=b),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"},[...g[14]||(g[14]=[d("option",{value:""},"Todos",-1),d("option",{value:"true"},"Ativas",-1),d("option",{value:"false"},"Inativas",-1)])],512),[[On,s.value]])]),d("div",{class:"flex items-end"},[d("button",{onClick:c,class:"w-full inline-flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[...g[16]||(g[16]=[d("svg",{class:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),ke(" Atualizar ",-1)])])])])])]),d("div",Tx,[d("ul",Cx,[(j(!0),H(ge,null,Ye(u.value,b=>(j(),H("li",{key:b.id},[d("div",Ax,[d("div",Rx,[g[17]||(g[17]=d("div",{class:"flex-shrink-0 h-10 w-10"},[d("div",{class:"h-10 w-10 rounded-lg bg-gradient-to-r from-blue-500 to-blue-600 flex items-center justify-center"},[d("svg",{class:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})])])],-1)),d("div",$x,[d("div",Px,[d("div",jx,L(b.nome),1),d("span",{class:Ee(["ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",b.ativo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},L(b.ativo?"Ativa":"Inativa"),3)]),d("div",Ix,[b.codigo?(j(),H("span",Mx,"Código: "+L(b.codigo),1)):Te("",!0),b.cnpj?(j(),H("span",Dx,"CNPJ: "+L(b.cnpj),1)):Te("",!0)]),b.endereco||b.telefone?(j(),H("div",Nx,[b.endereco?(j(),H("span",Lx,L(b.endereco),1)):Te("",!0),b.telefone?(j(),H("span",Ux,"📞 "+L(b.telefone),1)):Te("",!0)])):Te("",!0)])]),d("div",Fx,[d("button",{onClick:x=>f(b),class:"inline-flex items-center p-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[...g[18]||(g[18]=[d("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,Bx),d("button",{onClick:x=>h(b),class:"inline-flex items-center p-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[b.ativo?(j(),H("svg",Hx,[...g[19]||(g[19]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14L21 3m0 0h-5.5M21 3v5.5M21 3l-3.5 3.5m-4.5 4.5L10 14l-4-4"},null,-1)])])):(j(),H("svg",Wx,[...g[20]||(g[20]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])]))],8,qx)])])]))),128))])]),u.value.length===0?(j(),H("div",Vx,[g[22]||(g[22]=d("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1)),g[23]||(g[23]=d("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Nenhuma filial encontrada",-1)),g[24]||(g[24]=d("p",{class:"mt-1 text-sm text-gray-500"},"Comece criando uma nova filial.",-1)),d("div",zx,[d("button",{onClick:g[3]||(g[3]=b=>r.value=!0),class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[...g[21]||(g[21]=[d("svg",{class:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),ke(" Nova Filial ",-1)])])])])):Te("",!0)])]),r.value||o.value?(j(),H("div",Kx,[d("div",Jx,[g[32]||(g[32]=d("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)),d("div",Gx,[d("form",{onSubmit:$n(m,["prevent"])},[d("div",Yx,[d("div",Xx,[d("div",Qx,[d("h3",Zx,L(r.value?"Nova Filial":"Editar Filial"),1),d("div",e2,[d("div",null,[g[25]||(g[25]=d("label",{for:"nome",class:"block text-sm font-medium text-gray-700"},"Nome *",-1)),ue(d("input",{id:"nome","onUpdate:modelValue":g[4]||(g[4]=b=>l.value.nome=b),type:"text",required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Nome da filial"},null,512),[[Se,l.value.nome]])]),d("div",null,[g[26]||(g[26]=d("label",{for:"codigo",class:"block text-sm font-medium text-gray-700"},"Código",-1)),ue(d("input",{id:"codigo","onUpdate:modelValue":g[5]||(g[5]=b=>l.value.codigo=b),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"FIL001"},null,512),[[Se,l.value.codigo]])]),d("div",null,[g[27]||(g[27]=d("label",{for:"cnpj",class:"block text-sm font-medium text-gray-700"},"CNPJ",-1)),ue(d("input",{id:"cnpj","onUpdate:modelValue":g[6]||(g[6]=b=>l.value.cnpj=b),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"00.000.000/0000-00"},null,512),[[Se,l.value.cnpj]])]),d("div",null,[g[28]||(g[28]=d("label",{for:"endereco",class:"block text-sm font-medium text-gray-700"},"Endereço",-1)),ue(d("textarea",{id:"endereco","onUpdate:modelValue":g[7]||(g[7]=b=>l.value.endereco=b),rows:"2",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Endereço completo"},null,512),[[Se,l.value.endereco]])]),d("div",t2,[d("div",null,[g[29]||(g[29]=d("label",{for:"telefone",class:"block text-sm font-medium text-gray-700"},"Telefone",-1)),ue(d("input",{id:"telefone","onUpdate:modelValue":g[8]||(g[8]=b=>l.value.telefone=b),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"(11) 99999-9999"},null,512),[[Se,l.value.telefone]])]),d("div",null,[g[30]||(g[30]=d("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Email",-1)),ue(d("input",{id:"email","onUpdate:modelValue":g[9]||(g[9]=b=>l.value.email=b),type:"email",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"contato@filial.com"},null,512),[[Se,l.value.email]])])]),d("div",null,[g[31]||(g[31]=d("label",{for:"responsavel",class:"block text-sm font-medium text-gray-700"},"Responsável",-1)),ue(d("input",{id:"responsavel","onUpdate:modelValue":g[10]||(g[10]=b=>l.value.responsavel=b),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Nome do responsável"},null,512),[[Se,l.value.responsavel]])])])])])]),d("div",n2,[d("button",{type:"submit",disabled:i.value,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50"},L(i.value?"Salvando...":r.value?"Criar":"Salvar"),9,s2),d("button",{type:"button",onClick:p,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancelar ")])],32)])])])):Te("",!0)]),_:1}))}}),o2={class:"py-6"},i2={class:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8"},a2={class:"md:flex md:items-center md:justify-between"},l2={class:"mt-4 flex md:mt-0 md:ml-4"},c2={class:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8"},u2={class:"mt-6 bg-white shadow rounded-lg"},d2={class:"p-6"},f2={class:"grid grid-cols-1 gap-4 sm:grid-cols-4"},h2=["value"],m2={class:"mt-6 bg-white shadow overflow-hidden sm:rounded-md"},p2={role:"list",class:"divide-y divide-gray-200"},g2={class:"px-4 py-4 flex items-center justify-between hover:bg-gray-50"},v2={class:"flex items-center"},w2={class:"flex-shrink-0 h-10 w-10"},y2={class:"h-10 w-10 rounded-full bg-gradient-to-r from-green-500 to-green-600 flex items-center justify-center"},b2={class:"text-white font-medium text-sm"},_2={class:"ml-4"},x2={class:"flex items-center"},S2={class:"text-sm font-medium text-gray-900"},k2={class:"text-sm text-gray-500"},E2={class:"ml-3"},O2={class:"text-sm text-gray-500"},T2={key:0,class:"ml-3"},C2={class:"flex items-center space-x-2"},A2=["onClick"],R2=["onClick"],$2={key:0,class:"h-4 w-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},P2={key:1,class:"h-4 w-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},j2=["onClick"],I2={key:0,class:"mt-6 text-center"},M2={class:"mt-6"},D2={key:0,class:"fixed z-10 inset-0 overflow-y-auto"},N2={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},L2={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},U2={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},F2={class:"sm:flex sm:items-start"},B2={class:"mt-3 text-center sm:mt-0 sm:text-left w-full"},q2={class:"text-lg leading-6 font-medium text-gray-900"},H2={class:"mt-4 space-y-4"},W2=["value"],V2={key:0},z2=["required"],K2={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},J2=["disabled"],G2=st({__name:"FuncionariosView",setup(t){Mn();const e=J([]),n=J([]),s=J(""),r=J(""),o=J(""),i=J(!1),a=J(!1),l=J(!1),u=J(null),c=J({nome:"",email:"",cargo:"",organizacao_id:"",role:"operator",senha:""}),f=Ne(()=>{let R=e.value;if(s.value){const E=s.value.toLowerCase();R=R.filter(P=>P.nome.toLowerCase().includes(E)||P.email.toLowerCase().includes(E))}return r.value&&(R=R.filter(E=>E.organizacao_id===r.value)),o.value&&(R=R.filter(E=>E.role===o.value)),R}),h=R=>{const E={admin:"bg-red-100 text-red-800",manager:"bg-blue-100 text-blue-800",operator:"bg-gray-100 text-gray-800"};return E[R]||E.operator},m=R=>({admin:"Administrador",manager:"Gerente",operator:"Operador"})[R]||"Operador",p=R=>{const E=n.value.find(P=>P.id===R);return E?E.nome:"Filial não encontrada"},w=R=>po(new Date(R),{addSuffix:!0,locale:In}),g=async()=>{try{const R=await ln.getOrganizacoes();R.success&&(n.value=R.organizacoes)}catch(R){console.error("Erro ao carregar filiais:",R)}},b=async()=>{try{console.log("FuncionariosView: Carregando funcionários...");const R=[];for(const E of n.value){const P=await ln.getFuncionarios(E.id);P.success&&R.push(...P.funcionarios)}e.value=R,console.log("FuncionariosView: Funcionários carregados:",e.value)}catch(R){console.error("FuncionariosView: Erro ao carregar funcionários:",R)}},x=R=>{u.value=R,c.value={nome:R.nome,email:R.email,cargo:R.cargo,organizacao_id:R.organizacao_id,role:R.role,senha:""},a.value=!0},_=async R=>{try{l.value=!0,console.log("Toggle status funcionário:",R.id),R.ativo=!R.ativo}catch(E){console.error("Erro ao alterar status:",E)}finally{l.value=!1}},O=R=>{console.log("Ver atividades do funcionário:",R.id)},U=async()=>{try{l.value=!0,i.value?(await ln.criarFuncionario(c.value)).success&&(await b(),W()):(console.log("Editar funcionário:",c.value),W())}catch(R){console.error("Erro ao salvar funcionário:",R)}finally{l.value=!1}},W=()=>{i.value=!1,a.value=!1,u.value=null,c.value={nome:"",email:"",cargo:"",organizacao_id:"",role:"operator",senha:""}};return Gt(async()=>{await g(),await b()}),(R,E)=>(j(),ie(mn,null,{default:De(()=>[d("div",o2,[d("div",i2,[d("div",a2,[E[12]||(E[12]=d("div",{class:"flex-1 min-w-0"},[d("h2",{class:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate"}," Gestão de Funcionários "),d("p",{class:"mt-1 text-sm text-gray-500"}," Gerencie funcionários de todas as filiais ")],-1)),d("div",l2,[d("button",{onClick:E[0]||(E[0]=P=>i.value=!0),class:"ml-3 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},[...E[11]||(E[11]=[d("svg",{class:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})],-1),ke(" Novo Funcionário ",-1)])])])])]),d("div",c2,[d("div",u2,[d("div",d2,[d("div",f2,[d("div",null,[E[13]||(E[13]=d("label",{for:"search",class:"block text-sm font-medium text-gray-700"},"Buscar",-1)),ue(d("input",{id:"search","onUpdate:modelValue":E[1]||(E[1]=P=>s.value=P),type:"text",placeholder:"Nome ou email...",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm"},null,512),[[Se,s.value]])]),d("div",null,[E[15]||(E[15]=d("label",{for:"filial",class:"block text-sm font-medium text-gray-700"},"Filial",-1)),ue(d("select",{id:"filial","onUpdate:modelValue":E[2]||(E[2]=P=>r.value=P),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm"},[E[14]||(E[14]=d("option",{value:""},"Todas",-1)),(j(!0),H(ge,null,Ye(n.value,P=>(j(),H("option",{key:P.id,value:P.id},L(P.nome),9,h2))),128))],512),[[On,r.value]])]),d("div",null,[E[17]||(E[17]=d("label",{for:"role",class:"block text-sm font-medium text-gray-700"},"Função",-1)),ue(d("select",{id:"role","onUpdate:modelValue":E[3]||(E[3]=P=>o.value=P),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm"},[...E[16]||(E[16]=[d("option",{value:""},"Todas",-1),d("option",{value:"admin"},"Administrador",-1),d("option",{value:"manager"},"Gerente",-1),d("option",{value:"operator"},"Operador",-1)])],512),[[On,o.value]])]),d("div",{class:"flex items-end"},[d("button",{onClick:b,class:"w-full inline-flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},[...E[18]||(E[18]=[d("svg",{class:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),ke(" Atualizar ",-1)])])])])])]),d("div",m2,[d("ul",p2,[(j(!0),H(ge,null,Ye(f.value,P=>(j(),H("li",{key:P.id},[d("div",g2,[d("div",v2,[d("div",w2,[d("div",y2,[d("span",b2,L(P.nome.charAt(0).toUpperCase()),1)])]),d("div",_2,[d("div",x2,[d("div",S2,L(P.nome),1),d("span",{class:Ee(["ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",h(P.role)])},L(m(P.role)),3),d("span",{class:Ee(["ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",P.ativo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},L(P.ativo?"Ativo":"Inativo"),3)]),d("div",k2,[d("span",null,"📧 "+L(P.email),1),d("span",E2,"💼 "+L(P.cargo),1)]),d("div",O2,[d("span",null,"🏢 "+L(p(P.organizacao_id)),1),P.ultimo_login?(j(),H("span",T2," 🕐 Último login: "+L(w(P.ultimo_login)),1)):Te("",!0)])])]),d("div",C2,[d("button",{onClick:de=>x(P),class:"inline-flex items-center p-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},[...E[19]||(E[19]=[d("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,A2),d("button",{onClick:de=>_(P),class:"inline-flex items-center p-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},[P.ativo?(j(),H("svg",$2,[...E[20]||(E[20]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636"},null,-1)])])):(j(),H("svg",P2,[...E[21]||(E[21]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])]))],8,R2),d("button",{onClick:de=>O(P),class:"inline-flex items-center p-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},[...E[22]||(E[22]=[d("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])],8,j2)])])]))),128))])]),f.value.length===0?(j(),H("div",I2,[E[24]||(E[24]=d("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})],-1)),E[25]||(E[25]=d("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Nenhum funcionário encontrado",-1)),E[26]||(E[26]=d("p",{class:"mt-1 text-sm text-gray-500"},"Comece criando um novo funcionário.",-1)),d("div",M2,[d("button",{onClick:E[4]||(E[4]=P=>i.value=!0),class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},[...E[23]||(E[23]=[d("svg",{class:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})],-1),ke(" Novo Funcionário ",-1)])])])])):Te("",!0)])]),i.value||a.value?(j(),H("div",D2,[d("div",N2,[E[35]||(E[35]=d("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)),d("div",L2,[d("form",{onSubmit:$n(U,["prevent"])},[d("div",U2,[d("div",F2,[d("div",B2,[d("h3",q2,L(i.value?"Novo Funcionário":"Editar Funcionário"),1),d("div",H2,[d("div",null,[E[27]||(E[27]=d("label",{for:"nome",class:"block text-sm font-medium text-gray-700"},"Nome Completo *",-1)),ue(d("input",{id:"nome","onUpdate:modelValue":E[5]||(E[5]=P=>c.value.nome=P),type:"text",required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm",placeholder:"Nome completo"},null,512),[[Se,c.value.nome]])]),d("div",null,[E[28]||(E[28]=d("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Email *",-1)),ue(d("input",{id:"email","onUpdate:modelValue":E[6]||(E[6]=P=>c.value.email=P),type:"email",required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm",placeholder:"email@exemplo.com"},null,512),[[Se,c.value.email]])]),d("div",null,[E[29]||(E[29]=d("label",{for:"cargo",class:"block text-sm font-medium text-gray-700"},"Cargo *",-1)),ue(d("input",{id:"cargo","onUpdate:modelValue":E[7]||(E[7]=P=>c.value.cargo=P),type:"text",required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm",placeholder:"Atendente, Analista, Gerente..."},null,512),[[Se,c.value.cargo]])]),d("div",null,[E[31]||(E[31]=d("label",{for:"organizacao_id",class:"block text-sm font-medium text-gray-700"},"Filial *",-1)),ue(d("select",{id:"organizacao_id","onUpdate:modelValue":E[8]||(E[8]=P=>c.value.organizacao_id=P),required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm"},[E[30]||(E[30]=d("option",{value:""},"Selecione a filial",-1)),(j(!0),H(ge,null,Ye(n.value,P=>(j(),H("option",{key:P.id,value:P.id},L(P.nome),9,W2))),128))],512),[[On,c.value.organizacao_id]])]),d("div",null,[E[33]||(E[33]=d("label",{for:"role",class:"block text-sm font-medium text-gray-700"},"Função *",-1)),ue(d("select",{id:"role","onUpdate:modelValue":E[9]||(E[9]=P=>c.value.role=P),required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm"},[...E[32]||(E[32]=[d("option",{value:"operator"},"👤 Operador",-1),d("option",{value:"manager"},"👨‍💼 Gerente",-1),d("option",{value:"admin"},"👑 Administrador",-1)])],512),[[On,c.value.role]])]),i.value?(j(),H("div",V2,[E[34]||(E[34]=d("label",{for:"senha",class:"block text-sm font-medium text-gray-700"},"Senha *",-1)),ue(d("input",{id:"senha","onUpdate:modelValue":E[10]||(E[10]=P=>c.value.senha=P),type:"password",required:i.value,class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm",placeholder:"Mínimo 6 caracteres",minlength:"6"},null,8,z2),[[Se,c.value.senha]])])):Te("",!0)])])])]),d("div",K2,[d("button",{type:"submit",disabled:l.value,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50"},L(l.value?"Salvando...":i.value?"Criar":"Salvar"),9,J2),d("button",{type:"button",onClick:W,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancelar ")])],32)])])])):Te("",!0)]),_:1}))}}),Y2={class:"flex h-full"},X2={class:"w-80 bg-white border-r border-gray-200 flex flex-col"},Q2={class:"px-4 py-6 border-b border-gray-200"},Z2={class:"mt-3"},eS={class:"relative"},tS={class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},nS={class:"flex-1 overflow-y-auto"},sS={class:"divide-y divide-gray-200"},rS=["onClick"],oS={class:"flex items-start space-x-3"},iS={class:"flex-shrink-0 relative"},aS={class:"h-10 w-10 rounded-full bg-primary-500 flex items-center justify-center"},lS={class:"text-white text-sm font-medium"},cS={key:0,class:"absolute -bottom-1 -right-1 h-3 w-3 bg-green-400 border-2 border-white rounded-full"},uS={class:"flex-1 min-w-0"},dS={class:"flex items-center justify-between"},fS={class:"text-sm font-medium text-gray-900 truncate"},hS={class:"flex items-center space-x-1"},mS={key:0,class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800"},pS={class:"text-xs text-gray-500"},gS={class:"text-sm text-gray-500 truncate mt-1"},vS={class:"flex-1 flex flex-col"},wS={key:0,class:"flex-1 flex items-center justify-center bg-gray-50"},yS={class:"text-center"},bS={key:1,class:"flex-1 flex flex-col"},_S={class:"px-6 py-4 border-b border-gray-200 bg-white"},xS={class:"flex items-center justify-between"},SS={class:"flex items-center space-x-3"},kS={class:"flex-shrink-0 relative"},ES={class:"h-10 w-10 rounded-full bg-primary-500 flex items-center justify-center"},OS={class:"text-white text-sm font-medium"},TS={key:0,class:"absolute -bottom-1 -right-1 h-3 w-3 bg-green-400 border-2 border-white rounded-full"},CS={class:"text-lg font-medium text-gray-900"},AS={class:"text-sm text-gray-500"},RS={class:"flex items-center space-x-2"},$S={type:"button",class:"p-2 text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 rounded-md"},PS={type:"button",class:"p-2 text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 rounded-md"},jS={class:"text-sm"},IS={key:0,class:"ml-1"},MS={class:"px-6 py-4 bg-white border-t border-gray-200"},DS={class:"flex-1"},NS=["onKeydown"],LS=["disabled"],US=st({__name:"ChatView",setup(t){const e=hn(),n=J(""),s=J(null),r=J([]),o=J([]),i=J(""),a=J(!1),l=J(null),u=Ne(()=>n.value?r.value.filter(b=>b.client_name.toLowerCase().includes(n.value.toLowerCase())):r.value),c=b=>po(new Date(b),{addSuffix:!0,locale:In}),f=b=>zi(new Date(b),"HH:mm",{locale:In}),h=async b=>{s.value=b,await m(b.client_cnpj),b.unread_count>0&&(await It.markAsRead(b.client_cnpj),b.unread_count=0)},m=async b=>{try{o.value=await It.getMessages(b),await w()}catch(x){console.error("Erro ao carregar mensagens:",x)}},p=async()=>{var _;if(!i.value.trim()||!s.value||a.value)return;a.value=!0;const b=i.value.trim();i.value="";const x={id:Date.now().toString(),content:b,sender_id:"admin",sender_name:((_=e.user)==null?void 0:_.name)||"Suporte",timestamp:new Date().toISOString(),is_from_client:!1,client_cnpj:s.value.client_cnpj,read:!1};o.value.push(x),await w();try{if(await It.sendMessage(s.value.client_cnpj,b)){s.value.last_message=b,s.value.last_message_time=new Date().toISOString();const U=r.value.findIndex(W=>{var R;return W.client_cnpj===((R=s.value)==null?void 0:R.client_cnpj)});if(U>0){const W=r.value.splice(U,1)[0];r.value.unshift(W)}}}catch(O){console.error("Erro ao enviar mensagem:",O)}finally{a.value=!1}},w=async()=>{await Ks(),l.value&&(l.value.scrollTop=l.value.scrollHeight)},g=async()=>{var b;try{r.value=await It.getChatSessions(((b=e.user)==null?void 0:b.filial_id)||"matriz")}catch(x){console.error("Erro ao carregar sessões de chat:",x)}};return es(o,()=>{w()},{deep:!0}),Gt(()=>{g()}),(b,x)=>(j(),ie(mn,null,{default:De(()=>[d("div",Y2,[d("div",X2,[d("div",Q2,[x[3]||(x[3]=d("h2",{class:"text-lg font-medium text-gray-900"},"Atendimentos",-1)),d("div",Z2,[d("div",eS,[ue(d("input",{"onUpdate:modelValue":x[0]||(x[0]=_=>n.value=_),type:"text",class:"block w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Buscar cliente..."},null,512),[[Se,n.value]]),d("div",tS,[G(xe(ud),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])])])]),d("div",nS,[d("div",sS,[(j(!0),H(ge,null,Ye(u.value,_=>{var O;return j(),H("div",{key:_.client_cnpj,class:Ee(["px-4 py-4 hover:bg-gray-50 cursor-pointer transition-colors",{"bg-primary-50":((O=s.value)==null?void 0:O.client_cnpj)===_.client_cnpj}]),onClick:U=>h(_)},[d("div",oS,[d("div",iS,[d("div",aS,[d("span",lS,L(_.client_name.charAt(0)),1)]),_.is_online?(j(),H("div",cS)):Te("",!0)]),d("div",uS,[d("div",dS,[d("p",fS,L(_.client_name),1),d("div",hS,[_.unread_count>0?(j(),H("span",mS,L(_.unread_count),1)):Te("",!0),d("span",pS,L(c(_.last_message_time)),1)])]),d("p",gS,L(_.last_message),1)])])],10,rS)}),128))])])]),d("div",vS,[s.value?(j(),H("div",bS,[d("div",_S,[d("div",xS,[d("div",SS,[d("div",kS,[d("div",ES,[d("span",OS,L(s.value.client_name.charAt(0)),1)]),s.value.is_online?(j(),H("div",TS)):Te("",!0)]),d("div",null,[d("h3",CS,L(s.value.client_name),1),d("p",AS,L(s.value.is_online?"Online":"Offline"),1)])]),d("div",RS,[d("button",$S,[G(xe(ty),{class:"h-5 w-5"})]),d("button",PS,[G(xe(Yw),{class:"h-5 w-5"})])])])]),d("div",{ref_key:"messagesContainer",ref:l,class:"flex-1 overflow-y-auto p-6 bg-gray-50 space-y-4"},[(j(!0),H(ge,null,Ye(o.value,_=>(j(),H("div",{key:_.id,class:Ee(["flex",_.is_from_client?"justify-start":"justify-end"])},[d("div",{class:Ee(["max-w-xs lg:max-w-md px-4 py-2 rounded-lg",_.is_from_client?"bg-white text-gray-900":"bg-primary-600 text-white"])},[d("p",jS,L(_.content),1),d("p",{class:Ee(["text-xs mt-1",_.is_from_client?"text-gray-500":"text-primary-100"])},[ke(L(f(_.timestamp))+" ",1),!_.read&&!_.is_from_client?(j(),H("span",IS,"✓")):Te("",!0)],2)],2)],2))),128))],512),d("div",MS,[d("form",{onSubmit:$n(p,["prevent"]),class:"flex space-x-4"},[d("div",DS,[ue(d("textarea",{"onUpdate:modelValue":x[1]||(x[1]=_=>i.value=_),rows:"2",class:"block w-full border border-gray-300 rounded-md resize-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Digite sua mensagem...",onKeydown:[Ca($n(p,["exact","prevent"]),["enter"]),x[2]||(x[2]=Ca($n(_=>i.value+=`
`,["shift","exact"]),["enter"]))]},null,40,NS),[[Se,i.value]])]),d("button",{type:"submit",disabled:!i.value.trim()||a.value,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed"},[G(xe(ey),{class:"h-5 w-5"})],8,LS)],32)])])):(j(),H("div",wS,[d("div",yS,[G(xe(Ur),{class:"mx-auto h-12 w-12 text-gray-400"}),x[4]||(x[4]=d("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Selecione um atendimento",-1)),x[5]||(x[5]=d("p",{class:"mt-1 text-sm text-gray-500"}," Escolha uma conversa na lista ao lado para começar o atendimento. ",-1))])]))])])]),_:1}))}}),FS={class:"py-6"},BS={class:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8"},qS={class:"sm:flex sm:items-center"},HS={class:"sm:flex-auto"},WS={class:"mt-2 text-sm text-gray-700"},VS={class:"mt-8 flex flex-col"},zS={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8"},KS={class:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8"},JS={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"},GS={class:"min-w-full divide-y divide-gray-300"},YS={class:"bg-white divide-y divide-gray-200"},XS={class:"px-6 py-4 whitespace-nowrap"},QS={class:"flex items-center"},ZS={class:"flex-shrink-0 h-10 w-10"},ek={class:"h-10 w-10 rounded-full bg-primary-500 flex items-center justify-center"},tk={class:"text-white text-sm font-medium"},nk={class:"ml-4"},sk={class:"text-sm font-medium text-gray-900"},rk={class:"text-sm text-gray-500"},ok={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ik={class:"px-6 py-4 whitespace-nowrap"},ak={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},lk=st({__name:"ClientsView",setup(t){const e=hn(),n=J([]),s=i=>i.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"),r=i=>zi(new Date(i),"dd/MM/yyyy HH:mm",{locale:In}),o=async()=>{var i;try{n.value=await It.getClients(((i=e.user)==null?void 0:i.filial_id)||"matriz")}catch(a){console.error("Erro ao carregar clientes:",a)}};return Gt(()=>{o()}),(i,a)=>(j(),ie(mn,null,{default:De(()=>{var l;return[d("div",FS,[d("div",BS,[d("div",qS,[d("div",HS,[a[0]||(a[0]=d("h1",{class:"text-xl font-semibold text-gray-900"},"Clientes",-1)),d("p",WS," Lista de todos os clientes da "+L((l=xe(e).user)==null?void 0:l.filial_id),1)]),a[1]||(a[1]=d("div",{class:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none"},[d("button",{type:"button",class:"inline-flex items-center justify-center rounded-md border border-transparent bg-primary-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 sm:w-auto"}," Novo Cliente ")],-1))]),d("div",VS,[d("div",zS,[d("div",KS,[d("div",JS,[d("table",GS,[a[3]||(a[3]=d("thead",{class:"bg-gray-50"},[d("tr",null,[d("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Cliente "),d("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," CNPJ "),d("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),d("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Último Login "),d("th",{class:"relative px-6 py-3"},[d("span",{class:"sr-only"},"Ações")])])],-1)),d("tbody",YS,[(j(!0),H(ge,null,Ye(n.value,u=>(j(),H("tr",{key:u.id},[d("td",XS,[d("div",QS,[d("div",ZS,[d("div",ek,[d("span",tk,L(u.nome_empresa.charAt(0)),1)])]),d("div",nk,[d("div",sk,L(u.nome_empresa),1),d("div",rk,L(u.email),1)])])]),d("td",ok,L(s(u.cnpj)),1),d("td",ik,[d("span",{class:Ee(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",u.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},L(u.is_active?"Ativo":"Inativo"),3)]),d("td",ak,L(u.last_login?r(u.last_login):"Nunca"),1),a[2]||(a[2]=d("td",{class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},[d("button",{class:"text-primary-600 hover:text-primary-900"}," Editar ")],-1))]))),128))])])])])])])])])]}),_:1}))}}),ck=st({__name:"ReportsView",setup(t){return(e,n)=>(j(),ie(mn,null,{default:De(()=>[...n[0]||(n[0]=[d("div",{class:"py-6"},[d("div",{class:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8"},[d("h1",{class:"text-2xl font-semibold text-gray-900"},"Relatórios"),d("div",{class:"mt-6 bg-white shadow rounded-lg p-6"},[d("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Relatórios de Vendas"),d("p",{class:"text-gray-500"},"Sistema de relatórios em desenvolvimento...")])])],-1)])]),_:1}))}}),uk=st({__name:"FinancialView",setup(t){return(e,n)=>(j(),ie(mn,null,{default:De(()=>[...n[0]||(n[0]=[d("div",{class:"py-6"},[d("div",{class:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8"},[d("h1",{class:"text-2xl font-semibold text-gray-900"},"Gestão Financeira"),d("div",{class:"mt-6 bg-white shadow rounded-lg p-6"},[d("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Boletos e Cobranças"),d("p",{class:"text-gray-500"},"Sistema de gestão financeira em desenvolvimento...")])])],-1)])]),_:1}))}}),vd=Zm({history:Am("/APP_Dnotas/"),routes:[{path:"/",redirect:"/dashboard"},{path:"/login",name:"login",component:Cw,meta:{requiresGuest:!0}},{path:"/register",name:"register",component:zw,meta:{requiresGuest:!0}},{path:"/dashboard",name:"dashboard",component:l1,meta:{requiresAuth:!0}},{path:"/admin/dashboard",name:"admin-dashboard",component:wx,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/admin/filiais",name:"admin-filiais",component:r2,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/admin/funcionarios",name:"admin-funcionarios",component:G2,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/chat",name:"chat",component:US,meta:{requiresAuth:!0}},{path:"/clients",name:"clients",component:lk,meta:{requiresAuth:!0}},{path:"/reports",name:"reports",component:ck,meta:{requiresAuth:!0}},{path:"/financial",name:"financial",component:uk,meta:{requiresAuth:!0}}]});vd.beforeEach((t,e,n)=>{const s=hn();if(t.meta.requiresAuth&&!s.isAuthenticated)n("/login");else if(t.meta.requiresGuest&&s.isAuthenticated){const r=s.user;(r==null?void 0:r.organizacao_tipo)==="matriz"&&(r==null?void 0:r.role)==="admin"?n("/admin/dashboard"):n("/dashboard")}else if(t.meta.requiresAdmin){const r=s.user;!r||r.organizacao_tipo!=="matriz"||r.role!=="admin"?n("/dashboard"):n()}else n()});const Ki=qh(hw);Ki.use(Vh());Ki.use(vd);Ki.mount("#app");
//# sourceMappingURL=index-C855W2wA.js.map
